(()=>{var e={477:()=>{},528:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/pot_of_gold_logo.1d9a870e366f20d97b78.png"},1250:()=>{},1463:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ReactNativeTracing:()=>p,ReactNavigationInstrumentation:()=>h,addBreadcrumb:()=>u,captureException:()=>a,captureMessage:()=>s,configureScope:()=>d,default:()=>g,init:()=>i,setContext:()=>c,setUser:()=>l,withScope:()=>f});var o=n(6212),r=n(6786),i=function(){},a=function(){},s=function(){},l=function(){},c=function(){},u=function(){},d=function(){},f=function(){},p=(0,o.default)(function e(){(0,r.default)(this,e)}),h=(0,o.default)(function e(){(0,r.default)(this,e)});const g={init:i,captureException:a,captureMessage:s,setUser:l,setContext:c,addBreadcrumb:u,configureScope:d,withScope:f,ReactNativeTracing:p,ReactNavigationInstrumentation:h}},2430:()=>{},2790:()=>{},4363:()=>{},4708:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_r});var o=n(908),r=n(4980),i=n(3842),a=n(5678),s=n(7943),l=n(7435),c=n(4316),u=n(9918);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={coins:100,totalCoins:100,highScore:0,currentScore:0,level:1,potLevel:1,potSpeed:1,potSize:1,magnetActive:!1,slowMotionActive:!1,doublePointsActive:!1,goldRushActive:!1,magnetDuration:0,slowMotionDuration:0,doublePointsDuration:0,goldRushDuration:0,isPlaying:!1,isPaused:!1,gameSpeed:1,ownedSkins:["default"],currentSkin:"default",soundEnabled:!0,vibrationEnabled:!0,tiltControlsEnabled:!1,gamesPlayed:0,totalPlayTime:0,coinsCollected:0,powerUpsUsed:0,achievements:[]},h=(0,a.createContext)(void 0),g=function(){var e=(0,a.useContext)(h);if(!e)throw new Error("useGameContext must be used within a GameProvider");return e},m=function(e){var t=e.children,n=(0,a.useState)(p),s=(0,i.default)(n,2),l=s[0],d=s[1],g=(0,a.useRef)({}),m=function(){var e=(0,r.default)(function*(){try{yield c.default.setItem("gameData",JSON.stringify(l))}catch(e){console.error("Error saving game data:",e)}});return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("gameData");if(e){var t=JSON.parse(e);d(function(e){return f(f({},e),t)})}}catch(n){console.error("Error loading game data:",n)}});return function(){return e.apply(this,arguments)}}();(0,a.useEffect)(function(){m()},[l]),(0,a.useEffect)(function(){y()},[]);var v={gameState:l,updateGameState:function(e){d(function(t){return f(f({},t),e)})},addCoins:function(e){d(function(t){return f(f({},t),{},{coins:t.coins+e,totalCoins:t.totalCoins+e,coinsCollected:t.coinsCollected+e})})},addScore:function(e){d(function(t){var n=t.currentScore+e,o=Math.max(t.highScore,n);return f(f({},t),{},{currentScore:n,highScore:o})})},activatePowerUp:function(e,t){d(function(n){return f(f({},n),{},(0,o.default)((0,o.default)({powerUpsUsed:n.powerUpsUsed+1},`${e}Active`,!0),`${e}Duration`,t))});var n=setTimeout(function(){d(function(t){return f(f({},t),{},(0,o.default)((0,o.default)({},`${e}Active`,!1),`${e}Duration`,0))})},t);g.current[e]=n},resetGame:function(){d(function(e){return f(f({},e),{},{currentScore:0,level:1,isPlaying:!1,isPaused:!1,gameSpeed:1,magnetActive:!1,slowMotionActive:!1,doublePointsActive:!1,goldRushActive:!1,magnetDuration:0,slowMotionDuration:0,doublePointsDuration:0,goldRushDuration:0})})},saveGameData:m,loadGameData:y};return(0,u.jsx)(h.Provider,{value:v,children:t})},y=n(8840),v=n(2377),b=n(1165),w=n(3461),k={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_API_KEY||"AIzaSyBJSp7vX2-SOWCpjbgTEAPj_T9QQL72JX4",authDomain:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN||"potofgold-production.firebaseapp.com",projectId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_PROJECT_ID||"potofgold-production",storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET||"potofgold-production.firebasestorage.app",messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"511446280789",appId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_APP_ID||"1:511446280789:web:f52cfd9a863631ad0b82dc",measurementId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-GFP64LBLZ3"};k.apiKey&&k.authDomain&&k.projectId||console.error("Missing required Firebase configuration. Using fallback values.");var x=0===(0,b.getApps)().length?(0,b.initializeApp)(k):(0,b.getApps)()[0],S=(0,v.getFirestore)(x),F=(0,w.getAuth)(x);var C={black_history_month:{start:"02-01",end:"02-28"},hispanic_heritage:{start:"09-15",end:"10-15"},winter_holidays:{start:"12-20",end:"01-05"},independence_day:{start:"07-01",end:"07-05"},spring_festival:{start:"04-01",end:"04-14"},pride_month:{start:"06-01",end:"06-30"},presidents_day:{start:"02-15",end:"02-22"},thanksgiving:{start:"11-20",end:"11-30"},valentines_day:{start:"02-10",end:"02-16"},st_patricks_day:{start:"03-15",end:"03-18"},memorial_day:{start:"05-25",end:"05-31"},labor_day:{start:"09-01",end:"09-07"},veterans_day:{start:"11-10",end:"11-12"},christmas:{start:"12-20",end:"12-26"},new_year:{start:"12-30",end:"01-03"},easter:{start:"04-01",end:"04-15"},halloween:{start:"10-25",end:"11-02"},summer_solstice:{start:"06-20",end:"06-22"},winter_solstice:{start:"12-21",end:"12-23"},earth_day:{start:"04-20",end:"04-24"}};function _(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,o=`${((t=n).getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`,r=C[e],i=r.start,a=r.end;return i>a?o>=i||o<=a:o>=i&&o<=a}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Object.keys(C).filter(function(t){return _(t,e)})}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D=(0,a.createContext)(void 0);function A(e){var t=e.children,n=(0,a.useState)({unlockedSkins:[],selectedCartSkin:null,lastUpdated:new Date}),o=(0,i.default)(n,2),s=o[0],l=o[1],c=(0,a.useState)(!0),d=(0,i.default)(c,2),f=d[0],p=d[1];(0,a.useEffect)(function(){var e=F.onAuthStateChanged(function(){var e=(0,r.default)(function*(e){e?yield h(e.uid):l({unlockedSkins:[],selectedCartSkin:null,lastUpdated:new Date}),p(!1)});return function(t){return e.apply(this,arguments)}}());return e},[]);var h=function(){var e=(0,r.default)(function*(e){try{p(!0);var t=yield(0,v.getDoc)((0,v.doc)(S,"users",e));if(t.exists()){var n,o=t.data(),r=o.unlocks||[],i=(null==(n=o.profile)?void 0:n.skin)||null;l({unlockedSkins:r,selectedCartSkin:i,lastUpdated:new Date})}else l({unlockedSkins:[],selectedCartSkin:null,lastUpdated:new Date})}catch(a){console.error("Error loading user unlocks:",a),l({unlockedSkins:[],selectedCartSkin:null,lastUpdated:new Date})}finally{p(!1)}});return function(t){return e.apply(this,arguments)}}(),g=function(e){return s.unlockedSkins.includes(e)},m=function(){var e=(0,r.default)(function*(e){try{var t=F.currentUser;return!!t&&(g(e)?(console.log(`Skin ${e} is already unlocked`),!0):(yield(0,v.updateDoc)((0,v.doc)(S,"users",t.uid),{unlocks:(0,v.arrayUnion)(e),lastUpdated:new Date}),l(function(t){return E(E({},t),{},{unlockedSkins:[].concat((0,y.default)(t.unlockedSkins),[e]),lastUpdated:new Date})}),console.log(`Successfully unlocked skin: ${e}`),!0))}catch(n){return console.error("Error unlocking skin:",n),!1}});return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.default)(function*(e){try{var t=F.currentUser;return!!t&&(g(e)?(yield(0,v.updateDoc)((0,v.doc)(S,"users",t.uid),{"profile.skin":e,lastUpdated:new Date}),l(function(t){return E(E({},t),{},{selectedCartSkin:e,lastUpdated:new Date})}),console.log(`Successfully selected skin: ${e}`),!0):(console.error(`Cannot select locked skin: ${e}`),!1))}catch(n){return console.error("Error selecting cart skin:",n),!1}});return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.default)(function*(){var e=F.currentUser;e&&(yield h(e.uid))});return function(){return e.apply(this,arguments)}}(),k=function(e){return{georgia_bhm:{rarity:"seasonal",season:"black_history_month"},texas_hispanic:{rarity:"seasonal",season:"hispanic_heritage"},california_hispanic:{rarity:"seasonal",season:"hispanic_heritage"}}[e]},x={userUnlocks:s,isLoading:f,isSkinUnlocked:g,getSelectedCartSkin:function(){return s.selectedCartSkin},unlockSkin:m,selectCartSkin:b,refreshUnlocks:w,isSeasonalSkinAvailable:function(e){try{var t=k(e);return!(!t||"seasonal"!==t.rarity||!t.season)&&_(t.season)}catch(n){return console.error("Error checking seasonal skin availability:",n),!1}}};return(0,u.jsx)(D.Provider,{value:x,children:t})}function I(){var e=(0,a.useContext)(D);if(void 0===e)throw new Error("useUserUnlocks must be used within a UserUnlockProvider");return e}var T=n(1193),O=n(9840),B=n(6901),U={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_API_KEY||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_API_KEY||"",authDomain:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_AUTH_DOMAIN||"",projectId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_PROJECT_ID||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_PROJECT_ID||"",storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_STORAGE_BUCKET||"",messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_MESSAGING_SENDER_ID||"",appId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_APP_ID||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_APP_ID||"",measurementId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MEASUREMENT_ID||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_MEASUREMENT_ID||""};U.apiKey&&U.authDomain&&U.projectId||console.error("Firebase configuration is incomplete. Please check your environment variables.");var M=0===(0,b.getApps)().length?(0,b.initializeApp)(U):(0,b.getApps)()[0],R=(0,w.getAuth)(M),z=(0,v.getFirestore)(M),L=z;(0,T.getStorage)(M),(0,B.getFunctions)(M);"undefined"!==typeof window&&(0,O.isSupported)().then(function(e){e&&(0,O.getAnalytics)(M)});function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var V=(0,a.createContext)(void 0),G=function(){var e=(0,a.useContext)(V);if(!e)throw new Error("useUnlocks must be used within UnlocksProvider");return e},H=function(e){var t=e.children,n=(0,a.useState)(null),o=(0,i.default)(n,2),s=o[0],l=o[1],d=(0,a.useState)(!0),f=(0,i.default)(d,2),p=f[0],h=f[1],g=(0,a.useState)(null),m=(0,i.default)(g,2),b=m[0],k=m[1],x=(0,a.useState)(null),S=(0,i.default)(x,2),F=S[0],C=S[1],_=(0,a.useState)(null),j=(0,i.default)(_,2),P=j[0],E=j[1];(0,a.useEffect)(function(){var e=(0,w.onAuthStateChanged)(R,function(){var e=(0,r.default)(function*(e){C(e),e?(yield D(e.uid),A(e.uid)):(l(null),P&&P()),h(!1)});return function(t){return e.apply(this,arguments)}}());return function(){e(),P&&P()}},[]);var D=function(){var e=(0,r.default)(function*(e){try{h(!0),k(null);var t=yield c.default.getItem(`unlocks_${e}`);t&&l(JSON.parse(t));var n=(0,v.doc)(L,"users",e,"unlocks","data"),o=yield new Promise(function(e){var t=(0,v.onSnapshot)(n,function(t){return e(t.exists()?t.data():void 0)},function(t){console.error("Error loading unlocks:",t),k("Failed to load unlocks"),e(void 0)});E(function(){return t})});if(o){var r=T(e,o);l(r),yield c.default.setItem(`unlocks_${e}`,JSON.stringify(r))}else yield I(e)}catch(i){console.error("Error in loadUserUnlocks:",i),k("Failed to load user unlocks")}finally{h(!1)}});return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=(0,v.doc)(L,"users",e,"unlocks","data"),n=(0,v.onSnapshot)(t,function(){var t=(0,r.default)(function*(t){if(t.exists()){var n=T(e,t.data());l(n),yield c.default.setItem(`unlocks_${e}`,JSON.stringify(n))}});return function(e){return t.apply(this,arguments)}}(),function(e){console.error("Error in unlocks subscription:",e),k("Failed to sync unlocks")});E(function(){return n})},I=function(){var e=(0,r.default)(function*(e){var t={uid:e,cartSkins:[{id:"default",name:"Classic Cart",state:"default",rarity:"common",unlockedAt:new Date,equipped:!0}],trails:[{id:"sparkle",name:"Sparkle Trail",effect:"sparkle",color:"#FFD700",particleType:"star",unlockedAt:new Date,equipped:!0}],stateFlags:[],powerUps:[{id:"magnet",name:"Coin Magnet",level:1,maxLevel:5,effect:"attract_coins",duration:5e3,unlockedAt:new Date}],achievements:[],statistics:{totalUnlocks:3,totalStatesUnlocked:0,totalSkinsUnlocked:1,totalTrailsUnlocked:1,lastUnlock:new Date}};try{var n=(0,v.doc)(L,"users",e,"unlocks","data");yield(0,v.setDoc)(n,W(W({},t),{},{createdAt:(0,v.serverTimestamp)(),updatedAt:(0,v.serverTimestamp)()})),l(t),yield c.default.setItem(`unlocks_${e}`,JSON.stringify(t))}catch(o){console.error("Error initializing default unlocks:",o),k("Failed to initialize unlocks")}});return function(t){return e.apply(this,arguments)}}(),T=function(e,t){return{uid:e,cartSkins:t.cartSkins||[],trails:t.trails||[],stateFlags:t.stateFlags||[],powerUps:t.powerUps||[],achievements:t.achievements||[],statistics:t.statistics||{totalUnlocks:0,totalStatesUnlocked:0,totalSkinsUnlocked:0,totalTrailsUnlocked:0}}},O=function(){var e=(0,r.default)(function*(e){if(F&&s){var t={id:e,name:Q(e),state:J(e),rarity:X(e),unlockedAt:new Date,equipped:!1},n=W(W({},s),{},{cartSkins:[].concat((0,y.default)(s.cartSkins),[t]),statistics:W(W({},s.statistics),{},{totalSkinsUnlocked:s.statistics.totalSkinsUnlocked+1,totalUnlocks:s.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.default)(function*(e){if(F&&s){var t=s.cartSkins.map(function(t){return W(W({},t),{},{equipped:t.id===e})}),n=W(W({},s),{},{cartSkins:t});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.default)(function*(e){if(F&&s){var t={id:e,name:Z(e),effect:ee(e),color:te(e),particleType:ne(e),unlockedAt:new Date,equipped:!1},n=W(W({},s),{},{trails:[].concat((0,y.default)(s.trails),[t]),statistics:W(W({},s.statistics),{},{totalTrailsUnlocked:s.statistics.totalTrailsUnlocked+1,totalUnlocks:s.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,r.default)(function*(e){if(F&&s){var t=s.trails.map(function(t){return W(W({},t),{},{equipped:t.id===e})}),n=W(W({},s),{},{trails:t});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,r.default)(function*(e){if(F&&s){var t={id:e,stateName:oe(e),abbreviation:re(e),capitalCity:ie(e),unlockedAt:new Date,progress:0,rewards:ae(e)},n=W(W({},s),{},{stateFlags:[].concat((0,y.default)(s.stateFlags),[t]),statistics:W(W({},s.statistics),{},{totalStatesUnlocked:s.statistics.totalStatesUnlocked+1,totalUnlocks:s.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,r.default)(function*(e,t){if(F&&s){var n=s.stateFlags.map(function(n){return n.id===e?W(W({},n),{},{progress:Math.min(100,Math.max(0,t))}):n}),o=W(W({},s),{},{stateFlags:n});yield $(o)}});return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=(0,r.default)(function*(e){if(F&&s){var t={id:e,name:se(e),level:1,maxLevel:5,effect:le(e),duration:ce(e),unlockedAt:new Date},n=W(W({},s),{},{powerUps:[].concat((0,y.default)(s.powerUps),[t]),statistics:W(W({},s.statistics),{},{totalUnlocks:s.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.default)(function*(e){if(F&&s){var t=s.powerUps.map(function(t){return t.id===e&&t.level<t.maxLevel?W(W({},t),{},{level:t.level+1}):t}),n=W(W({},s),{},{powerUps:t});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.default)(function*(e,t){if(F&&s){var n={id:e,name:ue(e),description:de(e),icon:fe(e),unlockedAt:new Date,reward:t},o=W(W({},s),{},{achievements:[].concat((0,y.default)(s.achievements),[n]),statistics:W(W({},s.statistics),{},{totalUnlocks:s.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(o)}});return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=(0,r.default)(function*(e){if(F)try{var t=(0,v.doc)(L,"users",F.uid,"unlocks","data");yield(0,v.updateDoc)(t,W(W({},e),{},{updatedAt:(0,v.serverTimestamp)()})),l(e),yield c.default.setItem(`unlocks_${F.uid}`,JSON.stringify(e))}catch(n){console.error("Error updating unlocks:",n),k("Failed to update unlocks")}});return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,r.default)(function*(){F&&(yield D(F.uid))});return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,r.default)(function*(){F&&(yield I(F.uid))});return function(){return e.apply(this,arguments)}}(),Q=function(e){return{texas:"Texas Ranger",california:"Golden State",florida:"Sunshine Express",newyork:"Empire Cart",arizona:"Desert Runner"}[e]||"Mystery Cart"},J=function(e){return e},X=function(e){return{default:"common",texas:"rare",california:"epic",florida:"rare",newyork:"epic",arizona:"rare"}[e]||"common"},Z=function(e){return{sparkle:"Sparkle Trail",rainbow:"Rainbow Trail",fire:"Fire Trail",ice:"Ice Trail",golden:"Golden Trail"}[e]||"Mystery Trail"},ee=function(e){return e},te=function(e){return{sparkle:"#FFD700",rainbow:"#FF69B4",fire:"#FF4500",ice:"#00BFFF",golden:"#FFD700"}[e]||"#FFFFFF"},ne=function(e){return{sparkle:"star",rainbow:"rainbow",fire:"flame",ice:"snowflake",golden:"coin"}[e]||"star"},oe=function(e){return{texas:"Texas",california:"California",florida:"Florida",newyork:"New York",arizona:"Arizona"}[e]||"Unknown State"},re=function(e){return{texas:"TX",california:"CA",florida:"FL",newyork:"NY",arizona:"AZ"}[e]||"XX"},ie=function(e){return{texas:"Austin",california:"Sacramento",florida:"Tallahassee",newyork:"Albany",arizona:"Phoenix"}[e]||"Unknown"},ae=function(e){return{coins:1e3,gems:50,specialItem:`${e}_special`}},se=function(e){return{magnet:"Coin Magnet",shield:"Golden Shield",multiplier:"Score Multiplier",slowtime:"Time Slower"}[e]||"Mystery Power"},le=function(e){return`${e}_effect`},ce=function(e){return 1e4},ue=function(e){return`Achievement: ${e}`},de=function(e){return`Complete ${e} to unlock rewards`},fe=function(e){return"\ud83c\udfc6"},pe={unlocks:s,loading:p,error:b,unlockCartSkin:O,equipCartSkin:B,getEquippedCartSkin:function(){return null==s?void 0:s.cartSkins.find(function(e){return e.equipped})},unlockTrail:U,equipTrail:M,getEquippedTrail:function(){return null==s?void 0:s.trails.find(function(e){return e.equipped})},unlockStateFlag:z,updateStateProgress:N,getStateFlag:function(e){return null==s?void 0:s.stateFlags.find(function(t){return t.id===e})},unlockPowerUp:G,upgradePowerUp:H,unlockAchievement:q,syncUnlocks:K,resetUnlocks:Y,getTotalUnlocksCount:function(){return(null==s?void 0:s.statistics.totalUnlocks)||0}};return(0,u.jsx)(V.Provider,{value:pe,children:t})};var q=n(3932),$=n(9457),K=n(6529),Y=n(6794),Q=n(6786),J=n(6212),X=new((0,J.default)(function e(){(0,Q.default)(this,e),this.deviceId=null},[{key:"getDeviceId",value:function(){var e=(0,r.default)(function*(){try{if(this.deviceId)return this.deviceId;var e=yield c.default.getItem("device_id");if(e)return this.deviceId=e,e;var t=yield this.generateDeviceId();return yield c.default.setItem("device_id",t),yield c.default.setItem("device_first_seen",(new Date).toISOString()),this.deviceId=t,t}catch(o){console.error("Error getting device ID:",o);var n=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return this.deviceId=n,n}});return function(){return e.apply(this,arguments)}}()},{key:"generateDeviceId",value:function(){var e=(0,r.default)(function*(){return`${Y.default.OS}_${this.generateUUID()}`});return function(){return e.apply(this,arguments)}}()},{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{key:"hasCompletedOnboarding",value:function(){var e=(0,r.default)(function*(){try{var e=yield this.getDeviceId(),t=yield c.default.getItem("hasSeenOnboarding"),n=yield c.default.getItem("onboarding_device_id");return"true"===t&&n===e}catch(o){return console.error("Error checking onboarding status:",o),"true"===(yield c.default.getItem("hasSeenOnboarding"))}});return function(){return e.apply(this,arguments)}}()},{key:"markOnboardingCompleted",value:function(){var e=(0,r.default)(function*(){try{var e=yield this.getDeviceId();yield c.default.multiSet([["hasSeenOnboarding","true"],["onboarding_device_id",e],["onboarding_completed_at",(new Date).toISOString()]]),console.log(`Onboarding marked as completed for device: ${e}`)}catch(t){console.error("Error marking onboarding as completed:",t),yield c.default.setItem("hasSeenOnboarding","true")}});return function(){return e.apply(this,arguments)}}()},{key:"getDeviceAnalytics",value:function(){var e=(0,r.default)(function*(){try{var e=yield this.getDeviceId(),t=yield c.default.getItem("device_first_seen"),n=(new Date).toISOString();yield c.default.setItem("device_last_seen",n);var o=yield c.default.getItem("device_session_count"),r=o?parseInt(o,10)+1:1;return yield c.default.setItem("device_session_count",r.toString()),{deviceId:e,platform:Y.default.OS,firstSeen:t,lastSeen:n,sessionCount:r,screenWidth:"web"===Y.default.OS?window.innerWidth:void 0,screenHeight:"web"===Y.default.OS?window.innerHeight:void 0}}catch(i){return console.error("Error getting device analytics:",i),null}});return function(){return e.apply(this,arguments)}}()},{key:"clearDeviceData",value:function(){var e=(0,r.default)(function*(){try{yield c.default.multiRemove(["device_id","device_first_seen","device_last_seen","device_session_count","hasSeenOnboarding","onboarding_device_id","onboarding_completed_at"]),this.deviceId=null,console.log("Device tracking data cleared")}catch(e){console.error("Error clearing device data:",e)}});return function(){return e.apply(this,arguments)}}()}])),Z=function(){return X.hasCompletedOnboarding()},ee=function(){return X.markOnboardingCompleted()},te=function(){return X.getDeviceAnalytics()},ne=n(8830),oe=n(7653),re=n(100),ie=n(1590);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var le=re.default.get("window"),ce=le.width,ue=le.height;function de(e){var t=e.onComplete,o=e.duration,r=void 0===o?2500:o,i=(0,a.useRef)(new oe.default.Value(0)).current,s=(0,a.useRef)(new oe.default.Value(.8)).current,l=(0,a.useRef)(new oe.default.Value(0)).current,c=(0,a.useRef)(new oe.default.Value(0)).current,d=(0,a.useRef)(new oe.default.Value(0)).current;(0,a.useEffect)(function(){oe.default.parallel([oe.default.timing(i,{toValue:1,duration:500,useNativeDriver:!0}),oe.default.spring(s,{toValue:1,friction:4,tension:40,useNativeDriver:!0}),oe.default.loop(oe.default.sequence([oe.default.timing(l,{toValue:1,duration:2e3,useNativeDriver:!0}),oe.default.timing(l,{toValue:0,duration:2e3,useNativeDriver:!0})])),oe.default.timing(c,{toValue:1,duration:r-500,useNativeDriver:!1}),oe.default.loop(oe.default.sequence([oe.default.timing(d,{toValue:1,duration:1500,useNativeDriver:!0}),oe.default.timing(d,{toValue:0,duration:1500,useNativeDriver:!0})]))]).start();var e=setTimeout(function(){oe.default.timing(i,{toValue:0,duration:300,useNativeDriver:!0}).start(function(){null==t||t()})},r);return function(){return clearTimeout(e)}},[]);var f=l.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]}),p=d.interpolate({inputRange:[0,1],outputRange:[-ce,ce]});return(0,u.jsxs)(oe.default.View,{style:[fe.container,{opacity:i}],children:[(0,u.jsx)(ie.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:K.default.absoluteFillObject}),(0,u.jsx)(q.default,{style:fe.particlesContainer,children:(0,y.default)(Array(20)).map(function(e,t){return(0,u.jsx)(oe.default.View,{style:[fe.particle,{left:Math.random()*ce,top:Math.random()*ue,opacity:d,transform:[{translateY:oe.default.multiply(d,100*Math.random()-50)}]}]},t)})}),(0,u.jsxs)(oe.default.View,{style:[fe.content,{transform:[{scale:s}]}],children:[(0,u.jsxs)(q.default,{style:fe.logoContainer,children:[(0,u.jsx)(oe.default.Image,{source:n(528),style:[fe.logo,{transform:[{rotate:f},{scale:s}]}],resizeMode:"contain"}),(0,u.jsx)(oe.default.View,{style:[fe.shimmer,{transform:[{translateX:p}]}],children:(0,u.jsx)(ie.LinearGradient,{colors:["transparent","rgba(255, 215, 0, 0.3)","transparent"],style:fe.shimmerGradient,start:{x:0,y:0},end:{x:1,y:0}})})]}),(0,u.jsxs)(oe.default.View,{style:fe.titleContainer,children:[(0,u.jsx)(ne.default,{style:fe.title,children:"POT OF GOLD"}),(0,u.jsx)(ne.default,{style:fe.subtitle,children:"Catch the Fortune!"})]}),(0,u.jsxs)(q.default,{style:fe.loadingContainer,children:[(0,u.jsx)(q.default,{style:fe.progressBarBg,children:(0,u.jsx)(oe.default.View,{style:[fe.progressBar,{width:c.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}],children:(0,u.jsx)(ie.LinearGradient,{colors:["#FFD700","#FFA500","#FFD700"],style:K.default.absoluteFillObject,start:{x:0,y:0},end:{x:1,y:0}})})}),(0,u.jsx)(oe.default.Text,{style:[fe.loadingText,{opacity:oe.default.multiply(i,d)}],children:"Loading Game Assets..."})]}),(0,u.jsx)(oe.default.View,{style:[fe.tipsContainer,{opacity:d}],children:(0,u.jsx)(ne.default,{style:fe.tipText,children:"\ud83d\udca1 Tip: Swipe left and right to move your cart!"})})]}),(0,u.jsx)(q.default,{style:fe.versionContainer,children:(0,u.jsx)(ne.default,{style:fe.versionText,children:"v1.0.0"})})]})}var fe=K.default.create({container:se(se({},K.default.absoluteFillObject),{},{justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a2e",zIndex:9999}),particlesContainer:se({},K.default.absoluteFillObject),particle:{position:"absolute",width:4,height:4,backgroundColor:"#FFD700",borderRadius:2},content:{alignItems:"center",justifyContent:"center"},logoContainer:{width:180,height:180,marginBottom:20,position:"relative",overflow:"hidden"},logo:{width:"100%",height:"100%"},shimmer:{position:"absolute",top:0,bottom:0,width:100},shimmerGradient:{flex:1},titleContainer:{alignItems:"center",marginBottom:40},title:{fontSize:42,fontWeight:"bold",color:"#FFD700",textShadowColor:"rgba(255, 215, 0, 0.5)",textShadowOffset:{width:0,height:0},textShadowRadius:20,letterSpacing:3},subtitle:{fontSize:18,color:"#FFA500",marginTop:8,fontStyle:"italic"},loadingContainer:{width:.7*ce,alignItems:"center"},progressBarBg:{width:"100%",height:8,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:4,overflow:"hidden",marginBottom:16},progressBar:{height:"100%",borderRadius:4},loadingText:{color:"#FFD700",fontSize:14,marginTop:8},tipsContainer:{marginTop:40,paddingHorizontal:40},tipText:{color:"rgba(255, 255, 255, 0.7)",fontSize:14,textAlign:"center"},versionContainer:{position:"absolute",bottom:20,right:20},versionText:{color:"rgba(255, 255, 255, 0.3)",fontSize:12}}),pe=n(4881),he=n(8205),ge=n(1147),me=n(2978);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var be=function(){function e(){(0,Q.default)(this,e),this.isOnline=!0,this.syncQueue=[],this.syncInProgress=!1}return(0,J.default)(e,[{key:"initialize",value:function(){var e=(0,r.default)(function*(){var e=this;me.default.addEventListener(function(t){var n;e.isOnline=null!=(n=t.isConnected)&&n,e.isOnline&&e.syncQueue.length>0&&e.syncPendingActions()}),yield this.loadOfflineData()});return function(){return e.apply(this,arguments)}}()},{key:"isConnected",value:function(){return this.isOnline}},{key:"saveOfflineData",value:function(){var e=(0,r.default)(function*(e,t){try{var n,o,r,i,a,s,l,u,d,f,p,h=`offline_data_${e}`,g=yield this.getOfflineData(e),m={userId:e,coins:null!=(n=null!=(o=t.coins)?o:g.coins)?n:0,highScore:null!=(r=null!=(i=t.highScore)?i:g.highScore)?r:0,gamesPlayed:null!=(a=null!=(s=t.gamesPlayed)?s:g.gamesPlayed)?a:0,achievements:null!=(l=null!=(u=t.achievements)?u:g.achievements)?l:[],purchases:null!=(d=null!=(f=t.purchases)?f:g.purchases)?d:[],lastSync:Date.now(),pendingActions:null!=(p=g.pendingActions)?p:[]};yield c.default.setItem(h,JSON.stringify(m))}catch(y){console.log("Error saving offline data:",y)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getOfflineData",value:function(){var e=(0,r.default)(function*(e){try{var t=`offline_data_${e}`,n=yield c.default.getItem(t);if(n)return JSON.parse(n)}catch(o){console.log("Error loading offline data:",o)}return{userId:e,coins:0,highScore:0,gamesPlayed:0,achievements:[],purchases:[],lastSync:Date.now(),pendingActions:[]}});return function(t){return e.apply(this,arguments)}}()},{key:"loadOfflineData",value:function(){var e=(0,r.default)(function*(e){try{var t=yield c.default.getItem(`offline_data_${e}`);return t?JSON.parse(t):null}catch(n){return console.error("Error loading offline data:",n),null}});return function(t){return e.apply(this,arguments)}}()},{key:"addPendingAction",value:function(){var e=(0,r.default)(function*(e,t){try{var n=yield this.getOfflineData(e),o=ve(ve({id:`action_${Date.now()}_${Math.random()}`},t),{},{timestamp:Date.now(),userId:e});n.pendingActions.push(o),yield this.saveOfflineData(e,n),this.isOnline&&this.syncPendingActions()}catch(r){console.log("Error adding pending action:",r)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncPendingActions",value:function(){var e=(0,r.default)(function*(){if(!this.syncInProgress&&this.isOnline){this.syncInProgress=!0;try{var e=(yield c.default.getAllKeys()).filter(function(e){return e.startsWith("offline_data_")});for(var t of e){var n=t.replace("offline_data_",""),o=yield this.getOfflineData(n);o.pendingActions.length>0&&(yield this.syncUserActions(n,o.pendingActions),o.pendingActions=[],yield this.saveOfflineData(n,o))}}catch(r){console.log("Error syncing pending actions:",r)}finally{this.syncInProgress=!1}}});return function(){return e.apply(this,arguments)}}()},{key:"syncUserActions",value:function(){var e=(0,r.default)(function*(e,t){try{for(var n of t)switch(n.type){case"score_update":yield this.syncScoreUpdate(e,n.data);break;case"coin_update":yield this.syncCoinUpdate(e,n.data);break;case"purchase":yield this.syncPurchase(e,n.data);break;case"achievement":yield this.syncAchievement(e,n.data)}}catch(o){console.log("Error syncing user actions:",o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncScoreUpdate",value:function(){var e=(0,r.default)(function*(e,t){console.log("Syncing score update:",{userId:e,data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncCoinUpdate",value:function(){var e=(0,r.default)(function*(e,t){console.log("Syncing coin update:",{userId:e,data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncPurchase",value:function(){var e=(0,r.default)(function*(e,t){console.log("Syncing purchase:",{userId:e,data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncAchievement",value:function(){var e=(0,r.default)(function*(e,t){console.log("Syncing achievement:",{userId:e,data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"updateScore",value:function(){var e=(0,r.default)(function*(e,t){var n=yield this.getOfflineData(e);t>n.highScore&&(n.highScore=t),n.gamesPlayed+=1,yield this.saveOfflineData(e,n),yield this.addPendingAction(e,{type:"score_update",data:{score:t,highScore:n.highScore,gamesPlayed:n.gamesPlayed}})});return function(t,n){return e.apply(this,arguments)}}()},{key:"updateCoins",value:function(){var e=(0,r.default)(function*(e,t){var n=yield this.getOfflineData(e);n.coins+=t,yield this.saveOfflineData(e,n),yield this.addPendingAction(e,{type:"coin_update",data:{coins:n.coins,change:t}})});return function(t,n){return e.apply(this,arguments)}}()},{key:"addAchievement",value:function(){var e=(0,r.default)(function*(e,t){var n=yield this.getOfflineData(e);n.achievements.includes(t)||(n.achievements.push(t),yield this.saveOfflineData(e,n),yield this.addPendingAction(e,{type:"achievement",data:{achievement:t,timestamp:Date.now()}}))});return function(t,n){return e.apply(this,arguments)}}()},{key:"recordPurchase",value:function(){var e=(0,r.default)(function*(e,t){var n=yield this.getOfflineData(e);n.purchases.push(t),yield this.saveOfflineData(e,n),yield this.addPendingAction(e,{type:"purchase",data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"getOfflineStatus",value:function(){return{isOnline:this.isOnline,pendingActions:this.syncQueue.length,lastSync:Date.now()}}},{key:"clearAllOfflineData",value:function(){var e=(0,r.default)(function*(){try{var e=(yield c.default.getAllKeys()).filter(function(e){return e.startsWith("offline_data_")});yield c.default.multiRemove(e)}catch(t){console.log("Error clearing offline data:",t)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),we=function(){function e(){(0,Q.default)(this,e),this.worlds=[],this.playerProgress=null,this.initializeWorlds()}return(0,J.default)(e,[{key:"initializeWorlds",value:function(){this.worlds=[{id:1,name:"Gold Mine",theme:"mining",description:"Start your journey in the depths of the gold mine",background:"mine_background",unlocked:!0,requiredLevel:1,levels:this.generateMineLevels()},{id:2,name:"Volcano Cave",theme:"volcano",description:"Navigate through the fiery depths of the volcano",background:"volcano_background",unlocked:!1,requiredLevel:10,levels:this.generateVolcanoLevels()},{id:3,name:"Rainbow Realm",theme:"rainbow",description:"Discover the magical rainbow realm",background:"rainbow_background",unlocked:!1,requiredLevel:20,levels:this.generateRainbowLevels()},{id:4,name:"Crystal Caverns",theme:"crystal",description:"Explore the mysterious crystal caverns",background:"crystal_background",unlocked:!1,requiredLevel:30,levels:this.generateCrystalLevels()},{id:5,name:"Cosmic Void",theme:"cosmic",description:"Journey through the infinite cosmic void",background:"cosmic_background",unlocked:!1,requiredLevel:40,levels:this.generateCosmicLevels()}]}},{key:"generateMineLevels",value:function(){for(var e=[],t=1;t<=30;t++){var n=Math.min(1+.2*(t-1),5),o=Math.floor(100+50*(t-1));e.push({id:`mine_day_${t}`,world:1,day:t,name:`Day ${t} in the Mine`,description:"Mining deeper into the gold mine",difficulty:n,requiredScore:o,unlockedPowerUps:this.getUnlockedPowerUps(t),obstacles:this.getObstacles(t),background:`mine_day_${t}`,music:`mine_theme_${Math.ceil(t/10)}`,rewards:{coins:Math.floor(10+2*t),experience:Math.floor(20+5*t),powerUps:t%5===0?["new_powerup"]:[]}})}return e}},{key:"generateVolcanoLevels",value:function(){for(var e=[],t=1;t<=30;t++){var n=Math.min(2+.3*(t-1),6),o=Math.floor(200+75*(t-1));e.push({id:`volcano_day_${t}`,world:2,day:t,name:`Volcano Day ${t}`,description:"Surviving the fiery depths",difficulty:n,requiredScore:o,unlockedPowerUps:this.getUnlockedPowerUps(30+t),obstacles:this.getObstacles(30+t),background:`volcano_day_${t}`,music:`volcano_theme_${Math.ceil(t/10)}`,rewards:{coins:Math.floor(20+3*t),experience:Math.floor(40+8*t),powerUps:t%5===0?["volcano_powerup"]:[]}})}return e}},{key:"generateRainbowLevels",value:function(){for(var e=[],t=1;t<=30;t++){var n=Math.min(3+.4*(t-1),7),o=Math.floor(300+100*(t-1));e.push({id:`rainbow_day_${t}`,world:3,day:t,name:`Rainbow Day ${t}`,description:"Exploring the magical rainbow realm",difficulty:n,requiredScore:o,unlockedPowerUps:this.getUnlockedPowerUps(60+t),obstacles:this.getObstacles(60+t),background:`rainbow_day_${t}`,music:`rainbow_theme_${Math.ceil(t/10)}`,rewards:{coins:Math.floor(30+4*t),experience:Math.floor(60+10*t),powerUps:t%5===0?["rainbow_powerup"]:[]}})}return e}},{key:"generateCrystalLevels",value:function(){for(var e=[],t=1;t<=30;t++){var n=Math.min(4+.5*(t-1),8),o=Math.floor(400+125*(t-1));e.push({id:`crystal_day_${t}`,world:4,day:t,name:`Crystal Day ${t}`,description:"Navigating the mysterious crystal caverns",difficulty:n,requiredScore:o,unlockedPowerUps:this.getUnlockedPowerUps(90+t),obstacles:this.getObstacles(90+t),background:`crystal_day_${t}`,music:`crystal_theme_${Math.ceil(t/10)}`,rewards:{coins:Math.floor(40+5*t),experience:Math.floor(80+12*t),powerUps:t%5===0?["crystal_powerup"]:[]}})}return e}},{key:"generateCosmicLevels",value:function(){for(var e=[],t=1;t<=30;t++){var n=Math.min(5+.6*(t-1),10),o=Math.floor(500+150*(t-1));e.push({id:`cosmic_day_${t}`,world:5,day:t,name:`Cosmic Day ${t}`,description:"Journeying through the infinite cosmic void",difficulty:n,requiredScore:o,unlockedPowerUps:this.getUnlockedPowerUps(120+t),obstacles:this.getObstacles(120+t),background:`cosmic_day_${t}`,music:`cosmic_theme_${Math.ceil(t/10)}`,rewards:{coins:Math.floor(50+6*t),experience:Math.floor(100+15*t),powerUps:t%5===0?["cosmic_powerup"]:[]}})}return e}},{key:"getUnlockedPowerUps",value:function(e){var t=[];return e>=1&&t.push("magnet"),e>=5&&t.push("slowMotion"),e>=10&&t.push("doublePoints"),e>=15&&t.push("goldRush"),t}},{key:"getObstacles",value:function(e){var t=[];return e>=5&&t.push("falling_rocks"),e>=10&&t.push("fake_coins"),e>=15&&t.push("slippery_platforms"),e>=20&&t.push("wind_gusts"),e>=25&&t.push("gravity_shifts"),t}},{key:"loadPlayerProgress",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.progression)return this.playerProgress=t.progression,this.playerProgress}catch(n){console.log("Error loading offline progression:",n)}return this.playerProgress={userId:e,currentWorld:1,currentDay:1,totalDaysCompleted:0,experience:0,level:1,unlockedWorlds:[1],completedLevels:[],dailyStreak:0,lastPlayedDate:(new Date).toISOString().split("T")[0],achievements:[],metaProgress:{campLevel:1,shopLevel:1,potCollection:["basic_pot"],skinCollection:["default_skin"]}},yield this.savePlayerProgress(),this.playerProgress});return function(t){return e.apply(this,arguments)}}()},{key:"savePlayerProgress",value:function(){var e=(0,r.default)(function*(){if(this.playerProgress)try{yield be.saveOfflineData(this.playerProgress.userId,{progression:this.playerProgress}),yield be.addPendingAction(this.playerProgress.userId,{type:"progression_update",data:this.playerProgress})}catch(e){console.log("Error saving player progress:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"completeLevel",value:function(){var e=(0,r.default)(function*(e,t,n){if(!this.playerProgress)return{success:!1,rewards:{}};var o=this.getLevelById(e);if(!o)return{success:!1,rewards:{}};if(t<o.requiredScore)return{success:!1,rewards:{}};this.playerProgress.completedLevels.includes(e)||(this.playerProgress.completedLevels.push(e),this.playerProgress.totalDaysCompleted++),this.playerProgress.experience+=o.rewards.experience,this.playerProgress.coins=(this.playerProgress.coins||0)+n;var r=Math.floor(this.playerProgress.experience/100)+1;r>this.playerProgress.level&&(this.playerProgress.level=r);var i=this.checkWorldUnlock(),a=this.getNextLevel();return a&&(this.playerProgress.currentWorld=a.world,this.playerProgress.currentDay=a.day),yield this.savePlayerProgress(),{success:!0,rewards:o.rewards,nextLevel:a,worldUnlocked:i}});return function(t,n,o){return e.apply(this,arguments)}}()},{key:"getCurrentLevel",value:function(){return this.playerProgress?this.getLevelById(`${this.getWorldTheme(this.playerProgress.currentWorld)}_day_${this.playerProgress.currentDay}`):null}},{key:"getNextLevel",value:function(){if(!this.playerProgress)return null;var e=this.getCurrentLevel();if(!e)return null;var t=this.worlds.find(function(t){return t.id===e.world});if(!t)return null;var n=e.day+1;if(n>t.levels.length){var o=this.worlds.find(function(t){return t.id===e.world+1});return o&&this.playerProgress.unlockedWorlds.includes(o.id)?o.levels[0]:null}return t.levels.find(function(e){return e.day===n})||null}},{key:"checkWorldUnlock",value:function(){if(!this.playerProgress)return null;for(var e of this.worlds)if(!this.playerProgress.unlockedWorlds.includes(e.id)&&this.playerProgress.level>=e.requiredLevel)return this.playerProgress.unlockedWorlds.push(e.id),e;return null}},{key:"getLevelById",value:function(e){for(var t of this.worlds){var n=t.levels.find(function(t){return t.id===e});if(n)return n}return null}},{key:"getWorldTheme",value:function(e){return["mine","volcano","rainbow","crystal","cosmic"][e-1]||"mine"}},{key:"getWorlds",value:function(){return this.worlds}},{key:"getPlayerProgress",value:function(){return this.playerProgress}},{key:"updateDailyStreak",value:function(){var e=(0,r.default)(function*(){if(this.playerProgress){var e=(new Date).toISOString().split("T")[0],t=this.playerProgress.lastPlayedDate;if(t!==e){var n=new Date;n.setDate(n.getDate()-1),t===n.toISOString().split("T")[0]?this.playerProgress.dailyStreak++:this.playerProgress.dailyStreak=1,this.playerProgress.lastPlayedDate=e,yield this.savePlayerProgress()}}});return function(){return e.apply(this,arguments)}}()},{key:"getAvailablePowerUps",value:function(){var e=this.getCurrentLevel();return(null==e?void 0:e.unlockedPowerUps)||["magnet"]}},{key:"getDifficultyMultiplier",value:function(){var e=this.getCurrentLevel();return(null==e?void 0:e.difficulty)||1}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),ke=function(){function e(){(0,Q.default)(this,e),this.progress=null}return(0,J.default)(e,[{key:"initializeMetaGame",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.metaGame)return this.progress=t.metaGame,this.progress}catch(n){console.log("Error loading meta game data:",n)}return this.progress={userId:e,camp:{level:1,buildings:this.getDefaultBuildings(),totalCoinGeneration:0,totalExperienceBonus:0},shop:{level:1,availableItems:this.getDefaultShopItems(),purchasedItems:[]},pots:{currentPot:this.getDefaultPot(),ownedPots:[this.getDefaultPot()],currentSkin:this.getDefaultSkin(),ownedSkins:[this.getDefaultSkin()]},currency:{coins:100,gems:10,premiumCurrency:0},achievements:[],lastUpdated:new Date},yield this.saveMetaGameProgress(),this.progress});return function(t){return e.apply(this,arguments)}}()},{key:"getDefaultBuildings",value:function(){return[{id:"gold_mine",name:"Gold Mine",description:"Generates coins over time",level:1,maxLevel:10,cost:50,effects:{coinGeneration:1,experienceBonus:0,powerUpChance:0,specialBonuses:[]}},{id:"experience_fountain",name:"Experience Fountain",description:"Provides experience bonuses",level:1,maxLevel:10,cost:100,effects:{coinGeneration:0,experienceBonus:5,powerUpChance:0,specialBonuses:[]}},{id:"power_up_lab",name:"Power-up Laboratory",description:"Increases power-up spawn chance",level:1,maxLevel:10,cost:200,effects:{coinGeneration:0,experienceBonus:0,powerUpChance:2,specialBonuses:[]}}]}},{key:"getDefaultPot",value:function(){return{id:"basic_pot",name:"Basic Pot",description:"A simple pot for catching coins",level:1,maxLevel:5,cost:0,effects:{size:1,magnetRange:0,coinMultiplier:1,specialEffects:[]}}}},{key:"getDefaultSkin",value:function(){return{id:"default_skin",name:"Default Skin",description:"The classic pot appearance",rarity:"common",price:0,effects:[],visualEffects:[],unlocked:!0,image:"default_pot"}}},{key:"getDefaultShopItems",value:function(){return[{id:"magnet_pot",name:"Magnet Pot",description:"Automatically attracts nearby coins",category:"pot",price:500,currency:"coins",rarity:"rare",effects:["magnet_effect"],image:"magnet_pot",available:!0},{id:"turbo_pot",name:"Turbo Pot",description:"Moves faster and catches more coins",category:"pot",price:1e3,currency:"coins",rarity:"epic",effects:["speed_boost","catch_bonus"],image:"turbo_pot",available:!0},{id:"flame_pot",name:"Flame Pot",description:"Burns through obstacles and fake coins",category:"pot",price:2e3,currency:"coins",rarity:"legendary",effects:["obstacle_destruction","fake_coin_detection"],image:"flame_pot",available:!0},{id:"golden_skin",name:"Golden Skin",description:"Shiny golden pot with sparkle effects",category:"skin",price:300,currency:"coins",rarity:"rare",effects:["visual_sparkles"],image:"golden_skin",available:!0},{id:"rainbow_skin",name:"Rainbow Skin",description:"Colorful rainbow pot with trail effects",category:"skin",price:800,currency:"coins",rarity:"epic",effects:["rainbow_trail","color_changing"],image:"rainbow_skin",available:!0},{id:"cosmic_skin",name:"Cosmic Skin",description:"Space-themed pot with particle effects",category:"skin",price:1500,currency:"coins",rarity:"legendary",effects:["particle_effects","cosmic_trail"],image:"cosmic_skin",available:!0}]}},{key:"upgradeBuilding",value:function(){var e=(0,r.default)(function*(e){if(!this.progress)return{success:!1,newLevel:0,cost:0,effects:{}};var t=this.progress.camp.buildings.find(function(t){return t.id===e});if(!t||t.level>=t.maxLevel)return{success:!1,newLevel:(null==t?void 0:t.level)||0,cost:0,effects:{}};var n=t.cost*Math.pow(1.5,t.level-1);return this.progress.currency.coins<n?{success:!1,newLevel:t.level,cost:n,effects:{}}:(t.level++,this.progress.currency.coins-=n,t.effects.coinGeneration*=1.2,t.effects.experienceBonus*=1.15,t.effects.powerUpChance*=1.1,this.updateCampTotals(),yield this.saveMetaGameProgress(),{success:!0,newLevel:t.level,cost:n,effects:t.effects})});return function(t){return e.apply(this,arguments)}}()},{key:"purchaseShopItem",value:function(){var e=(0,r.default)(function*(e){if(!this.progress)return{success:!1,item:null,remainingCurrency:0};var t=this.progress.shop.availableItems.find(function(t){return t.id===e});if(!t||!t.available)return{success:!1,item:null,remainingCurrency:this.progress.currency.coins};var n="coins"===t.currency?"coins":"gems"===t.currency?"gems":"premiumCurrency";return this.progress.currency[n]<t.price?{success:!1,item:null,remainingCurrency:this.progress.currency[n]}:(this.progress.currency[n]-=t.price,this.progress.shop.purchasedItems.push(e),"pot"===t.category?yield this.addPotToCollection(t):"skin"===t.category&&(yield this.addSkinToCollection(t)),yield this.saveMetaGameProgress(),{success:!0,item:t,remainingCurrency:this.progress.currency[n]})});return function(t){return e.apply(this,arguments)}}()},{key:"addPotToCollection",value:function(){var e=(0,r.default)(function*(e){if(this.progress){var t={id:e.id,name:e.name,description:e.description,level:1,maxLevel:5,cost:e.price,effects:this.getPotEffects(e)};this.progress.pots.ownedPots.push(t)}});return function(t){return e.apply(this,arguments)}}()},{key:"addSkinToCollection",value:function(){var e=(0,r.default)(function*(e){if(this.progress){var t={id:e.id,name:e.name,description:e.description,rarity:e.rarity,price:e.price,effects:e.effects,visualEffects:e.effects.filter(function(e){return e.includes("visual")||e.includes("trail")}),unlocked:!0,image:e.image};this.progress.pots.ownedSkins.push(t)}});return function(t){return e.apply(this,arguments)}}()},{key:"getPotEffects",value:function(e){var t={size:1,magnetRange:0,coinMultiplier:1,specialEffects:[]};return e.effects.includes("magnet_effect")&&(t.magnetRange=50),e.effects.includes("speed_boost")&&t.specialEffects.push("speed_boost"),e.effects.includes("catch_bonus")&&(t.coinMultiplier=1.5),e.effects.includes("obstacle_destruction")&&t.specialEffects.push("obstacle_destruction"),t}},{key:"equipSkin",value:function(){var e=(0,r.default)(function*(e){if(!this.progress)return!1;var t=this.progress.pots.ownedSkins.find(function(t){return t.id===e});return!!t&&(this.progress.pots.currentSkin=t,yield this.saveMetaGameProgress(),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"equipPot",value:function(){var e=(0,r.default)(function*(e){if(!this.progress)return!1;var t=this.progress.pots.ownedPots.find(function(t){return t.id===e});return!!t&&(this.progress.pots.currentPot=t,yield this.saveMetaGameProgress(),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"updateCampTotals",value:function(){this.progress&&(this.progress.camp.totalCoinGeneration=this.progress.camp.buildings.reduce(function(e,t){return e+t.effects.coinGeneration},0),this.progress.camp.totalExperienceBonus=this.progress.camp.buildings.reduce(function(e,t){return e+t.effects.experienceBonus},0))}},{key:"generatePassiveIncome",value:function(){var e=(0,r.default)(function*(){if(!this.progress)return{coins:0,experience:0,powerUps:[]};var e=(Date.now()-this.progress.lastUpdated.getTime())/36e5,t=Math.floor(this.progress.camp.totalCoinGeneration*e),n=Math.floor(this.progress.camp.totalExperienceBonus*e);return this.progress.currency.coins+=t,this.progress.lastUpdated=new Date,yield this.saveMetaGameProgress(),{coins:t,experience:n,powerUps:[]}});return function(){return e.apply(this,arguments)}}()},{key:"saveMetaGameProgress",value:function(){var e=(0,r.default)(function*(){if(this.progress)try{yield be.saveOfflineData(this.progress.userId,{metaGame:this.progress}),yield be.addPendingAction(this.progress.userId,{type:"meta_game_update",data:this.progress})}catch(e){console.log("Error saving meta game progress:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"getProgress",value:function(){return this.progress}},{key:"getAvailableShopItems",value:function(){return this.progress?this.progress.shop.availableItems.filter(function(e){return e.available}):[]}},{key:"getOwnedSkins",value:function(){return this.progress?this.progress.pots.ownedSkins:[]}},{key:"getOwnedPots",value:function(){return this.progress?this.progress.pots.ownedPots:[]}},{key:"getCurrentPotEffects",value:function(){return this.progress?this.progress.pots.currentPot.effects:this.getDefaultPot().effects}},{key:"getCurrentSkinEffects",value:function(){return this.progress?this.progress.pots.currentSkin.visualEffects:[]}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),xe=function(){function e(){(0,Q.default)(this,e),this.progress=null}return(0,J.default)(e,[{key:"initializeMissions",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.missions)return this.progress=t.missions,this.progress}catch(n){console.log("Error loading mission data:",n)}return this.progress={userId:e,activeMissions:this.generateDailyMissions(),completedMissions:[],dailyChallenges:this.generateDailyChallenges(),weeklyChallenges:this.generateWeeklyChallenges(),achievements:[],totalMissionsCompleted:0,streakDays:0,lastUpdated:new Date},yield this.saveMissionProgress(),this.progress});return function(t){return e.apply(this,arguments)}}()},{key:"generateDailyMissions",value:function(){var e=(new Date).toISOString().split("T")[0],t=[];return t.push({id:`daily_collect_${e}`,title:"Coin Collector",description:"Collect coins in a single game",type:"daily",category:"collection",objective:{type:"collect_coins",target:50,current:0},rewards:{coins:25,experience:10,powerUps:[],gems:0},completed:!1,expiresAt:new Date(Date.now()+864e5),difficulty:"easy"}),t.push({id:`daily_survive_${e}`,title:"Survivor",description:"Survive for a certain time without power-ups",type:"daily",category:"survival",objective:{type:"survive_no_powerups",target:30,current:0},rewards:{coins:50,experience:20,powerUps:["magnet"],gems:1},completed:!1,expiresAt:new Date(Date.now()+864e5),difficulty:"medium"}),t.push({id:`daily_combo_${e}`,title:"Combo Master",description:"Achieve a coin catching combo",type:"daily",category:"combo",objective:{type:"coin_combo",target:10,current:0},rewards:{coins:75,experience:30,powerUps:["doublePoints"],gems:2},completed:!1,expiresAt:new Date(Date.now()+864e5),difficulty:"hard"}),t}},{key:"generateDailyChallenges",value:function(){var e=(new Date).toISOString().split("T")[0],t=[];return t.push({id:`challenge_1_${e}`,title:"Perfect Catch",description:"Catch 10 bonus coins without missing",objective:"Catch bonus coins without missing",target:10,reward:{coins:100,experience:50,specialReward:"perfect_catch_badge"},completed:!1,progress:0,date:e}),t.push({id:`challenge_2_${e}`,title:"Power-up Free",description:"Survive 60 seconds with no power-ups",objective:"Survive without power-ups",target:60,reward:{coins:150,experience:75,specialReward:"pure_skill_badge"},completed:!1,progress:0,date:e}),t.push({id:`challenge_3_${e}`,title:"Speed Demon",description:"Catch 20 coins in under 30 seconds",objective:"Fast coin collection",target:20,reward:{coins:200,experience:100,specialReward:"speed_demon_badge"},completed:!1,progress:0,date:e}),t}},{key:"generateWeeklyChallenges",value:function(){var e=new Date;e.setDate(e.getDate()-e.getDay());var t=e.toISOString().split("T")[0];return[{id:`weekly_master_${t}`,title:"Weekly Master",description:"Complete all daily missions for 7 days",type:"weekly",category:"achievement",objective:{type:"complete_daily_missions",target:7,current:0},rewards:{coins:500,experience:200,powerUps:["goldRush"],gems:10},completed:!1,expiresAt:new Date(Date.now()+6048e5),difficulty:"expert"},{id:`weekly_collector_${t}`,title:"Coin Collector",description:"Collect 1000 coins in total",type:"weekly",category:"collection",objective:{type:"total_coins_collected",target:1e3,current:0},rewards:{coins:300,experience:150,powerUps:["magnet"],gems:5},completed:!1,expiresAt:new Date(Date.now()+6048e5),difficulty:"medium"}]}},{key:"updateMissionProgress",value:function(){var e=(0,r.default)(function*(e,t,n){if(!this.progress)return{completedMissions:[],rewards:{}};var o=[],r={coins:0,experience:0,powerUps:[],gems:0};for(var i of this.progress.activeMissions)if(!i.completed){var a,s=!1;switch(i.objective.type){case"collect_coins":"coin_collected"===e&&(i.objective.current+=t,s=!0);break;case"survive_no_powerups":"time_survived"===e&&0===(null==n?void 0:n.powerUpsUsed)&&(i.objective.current+=t,s=!0);break;case"coin_combo":"combo_achieved"===e&&(i.objective.current=Math.max(i.objective.current,t),s=!0)}if(s&&i.objective.current>=i.objective.target)i.completed=!0,o.push(i),r.coins+=i.rewards.coins,r.experience+=i.rewards.experience,(a=r.powerUps).push.apply(a,(0,y.default)(i.rewards.powerUps)),r.gems+=i.rewards.gems}for(var l of this.progress.dailyChallenges)if(!l.completed){var c=!1;switch(l.objective){case"Catch bonus coins without missing":"bonus_coin_caught"===e&&(l.progress+=t,c=!0);break;case"Survive without power-ups":"time_survived_no_powerups"===e&&(l.progress+=t,c=!0);break;case"Fast coin collection":if("fast_coins"===e&&n)n.timeSurvived<=30&&n.coinsCollected>=20&&(l.progress=Math.max(l.progress,n.coinsCollected),c=!0)}c&&l.progress>=l.target&&(l.completed=!0,r.coins+=l.reward.coins,r.experience+=l.reward.experience,l.reward.specialReward&&r.powerUps.push(l.reward.specialReward))}for(var u of this.progress.weeklyChallenges)if(!u.completed){var d,f=!1;switch(u.objective.type){case"complete_daily_missions":"daily_mission_completed"===e&&(u.objective.current+=t,f=!0);break;case"total_coins_collected":"coin_collected"===e&&(u.objective.current+=t,f=!0)}if(f&&u.objective.current>=u.objective.target)u.completed=!0,o.push(u),r.coins+=u.rewards.coins,r.experience+=u.rewards.experience,(d=r.powerUps).push.apply(d,(0,y.default)(u.rewards.powerUps)),r.gems+=u.rewards.gems}return this.progress.totalMissionsCompleted+=o.length,this.progress.lastUpdated=new Date,yield this.saveMissionProgress(),{completedMissions:o,rewards:r}});return function(t,n,o){return e.apply(this,arguments)}}()},{key:"getAvailableMissions",value:function(){return this.progress?this.progress.activeMissions.filter(function(e){return!e.completed}):[]}},{key:"getDailyChallenges",value:function(){return this.progress?this.progress.dailyChallenges:[]}},{key:"getWeeklyChallenges",value:function(){return this.progress?this.progress.weeklyChallenges:[]}},{key:"checkMissionRefresh",value:function(){var e=(0,r.default)(function*(){if(!this.progress)return!1;if((new Date).toISOString().split("T")[0]!==this.progress.lastUpdated.toISOString().split("T")[0]){this.progress.activeMissions=this.generateDailyMissions(),this.progress.dailyChallenges=this.generateDailyChallenges(),this.progress.lastUpdated=new Date;var e=new Date;e.setDate(e.getDate()-e.getDay());var t=e.toISOString().split("T")[0],n=this.progress.weeklyChallenges[0];return n&&!n.id.includes(t)&&(this.progress.weeklyChallenges=this.generateWeeklyChallenges()),yield this.saveMissionProgress(),!0}return!1});return function(){return e.apply(this,arguments)}}()},{key:"getMissionProgress",value:function(){return this.progress}},{key:"saveMissionProgress",value:function(){var e=(0,r.default)(function*(){if(this.progress)try{yield be.saveOfflineData(this.progress.userId,{missions:this.progress}),yield be.addPendingAction(this.progress.userId,{type:"mission_update",data:this.progress})}catch(e){console.log("Error saving mission progress:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"getMissionStats",value:function(){if(!this.progress)return{totalCompleted:0,dailyCompleted:0,weeklyCompleted:0,streakDays:0};var e=this.progress.activeMissions.filter(function(e){return e.completed}).length,t=this.progress.weeklyChallenges.filter(function(e){return e.completed}).length;return{totalCompleted:this.progress.totalMissionsCompleted,dailyCompleted:e,weeklyCompleted:t,streakDays:this.progress.streakDays}}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Se=function(){function e(){(0,Q.default)(this,e),this.collection=null}return(0,J.default)(e,[{key:"initializeCollection",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.powerUpCollection)return this.collection=t.powerUpCollection,this.collection}catch(n){console.log("Error loading power-up collection:",n)}return this.collection={userId:e,ownedPowerUps:this.getDefaultPowerUps(),activePowerUps:["magnet"],fusionRecipes:this.getFusionRecipes(),unlockedFusions:[],totalPowerUpsUsed:0,lastUpdated:new Date},yield this.saveCollection(),this.collection});return function(t){return e.apply(this,arguments)}}()},{key:"getDefaultPowerUps",value:function(){return[{id:"magnet",name:"Magnet",description:"Attracts nearby coins automatically",level:1,maxLevel:5,rarity:"common",baseEffect:{duration:5e3,intensity:1,range:50},evolvedEffects:["magnet_plus","magnet_ultra","magnet_master"],upgradeCost:100,fusionRequirements:[],unlocked:!0,image:"magnet_powerup"},{id:"slowMotion",name:"Slow Motion",description:"Slows down falling objects",level:1,maxLevel:5,rarity:"common",baseEffect:{duration:3e3,intensity:.5,range:0},evolvedEffects:["time_freeze","time_reverse","time_master"],upgradeCost:150,fusionRequirements:[],unlocked:!0,image:"slow_motion_powerup"},{id:"doublePoints",name:"Double Points",description:"Doubles all points earned",level:1,maxLevel:5,rarity:"rare",baseEffect:{duration:4e3,intensity:2,range:0},evolvedEffects:["triple_points","quadruple_points","point_master"],upgradeCost:200,fusionRequirements:[],unlocked:!1,image:"double_points_powerup"},{id:"goldRush",name:"Gold Rush",description:"Increases coin spawn rate and value",level:1,maxLevel:5,rarity:"epic",baseEffect:{duration:6e3,intensity:1.5,range:0},evolvedEffects:["gold_storm","gold_tsunami","gold_master"],upgradeCost:300,fusionRequirements:[],unlocked:!1,image:"gold_rush_powerup"}]}},{key:"getFusionRecipes",value:function(){return[{id:"magnet_slow_fusion",name:"Time Magnet",description:"Combines magnet and slow motion effects",requirements:{powerUp1:"magnet",powerUp2:"slowMotion",level1:3,level2:3},result:{powerUpId:"timeMagnet",level:1,specialEffect:"magnet_with_slow_motion"},unlocked:!1,image:"time_magnet_powerup"},{id:"double_gold_fusion",name:"Golden Storm",description:"Combines double points and gold rush",requirements:{powerUp1:"doublePoints",powerUp2:"goldRush",level1:4,level2:4},result:{powerUpId:"goldenStorm",level:1,specialEffect:"double_points_with_gold_rush"},unlocked:!1,image:"golden_storm_powerup"},{id:"ultimate_fusion",name:"Ultimate Power",description:"Combines all power-ups for ultimate effect",requirements:{powerUp1:"timeMagnet",powerUp2:"goldenStorm",level1:5,level2:5},result:{powerUpId:"ultimatePower",level:1,specialEffect:"all_power_ups_combined"},unlocked:!1,image:"ultimate_power_powerup"}]}},{key:"upgradePowerUp",value:function(){var e=(0,r.default)(function*(e){if(!this.collection)return{success:!1,newLevel:0,cost:0,effects:{}};var t=this.collection.ownedPowerUps.find(function(t){return t.id===e});if(!t||t.level>=t.maxLevel)return{success:!1,newLevel:(null==t?void 0:t.level)||0,cost:0,effects:{}};var n=t.upgradeCost*Math.pow(1.5,t.level-1);t.level++;var o=this.calculatePowerUpEffects(t);return yield this.saveCollection(),{success:!0,newLevel:t.level,cost:n,effects:o}});return function(t){return e.apply(this,arguments)}}()},{key:"fusePowerUps",value:function(){var e=(0,r.default)(function*(e,t){if(!this.collection)return{success:!1,result:null,fusionRecipe:null};var n=this.collection.ownedPowerUps.find(function(t){return t.id===e}),o=this.collection.ownedPowerUps.find(function(e){return e.id===t});if(!n||!o)return{success:!1,result:null,fusionRecipe:null};var r=this.collection.fusionRecipes.find(function(n){return n.requirements.powerUp1===e&&n.requirements.powerUp2===t||n.requirements.powerUp1===t&&n.requirements.powerUp2===e});if(!r)return{success:!1,result:null,fusionRecipe:null};if(n.level<r.requirements.level1||o.level<r.requirements.level2)return{success:!1,result:null,fusionRecipe:r};var i={id:r.result.powerUpId,name:this.getFusedPowerUpName(r),description:r.description,level:r.result.level,maxLevel:5,rarity:"legendary",baseEffect:this.calculateFusedEffects(n,o),evolvedEffects:[r.result.specialEffect],upgradeCost:500,fusionRequirements:[],unlocked:!0,image:r.image};return this.collection.ownedPowerUps=this.collection.ownedPowerUps.filter(function(n){return n.id!==e&&n.id!==t}),this.collection.ownedPowerUps.push(i),this.collection.unlockedFusions.push(r.id),yield this.saveCollection(),{success:!0,result:i,fusionRecipe:r}});return function(t,n){return e.apply(this,arguments)}}()},{key:"calculatePowerUpEffects",value:function(e){var t=e.baseEffect,n=1+.2*(e.level-1);return{duration:t.duration*n,intensity:t.intensity*n,range:t.range*n,evolvedEffects:e.evolvedEffects.slice(0,e.level-1)}}},{key:"calculateFusedEffects",value:function(e,t){return{duration:1.5*Math.max(e.baseEffect.duration,t.baseEffect.duration),intensity:1.2*(e.baseEffect.intensity+t.baseEffect.intensity),range:1.3*Math.max(e.baseEffect.range,t.baseEffect.range)}}},{key:"getFusedPowerUpName",value:function(e){return e.name}},{key:"unlockPowerUp",value:function(){var e=(0,r.default)(function*(e){if(!this.collection)return!1;var t=this.collection.ownedPowerUps.find(function(t){return t.id===e});return!!t&&(t.unlocked=!0,yield this.saveCollection(),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"getAvailableFusions",value:function(){var e=this;return this.collection?this.collection.fusionRecipes.filter(function(t){var n=e.collection.ownedPowerUps.find(function(e){return e.id===t.requirements.powerUp1}),o=e.collection.ownedPowerUps.find(function(e){return e.id===t.requirements.powerUp2});return n&&o&&n.level>=t.requirements.level1&&o.level>=t.requirements.level2}):[]}},{key:"getOwnedPowerUps",value:function(){return this.collection?this.collection.ownedPowerUps.filter(function(e){return e.unlocked}):[]}},{key:"getActivePowerUps",value:function(){var e=this;return this.collection?this.collection.ownedPowerUps.filter(function(t){return e.collection.activePowerUps.includes(t.id)}):[]}},{key:"activatePowerUp",value:function(){var e=(0,r.default)(function*(e){if(!this.collection)return!1;var t=this.collection.ownedPowerUps.find(function(t){return t.id===e});return!(!t||!t.unlocked)&&(this.collection.activePowerUps.includes(e)||(this.collection.activePowerUps.push(e),yield this.saveCollection()),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"deactivatePowerUp",value:function(){var e=(0,r.default)(function*(e){if(!this.collection)return!1;var t=this.collection.activePowerUps.indexOf(e);return t>-1&&(this.collection.activePowerUps.splice(t,1),yield this.saveCollection(),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"getPowerUpEffects",value:function(e){if(!this.collection)return null;var t=this.collection.ownedPowerUps.find(function(t){return t.id===e});return t?this.calculatePowerUpEffects(t):null}},{key:"recordPowerUpUsage",value:function(){var e=(0,r.default)(function*(e){this.collection&&(this.collection.totalPowerUpsUsed++,this.collection.lastUpdated=new Date,yield this.saveCollection())});return function(t){return e.apply(this,arguments)}}()},{key:"getCollectionStats",value:function(){return this.collection?{totalPowerUps:this.collection.ownedPowerUps.length,unlockedPowerUps:this.collection.ownedPowerUps.filter(function(e){return e.unlocked}).length,maxLevelPowerUps:this.collection.ownedPowerUps.filter(function(e){return e.level===e.maxLevel}).length,totalFusions:this.collection.unlockedFusions.length,totalUsage:this.collection.totalPowerUpsUsed}:{totalPowerUps:0,unlockedPowerUps:0,maxLevelPowerUps:0,totalFusions:0,totalUsage:0}}},{key:"saveCollection",value:function(){var e=(0,r.default)(function*(){if(this.collection)try{yield be.saveOfflineData(this.collection.userId,{powerUpCollection:this.collection}),yield be.addPendingAction(this.collection.userId,{type:"powerup_update",data:this.collection})}catch(e){console.log("Error saving power-up collection:",e)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance();function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var Ce=re.default.get("window"),_e=Ce.width,je=Ce.height,Pe=function(){function e(){(0,Q.default)(this,e),this.skillProgress=null,this.obstacles=[],this.comboSystem={currentCombo:0,maxCombo:0,comboMultiplier:1,comboTimeWindow:3e3,lastCoinTime:0,comboRewards:{coins:0,experience:0,powerUps:[]}}}return(0,J.default)(e,[{key:"initializeSkillProgress",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.skillProgress)return this.skillProgress=t.skillProgress,this.skillProgress}catch(n){console.log("Error loading skill progress:",n)}return this.skillProgress={userId:e,level:1,experience:0,skills:{accuracy:1,speed:1,reflexes:1,strategy:1,endurance:1},achievements:[],masteryLevels:{},totalGamesPlayed:0,averageScore:0,bestCombo:0,obstaclesAvoided:0,lastUpdated:new Date},yield this.saveSkillProgress(),this.skillProgress});return function(t){return e.apply(this,arguments)}}()},{key:"generateObstacles",value:function(e,t){for(var n=[],o=Math.min(3+Math.floor(e/5),10),r=0;r<o;r++){var i=this.getRandomObstacleType(e),a=this.createObstacle(i,e,t);n.push(a)}return this.obstacles=n,n}},{key:"getRandomObstacleType",value:function(e){var t=["falling_rock","fake_coin","slippery_platform","wind_gust","gravity_shift"],n=[.4,.3,.2,.08,.02];e>=10&&(n[3]+=.1),e>=20&&(n[4]+=.05);for(var o=Math.random(),r=0,i=0;i<t.length;i++)if(o<=(r+=n[i]))return t[i]||"falling_rock";return"falling_rock"}},{key:"createObstacle",value:function(e,t,n){var o=2+.1*t+.2*n,r=1+Math.floor(t/5);switch(e){case"falling_rock":return{id:`rock_${Date.now()}_${Math.random()}`,type:e,x:Math.random()*(_e-60),y:-50,width:40+20*Math.random(),height:40+20*Math.random(),speed:o+2*Math.random(),direction:Math.PI/2+.3*(Math.random()-.5),damage:r,effect:"damage_on_hit",active:!0};case"fake_coin":return{id:`fake_coin_${Date.now()}_${Math.random()}`,type:e,x:Math.random()*(_e-30),y:-30,width:30,height:30,speed:.8*o,direction:Math.PI/2,damage:2*r,effect:"penalty_on_collect",active:!0};case"slippery_platform":return{id:`platform_${Date.now()}_${Math.random()}`,type:e,x:Math.random()*(_e-100),y:je-200,width:100,height:20,speed:0,direction:0,damage:.5*r,effect:"reduced_control",active:!0};case"wind_gust":return{id:`wind_${Date.now()}_${Math.random()}`,type:e,x:Math.random()*_e,y:-20,width:150,height:20,speed:1.5*o,direction:Math.PI/2,damage:.3*r,effect:"push_effect",active:!0};case"gravity_shift":return{id:`gravity_${Date.now()}_${Math.random()}`,type:e,x:Math.random()*_e,y:-20,width:200,height:30,speed:o,direction:Math.PI/2,damage:1.5*r,effect:"reverse_gravity",active:!0};default:return{id:`obstacle_${Date.now()}_${Math.random()}`,type:"falling_rock",x:Math.random()*(_e-40),y:-50,width:40,height:40,speed:o,direction:Math.PI/2,damage:r,effect:"damage_on_hit",active:!0}}}},{key:"updateObstacles",value:function(e){this.obstacles.forEach(function(t){t.active&&(t.x+=Math.cos(t.direction)*t.speed*e,t.y+=Math.sin(t.direction)*t.speed*e,(t.y>je+50||t.x<-50||t.x>_e+50)&&(t.active=!1))})}},{key:"checkObstacleCollision",value:function(e,t,n,o){for(var r of this.obstacles)if(r.active&&this.isColliding(e,t,n,o,r.x,r.y,r.width,r.height))return r.active=!1,{collision:!0,damage:r.damage,effect:r.effect,obstacleType:r.type};return{collision:!1,damage:0,effect:"",obstacleType:""}}},{key:"isColliding",value:function(e,t,n,o,r,i,a,s){return e<r+a&&e+n>r&&t<i+s&&t+o>i}},{key:"updateCombo",value:function(e,t){var n=Date.now();return e?(t<=this.comboSystem.comboTimeWindow?(this.comboSystem.currentCombo++,this.comboSystem.comboMultiplier=Math.min(1+.1*this.comboSystem.currentCombo,5)):(this.comboSystem.currentCombo=1,this.comboSystem.comboMultiplier=1),this.comboSystem.lastCoinTime=n,this.comboSystem.maxCombo=Math.max(this.comboSystem.maxCombo,this.comboSystem.currentCombo),this.comboSystem.comboRewards=this.calculateComboRewards(this.comboSystem.currentCombo)):t>this.comboSystem.comboTimeWindow&&(this.comboSystem.currentCombo=0,this.comboSystem.comboMultiplier=1),{combo:this.comboSystem.currentCombo,multiplier:this.comboSystem.comboMultiplier,rewards:this.comboSystem.comboRewards}}},{key:"calculateComboRewards",value:function(e){return{coins:1*e,experience:2*e,powerUps:e>=10?["magnet"]:e>=20?["doublePoints"]:[]}}},{key:"updateSkillProgress",value:function(){var e=(0,r.default)(function*(e){if(this.skillProgress){this.skillProgress.totalGamesPlayed++,this.skillProgress.averageScore=(this.skillProgress.averageScore*(this.skillProgress.totalGamesPlayed-1)+e.score)/this.skillProgress.totalGamesPlayed,this.skillProgress.bestCombo=Math.max(this.skillProgress.bestCombo,e.comboAchieved),this.skillProgress.obstaclesAvoided+=e.obstaclesAvoided,this.updateSkill("accuracy",e.accuracy),this.updateSkill("speed",e.coinsCollected/Math.max(e.timeSurvived,1)),this.updateSkill("reflexes",e.obstaclesAvoided),this.updateSkill("strategy",e.comboAchieved),this.updateSkill("endurance",e.timeSurvived);var t=Object.values(this.skillProgress.skills).reduce(function(e,t){return e+t},0),n=Math.floor(t/100)+1;n>this.skillProgress.level&&(this.skillProgress.level=n,this.checkAchievements()),this.skillProgress.lastUpdated=new Date,yield this.saveSkillProgress()}});return function(t){return e.apply(this,arguments)}}()},{key:"updateSkill",value:function(e,t){if(this.skillProgress){var n=this.skillProgress.skills[e],o=Math.min(.1*t,5);this.skillProgress.skills[e]=Math.min(n+o,100);var r=Math.floor(this.skillProgress.skills[e]/20);this.skillProgress.masteryLevels[e]=r}}},{key:"checkAchievements",value:function(){var e=this;this.skillProgress&&[{id:"first_combo",condition:function(){return e.skillProgress.bestCombo>=5}},{id:"combo_master",condition:function(){return e.skillProgress.bestCombo>=20}},{id:"obstacle_avoider",condition:function(){return e.skillProgress.obstaclesAvoided>=100}},{id:"speed_demon",condition:function(){return e.skillProgress.skills.speed>=50}},{id:"accuracy_expert",condition:function(){return e.skillProgress.skills.accuracy>=80}},{id:"endurance_champion",condition:function(){return e.skillProgress.skills.endurance>=60}},{id:"strategy_master",condition:function(){return e.skillProgress.skills.strategy>=70}},{id:"reflex_legend",condition:function(){return e.skillProgress.skills.reflexes>=90}}].forEach(function(t){!e.skillProgress.achievements.includes(t.id)&&t.condition()&&e.skillProgress.achievements.push(t.id)})}},{key:"getObstacles",value:function(){return this.obstacles.filter(function(e){return e.active})}},{key:"getComboSystem",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.comboSystem)}},{key:"getSkillProgress",value:function(){return this.skillProgress}},{key:"getSkillDifficultyMultiplier",value:function(){if(!this.skillProgress)return 1;var e=Object.values(this.skillProgress.skills).reduce(function(e,t){return e+t},0)/5;return Math.max(.5,Math.min(2,1+(e-50)/100))}},{key:"saveSkillProgress",value:function(){var e=(0,r.default)(function*(){if(this.skillProgress)try{yield be.saveOfflineData(this.skillProgress.userId,{skillProgress:this.skillProgress}),yield be.addPendingAction(this.skillProgress.userId,{type:"skill_update",data:this.skillProgress})}catch(e){console.log("Error saving skill progress:",e)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Ee=function(){function e(){(0,Q.default)(this,e),this.progress=null}return(0,J.default)(e,[{key:"initializeSeasonPass",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.seasonPass)return this.progress=t.seasonPass,this.progress}catch(n){console.log("Error loading season pass data:",n)}return this.progress={userId:e,currentSeason:this.createDefaultSeason(),completedSeasons:[],totalExperience:0,premiumSeasons:[],lastUpdated:new Date},yield this.saveSeasonPassProgress(),this.progress});return function(t){return e.apply(this,arguments)}}()},{key:"createDefaultSeason",value:function(){var e=new Date,t=new Date(e.getTime()+12096e5);return{id:"gold_rush_season_1",name:"Gold Rush Season",description:"Unlock rare pot skins and exclusive rewards",startDate:e,endDate:t,duration:14,isActive:!0,tiers:this.generateSeasonTiers(),currentTier:1,experience:0,experienceToNext:100,premium:!1}}},{key:"generateSeasonTiers",value:function(){for(var e=[],t=1;t<=50;t++){var n=100*t;e.push({level:t,freeRewards:this.generateFreeRewards(t),premiumRewards:this.generatePremiumRewards(t),experienceRequired:n,unlocked:!1,claimed:!1})}return e}},{key:"generateFreeRewards",value:function(e){var t=[];return t.push({type:"coins",amount:10+2*e,rarity:"common",claimed:!1}),e%5===0&&t.push({type:"powerup",amount:1,itemId:"magnet",rarity:"rare",claimed:!1}),e%10===0&&t.push({type:"gems",amount:5,rarity:"epic",claimed:!1}),t}},{key:"generatePremiumRewards",value:function(e){var t=[];return t.push({type:"coins",amount:25+5*e,rarity:"rare",claimed:!1}),5===e&&t.push({type:"skin",amount:1,itemId:"golden_flame_pot",rarity:"epic",claimed:!1}),15===e&&t.push({type:"skin",amount:1,itemId:"rainbow_aura_pot",rarity:"legendary",claimed:!1}),30===e&&t.push({type:"skin",amount:1,itemId:"cosmic_void_pot",rarity:"legendary",claimed:!1}),e%3===0&&t.push({type:"powerup",amount:1,itemId:"doublePoints",rarity:"epic",claimed:!1}),t}},{key:"addExperience",value:function(){var e=(0,r.default)(function*(e){var t;if(null==(t=this.progress)||!t.currentSeason)return{newTier:0,rewards:[],tierUnlocked:!1};var n=this.progress.currentSeason;n.experience+=e,this.progress.totalExperience+=e;for(var o=n.currentTier,r=[],i=!1;n.experience>=n.experienceToNext&&o<n.tiers.length;){var a=n.tiers[o];a.unlocked||(a.unlocked=!0,i=!0,r.push.apply(r,(0,y.default)(a.freeRewards)),n.premium&&r.push.apply(r,(0,y.default)(a.premiumRewards))),o++,n.currentTier=o,o<n.tiers.length&&(n.experienceToNext=n.tiers[o].experienceRequired)}return yield this.saveSeasonPassProgress(),{newTier:o,rewards:r,tierUnlocked:i}});return function(t){return e.apply(this,arguments)}}()},{key:"claimTierRewards",value:function(){var e=(0,r.default)(function*(e){var t;if(null==(t=this.progress)||!t.currentSeason)return{success:!1,rewards:[]};var n=this.progress.currentSeason.tiers.find(function(t){return t.level===e});if(!n||!n.unlocked||n.claimed)return{success:!1,rewards:[]};n.claimed=!0;var o=(0,y.default)(n.freeRewards);return this.progress.currentSeason.premium&&o.push.apply(o,(0,y.default)(n.premiumRewards)),yield this.saveSeasonPassProgress(),{success:!0,rewards:o}});return function(t){return e.apply(this,arguments)}}()},{key:"upgradeToPremium",value:function(){var e=(0,r.default)(function*(){var e;return!(null==(e=this.progress)||!e.currentSeason)&&(this.progress.currentSeason.premium=!0,this.progress.premiumSeasons.push(this.progress.currentSeason.id),yield this.saveSeasonPassProgress(),!0)});return function(){return e.apply(this,arguments)}}()},{key:"checkSeasonCompletion",value:function(){var e=(0,r.default)(function*(){var e;if(null==(e=this.progress)||!e.currentSeason)return{completed:!1,nextSeason:null};var t=this.progress.currentSeason;if(new Date>t.endDate){this.progress.completedSeasons.push(t.id);var n=this.createNextSeason();return this.progress.currentSeason=n,yield this.saveSeasonPassProgress(),{completed:!0,nextSeason:n}}return{completed:!1,nextSeason:null}});return function(){return e.apply(this,arguments)}}()},{key:"createNextSeason",value:function(){var e=["Gold Rush","Volcano Fury","Rainbow Storm","Crystal Quest","Cosmic Chaos"],t=this.progress.completedSeasons.length+1,n=new Date,o=new Date(n.getTime()+12096e5);return{id:`season_${t}`,name:`${e[t%e.length]} Season`,description:"Unlock exclusive rewards and rare items",startDate:n,endDate:o,duration:14,isActive:!0,tiers:this.generateSeasonTiers(),currentTier:1,experience:0,experienceToNext:100,premium:!1}}},{key:"getCurrentSeason",value:function(){var e;return(null==(e=this.progress)?void 0:e.currentSeason)||null}},{key:"getAvailableRewards",value:function(){var e;if(null==(e=this.progress)||!e.currentSeason)return[];var t=[],n=this.progress.currentSeason;return n.tiers.forEach(function(e){e.unlocked&&!e.claimed&&(t.push.apply(t,(0,y.default)(e.freeRewards)),n.premium&&t.push.apply(t,(0,y.default)(e.premiumRewards)))}),t}},{key:"getSeasonProgress",value:function(){var e;if(null==(e=this.progress)||!e.currentSeason)return{currentTier:0,experience:0,experienceToNext:0,totalTiers:0,progressPercentage:0};var t=this.progress.currentSeason,n=t.experience/t.experienceToNext*100;return{currentTier:t.currentTier,experience:t.experience,experienceToNext:t.experienceToNext,totalTiers:t.tiers.length,progressPercentage:n}}},{key:"saveSeasonPassProgress",value:function(){var e=(0,r.default)(function*(){if(this.progress)try{yield be.saveOfflineData(this.progress.userId,{seasonPass:this.progress}),yield be.addPendingAction(this.progress.userId,{type:"season_pass_update",data:this.progress})}catch(e){console.log("Error saving season pass progress:",e)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),De=function(){function e(){(0,Q.default)(this,e),this.streak=null}return(0,J.default)(e,[{key:"initializeStreak",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.dailyStreak)return this.streak=t.dailyStreak,this.streak}catch(n){console.log("Error loading daily streak data:",n)}return this.streak={userId:e,currentStreak:0,longestStreak:0,lastLoginDate:"",totalLogins:0,gifts:this.generateDailyGifts(),streakRewards:this.generateStreakRewards(),lastUpdated:new Date},yield this.saveStreak(),this.streak});return function(t){return e.apply(this,arguments)}}()},{key:"generateDailyGifts",value:function(){for(var e=[],t=1;t<=30;t++){var n={id:`gift_day_${t}`,day:t,type:this.getGiftType(t),amount:this.getGiftAmount(t),itemId:this.getGiftItemId(t),rarity:this.getGiftRarity(t),claimed:!1,available:!1};e.push(n)}return e}},{key:"getGiftType",value:function(e){return e%7===0?"skin":e%3===0?"powerup":e%2===0?"gems":"coins"}},{key:"getGiftAmount",value:function(e){return e%7===0||e%3===0?1:e%2===0?Math.floor(5+.5*e):Math.floor(10+2*e)}},{key:"getGiftItemId",value:function(e){if(e%7===0){var t=["golden_pot","rainbow_pot","cosmic_pot","flame_pot"];return t[(e/7-1)%t.length]}if(e%3===0){var n=["magnet","doublePoints","slowMotion","goldRush"];return n[(e/3-1)%n.length]}}},{key:"getGiftRarity",value:function(e){return e%7===0?"epic":e%3===0?"rare":"common"}},{key:"generateStreakRewards",value:function(){return[{streakDays:7,rewards:[{id:"streak_7_skin",day:7,type:"skin",amount:1,itemId:"streak_7_exclusive",rarity:"epic",claimed:!1,available:!1},{id:"streak_7_coins",day:7,type:"coins",amount:100,rarity:"common",claimed:!1,available:!1}],claimed:!1},{streakDays:14,rewards:[{id:"streak_14_skin",day:14,type:"skin",amount:1,itemId:"streak_14_exclusive",rarity:"legendary",claimed:!1,available:!1},{id:"streak_14_gems",day:14,type:"gems",amount:50,rarity:"epic",claimed:!1,available:!1}],claimed:!1},{streakDays:30,rewards:[{id:"streak_30_skin",day:30,type:"skin",amount:1,itemId:"streak_30_exclusive",rarity:"legendary",claimed:!1,available:!1},{id:"streak_30_boost",day:30,type:"boost",amount:1,itemId:"permanent_coin_multiplier",rarity:"legendary",claimed:!1,available:!1}],claimed:!1}]}},{key:"updateStreak",value:function(){var e=(0,r.default)(function*(){if(!this.streak)return{streakUpdated:!1,newStreak:0,giftsAvailable:[],streakRewardsAvailable:[]};var e=(new Date).toISOString().split("T")[0],t=this.streak.lastLoginDate;if(t===e)return{streakUpdated:!1,newStreak:this.streak.currentStreak,giftsAvailable:this.getAvailableGifts(),streakRewardsAvailable:this.getAvailableStreakRewards()};var n=new Date;return n.setDate(n.getDate()-1),t===n.toISOString().split("T")[0]?this.streak.currentStreak++:this.streak.currentStreak=1,this.streak.lastLoginDate=e,this.streak.totalLogins++,this.streak.longestStreak=Math.max(this.streak.longestStreak,this.streak.currentStreak),this.updateAvailableGifts(),this.updateAvailableStreakRewards(),yield this.saveStreak(),{streakUpdated:!0,newStreak:this.streak.currentStreak,giftsAvailable:this.getAvailableGifts(),streakRewardsAvailable:this.getAvailableStreakRewards()}});return function(){return e.apply(this,arguments)}}()},{key:"updateAvailableGifts",value:function(){var e=this;this.streak&&this.streak.gifts.forEach(function(t){t.available=t.day<=e.streak.currentStreak&&!t.claimed})}},{key:"updateAvailableStreakRewards",value:function(){var e=this;this.streak&&this.streak.streakRewards.forEach(function(t){t.claimed=!1,t.rewards.forEach(function(n){n.available=e.streak.currentStreak>=t.streakDays&&!n.claimed})})}},{key:"claimDailyGift",value:function(){var e=(0,r.default)(function*(e){if(!this.streak)return{success:!1,gift:null,rewards:{}};var t=this.streak.gifts.find(function(t){return t.id===e});return t&&t.available&&!t.claimed?(t.claimed=!0,yield this.saveStreak(),{success:!0,gift:t,rewards:{type:t.type,amount:t.amount,itemId:t.itemId,rarity:t.rarity}}):{success:!1,gift:null,rewards:{}}});return function(t){return e.apply(this,arguments)}}()},{key:"claimStreakReward",value:function(){var e=(0,r.default)(function*(e){if(!this.streak)return{success:!1,rewards:[]};var t=this.streak.streakRewards.find(function(t){return t.streakDays===e});return!t||t.claimed||this.streak.currentStreak<e?{success:!1,rewards:[]}:(t.claimed=!0,t.rewards.forEach(function(e){e.claimed=!0}),yield this.saveStreak(),{success:!0,rewards:t.rewards})});return function(t){return e.apply(this,arguments)}}()},{key:"getAvailableGifts",value:function(){return this.streak?this.streak.gifts.filter(function(e){return e.available}):[]}},{key:"getAvailableStreakRewards",value:function(){var e=this;return this.streak?this.streak.streakRewards.filter(function(t){return e.streak.currentStreak>=t.streakDays&&!t.claimed}):[]}},{key:"getStreakStats",value:function(){var e,t=this;if(!this.streak)return{currentStreak:0,longestStreak:0,totalLogins:0,nextReward:0};var n=(null==(e=this.streak.streakRewards.find(function(e){return t.streak.currentStreak<e.streakDays}))?void 0:e.streakDays)||0;return{currentStreak:this.streak.currentStreak,longestStreak:this.streak.longestStreak,totalLogins:this.streak.totalLogins,nextReward:n}}},{key:"saveStreak",value:function(){var e=(0,r.default)(function*(){if(this.streak)try{yield be.saveOfflineData(this.streak.userId,{dailyStreak:this.streak}),yield be.addPendingAction(this.streak.userId,{type:"streak_update",data:this.streak})}catch(e){console.log("Error saving streak data:",e)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Ae=function(){function e(){(0,Q.default)(this,e),this.tree=null}return(0,J.default)(e,[{key:"initializeTree",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.unlockTree)return this.tree=t.unlockTree,this.tree}catch(n){console.log("Error loading unlock tree data:",n)}return this.tree={userId:e,nodes:this.generateUnlockNodes(),currentLevel:1,totalExperience:0,unlockedNodes:["pot_speed_1"],claimedNodes:[],treeProgress:0,lastUpdated:new Date},yield this.saveTree(),this.tree});return function(t){return e.apply(this,arguments)}}()},{key:"generateUnlockNodes",value:function(){return[{id:"pot_speed_1",level:1,name:"Pot Speed Upgrade",description:"Increase pot movement speed by 20%",type:"upgrade",requirements:{level:1,coins:0,achievements:[],items:[]},rewards:{coins:50,experience:20,items:["speed_boost_1"],features:["pot_speed_boost"]},unlocked:!0,claimed:!1,children:["bonus_multiplier_1","skin_shop_1"],position:{x:0,y:0},icon:"speed_icon",rarity:"common"},{id:"bonus_multiplier_1",level:2,name:"Bonus Coin Multiplier",description:"Earn 1.5x coins from bonus coins",type:"upgrade",requirements:{level:2,coins:100,achievements:["first_combo"],items:[]},rewards:{coins:75,experience:30,items:["coin_multiplier_1"],features:["bonus_coin_multiplier"]},unlocked:!1,claimed:!1,children:["gold_magnet_1"],parent:"pot_speed_1",position:{x:-1,y:1},icon:"multiplier_icon",rarity:"rare"},{id:"skin_shop_1",level:3,name:"Skin Shop",description:"Unlock the skin shop to customize your pot",type:"feature",requirements:{level:3,coins:200,achievements:[],items:["pot_speed_1"]},rewards:{coins:100,experience:50,items:["skin_shop_access"],features:["skin_shop"]},unlocked:!1,claimed:!1,children:["new_cave_theme_1"],parent:"pot_speed_1",position:{x:1,y:1},icon:"shop_icon",rarity:"epic"},{id:"gold_magnet_1",level:4,name:"Gold Magnet Powerup",description:"Automatically attract nearby coins",type:"powerup",requirements:{level:4,coins:300,achievements:["combo_master"],items:["bonus_multiplier_1"]},rewards:{coins:150,experience:75,items:["magnet_powerup"],features:["magnet_effect"]},unlocked:!1,claimed:!1,children:["double_points_1"],parent:"bonus_multiplier_1",position:{x:-2,y:2},icon:"magnet_icon",rarity:"epic"},{id:"new_cave_theme_1",level:5,name:"New Cave Theme",description:"Unlock the Volcano Cave theme",type:"theme",requirements:{level:5,coins:500,achievements:["obstacle_avoider"],items:["skin_shop_1"]},rewards:{coins:200,experience:100,items:["volcano_theme"],features:["volcano_background"]},unlocked:!1,claimed:!1,children:["rainbow_realm_1"],parent:"skin_shop_1",position:{x:2,y:2},icon:"theme_icon",rarity:"legendary"},{id:"double_points_1",level:6,name:"Double Points Powerup",description:"Double all points earned for 10 seconds",type:"powerup",requirements:{level:6,coins:750,achievements:["speed_demon"],items:["gold_magnet_1"]},rewards:{coins:300,experience:150,items:["double_points_powerup"],features:["double_points_effect"]},unlocked:!1,claimed:!1,children:["ultimate_powerup_1"],parent:"gold_magnet_1",position:{x:-3,y:3},icon:"double_icon",rarity:"legendary"},{id:"rainbow_realm_1",level:7,name:"Rainbow Realm Theme",description:"Unlock the magical Rainbow Realm",type:"theme",requirements:{level:7,coins:1e3,achievements:["accuracy_expert"],items:["new_cave_theme_1"]},rewards:{coins:500,experience:250,items:["rainbow_theme"],features:["rainbow_background"]},unlocked:!1,claimed:!1,children:["cosmic_void_1"],parent:"new_cave_theme_1",position:{x:3,y:3},icon:"rainbow_icon",rarity:"legendary"},{id:"ultimate_powerup_1",level:8,name:"Ultimate Powerup",description:"Combine all power-ups for ultimate effect",type:"powerup",requirements:{level:8,coins:2e3,achievements:["reflex_legend"],items:["double_points_1","rainbow_realm_1"]},rewards:{coins:1e3,experience:500,items:["ultimate_powerup"],features:["ultimate_effect"]},unlocked:!1,claimed:!1,children:[],parent:"double_points_1",position:{x:0,y:4},icon:"ultimate_icon",rarity:"legendary"},{id:"cosmic_void_1",level:9,name:"Cosmic Void Theme",description:"Unlock the infinite Cosmic Void",type:"theme",requirements:{level:9,coins:3e3,achievements:["endurance_champion"],items:["rainbow_realm_1"]},rewards:{coins:1500,experience:750,items:["cosmic_theme"],features:["cosmic_background"]},unlocked:!1,claimed:!1,children:["ultimate_powerup_1"],parent:"rainbow_realm_1",position:{x:4,y:4},icon:"cosmic_icon",rarity:"legendary"}]}},{key:"canUnlockNode",value:function(e){if(!this.tree)return{canUnlock:!1,missingRequirements:[]};var t=this.tree.nodes.find(function(t){return t.id===e});if(!t||t.unlocked)return{canUnlock:!1,missingRequirements:[]};var n=[];return this.tree.currentLevel<t.requirements.level&&n.push(`Level ${t.requirements.level} required`),t.parent&&!this.tree.unlockedNodes.includes(t.parent)&&n.push("Parent node must be unlocked"),{canUnlock:0===n.length,missingRequirements:n}}},{key:"unlockNode",value:function(){var e=(0,r.default)(function*(e){if(!this.tree)return{success:!1,node:null,rewards:{}};if(!this.canUnlockNode(e).canUnlock)return{success:!1,node:null,rewards:{}};var t=this.tree.nodes.find(function(t){return t.id===e});return t?(t.unlocked=!0,this.tree.unlockedNodes.push(e),this.updateTreeProgress(),yield this.saveTree(),{success:!0,node:t,rewards:t.rewards}):{success:!1,node:null,rewards:{}}});return function(t){return e.apply(this,arguments)}}()},{key:"claimNodeRewards",value:function(){var e=(0,r.default)(function*(e){if(!this.tree)return{success:!1,rewards:{}};var t=this.tree.nodes.find(function(t){return t.id===e});return t&&t.unlocked&&!t.claimed?(t.claimed=!0,this.tree.claimedNodes.push(e),yield this.saveTree(),{success:!0,rewards:t.rewards}):{success:!1,rewards:{}}});return function(t){return e.apply(this,arguments)}}()},{key:"addExperience",value:function(){var e=(0,r.default)(function*(e){var t=this;if(!this.tree)return{levelUp:!1,newLevel:0,unlockedNodes:[]};this.tree.totalExperience+=e;var n=Math.floor(this.tree.totalExperience/100)+1,o=!1;n>this.tree.currentLevel&&(o=!0,this.tree.currentLevel=n);var r=[];return this.tree.nodes.forEach(function(e){!e.unlocked&&t.canUnlockNode(e.id).canUnlock&&(e.unlocked=!0,t.tree.unlockedNodes.push(e.id),r.push(e))}),(o||r.length>0)&&(this.updateTreeProgress(),yield this.saveTree()),{levelUp:o,newLevel:n,unlockedNodes:r}});return function(t){return e.apply(this,arguments)}}()},{key:"updateTreeProgress",value:function(){if(this.tree){var e=this.tree.nodes.length,t=this.tree.unlockedNodes.length;this.tree.treeProgress=t/e*100}}},{key:"getAvailableNodes",value:function(){return this.tree?this.tree.nodes.filter(function(e){return e.unlocked&&!e.claimed}):[]}},{key:"getUnlockableNodes",value:function(){var e=this;return this.tree?this.tree.nodes.filter(function(t){return!t.unlocked&&e.canUnlockNode(t.id).canUnlock}):[]}},{key:"getTreeStats",value:function(){return this.tree?{totalNodes:this.tree.nodes.length,unlockedNodes:this.tree.unlockedNodes.length,claimedNodes:this.tree.claimedNodes.length,progressPercentage:this.tree.treeProgress,currentLevel:this.tree.currentLevel,totalExperience:this.tree.totalExperience}:{totalNodes:0,unlockedNodes:0,claimedNodes:0,progressPercentage:0,currentLevel:0,totalExperience:0}}},{key:"getNodeById",value:function(e){return this.tree&&this.tree.nodes.find(function(t){return t.id===e})||null}},{key:"getTreeStructure",value:function(){return this.tree?this.tree.nodes:[]}},{key:"saveTree",value:function(){var e=(0,r.default)(function*(){if(this.tree)try{yield be.saveOfflineData(this.tree.userId,{unlockTree:this.tree}),yield be.addPendingAction(this.tree.userId,{type:"unlock_tree_update",data:this.tree})}catch(e){console.log("Error saving unlock tree data:",e)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Ie=function(){function e(){(0,Q.default)(this,e),this.progress=null}return(0,J.default)(e,[{key:"initializeAdRewards",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.adRewards)return this.progress=t.adRewards,this.progress}catch(n){console.log("Error loading ad rewards data:",n)}return this.progress={userId:e,watchedAds:[],totalAdsWatched:0,totalRewardsEarned:{coins:0,gems:0,powerups:0,skins:0},activeCampaigns:this.generateDefaultCampaigns(),dailyAdLimit:10,adsWatchedToday:0,lastAdDate:"",lastUpdated:new Date},yield this.saveAdRewards(),this.progress});return function(t){return e.apply(this,arguments)}}()},{key:"generateDefaultCampaigns",value:function(){return[{id:"daily_coins_campaign",name:"Daily Coin Boost",description:"Watch ads to earn bonus coins",rewards:[{id:"daily_coins_reward",type:"coins",amount:25,rarity:"common",adType:"rewarded",duration:30,cooldown:60,lastWatched:null,available:!0}],requirements:{level:1,coins:0,achievements:[]},active:!0,startDate:new Date,endDate:new Date(Date.now()+31536e6)},{id:"powerup_campaign",name:"Power-up Boost",description:"Watch ads to get free power-ups",rewards:[{id:"magnet_powerup_reward",type:"powerup",amount:1,itemId:"magnet",rarity:"rare",adType:"rewarded",duration:30,cooldown:120,lastWatched:null,available:!0}],requirements:{level:3,coins:100,achievements:["first_combo"]},active:!0,startDate:new Date,endDate:new Date(Date.now()+31536e6)},{id:"multiplier_campaign",name:"Coin Multiplier",description:"Watch ads to get coin multipliers",rewards:[{id:"double_coins_reward",type:"multiplier",amount:2,rarity:"epic",adType:"rewarded",duration:30,cooldown:180,lastWatched:null,available:!0}],requirements:{level:5,coins:500,achievements:["combo_master"]},active:!0,startDate:new Date,endDate:new Date(Date.now()+31536e6)},{id:"skin_campaign",name:"Exclusive Skins",description:"Watch ads to unlock exclusive pot skins",rewards:[{id:"exclusive_skin_reward",type:"skin",amount:1,itemId:"ad_exclusive_skin",rarity:"legendary",adType:"rewarded",duration:45,cooldown:1440,lastWatched:null,available:!0}],requirements:{level:10,coins:1e3,achievements:["obstacle_avoider"]},active:!0,startDate:new Date,endDate:new Date(Date.now()+31536e6)}]}},{key:"watchAd",value:function(){var e=(0,r.default)(function*(e,t){if(!this.progress)return{success:!1,reward:null,rewards:{}};var n=this.progress.activeCampaigns.find(function(t){return t.id===e});if(!n||!n.active)return{success:!1,reward:null,rewards:{}};var o=n.rewards.find(function(e){return e.id===t});if(!o||!o.available)return{success:!1,reward:null,rewards:{}};if(this.progress.adsWatchedToday>=this.progress.dailyAdLimit)return{success:!1,reward:null,rewards:{}};if(o.lastWatched&&Date.now()-o.lastWatched.getTime()<60*o.cooldown*1e3)return{success:!1,reward:null,rewards:{}};switch(o.lastWatched=new Date,this.progress.watchedAds.push(t),this.progress.totalAdsWatched++,this.progress.adsWatchedToday++,o.type){case"coins":this.progress.totalRewardsEarned.coins+=o.amount;break;case"gems":this.progress.totalRewardsEarned.gems+=o.amount;break;case"powerup":this.progress.totalRewardsEarned.powerups+=o.amount;break;case"skin":this.progress.totalRewardsEarned.skins+=o.amount}return yield this.saveAdRewards(),{success:!0,reward:o,rewards:{type:o.type,amount:o.amount,itemId:o.itemId,rarity:o.rarity}}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getAvailableAdRewards",value:function(){var e=this;return this.progress?this.progress.activeCampaigns.filter(function(e){return e.active}).map(function(t){return{campaign:t,rewards:t.rewards.filter(function(t){if(!t.available)return!1;if(t.lastWatched&&Date.now()-t.lastWatched.getTime()<60*t.cooldown*1e3)return!1;return!(e.progress.adsWatchedToday>=e.progress.dailyAdLimit)})}}).filter(function(e){return e.rewards.length>0}):[]}},{key:"getAdStats",value:function(){return this.progress?{totalAdsWatched:this.progress.totalAdsWatched,adsWatchedToday:this.progress.adsWatchedToday,dailyLimit:this.progress.dailyAdLimit,totalRewards:this.progress.totalRewardsEarned}:{totalAdsWatched:0,adsWatchedToday:0,dailyLimit:0,totalRewards:{}}}},{key:"resetDailyAdCount",value:function(){var e=(0,r.default)(function*(){if(this.progress){var e=(new Date).toISOString().split("T")[0];this.progress.lastAdDate!==e&&(this.progress.adsWatchedToday=0,this.progress.lastAdDate=e,yield this.saveAdRewards())}});return function(){return e.apply(this,arguments)}}()},{key:"increaseDailyAdLimit",value:function(){var e=(0,r.default)(function*(e){return!!this.progress&&(this.progress.dailyAdLimit+=e,yield this.saveAdRewards(),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"saveAdRewards",value:function(){var e=(0,r.default)(function*(){if(this.progress)try{yield be.saveOfflineData(this.progress.userId,{adRewards:this.progress}),yield be.addPendingAction(this.progress.userId,{type:"ad_rewards_update",data:this.progress})}catch(e){console.log("Error saving ad rewards data:",e)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Te=function(){function e(){(0,Q.default)(this,e),this.gameState=null}return(0,J.default)(e,[{key:"initializeGame",value:function(){var e=(0,r.default)(function*(e){try{var t=yield Promise.all([we.loadPlayerProgress(e),ke.initializeMetaGame(e),xe.initializeMissions(e),Se.initializeCollection(e),Pe.initializeSkillProgress(e),Ee.initializeSeasonPass(e),De.initializeStreak(e),Ae.initializeTree(e),Ie.initializeAdRewards(e)]),n=(0,i.default)(t,9),o=n[0],r=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],d=n[7],f=n[8];return this.gameState={userId:e,isInitialized:!0,currentLevel:we.getCurrentLevel(),currentWorld:we.getWorlds().find(function(e){return e.id===o.currentWorld}),playerProgress:o,metaGameProgress:r,missionProgress:a,powerUpCollection:s,skillProgress:l,seasonPass:c,dailyStreak:u,unlockTree:d,adRewards:f,lastUpdated:new Date},this.gameState}catch(p){throw console.log("Error initializing game:",p),p}});return function(t){return e.apply(this,arguments)}}()},{key:"completeGameSession",value:function(){var e=(0,r.default)(function*(e){if(!this.gameState)throw new Error("Game not initialized");var t={rewards:{},progression:{},missions:{},seasonPass:{},streak:{}};try{var n=we.getCurrentLevel();if(n){var o=yield we.completeLevel(n.id,e.score,e.coinsCollected);t.progression=o}var r=[{type:"coin_collected",value:e.coinsCollected},{type:"time_survived",value:e.timeSurvived},{type:"combo_achieved",value:e.comboAchieved}];for(var i of r){var a=yield xe.updateMissionProgress(i.type,i.value,e);a.completedMissions.length>0&&(t.missions=a)}yield Pe.updateSkillProgress(e);var s=yield Ee.addExperience(Math.floor(e.score/10));t.seasonPass=s;var l=yield De.updateStreak();t.streak=l,yield Ae.addExperience(Math.floor(e.score/20)),yield ke.generatePassiveIncome(),this.gameState.lastUpdated=new Date,yield this.saveGameState()}catch(c){console.log("Error completing game session:",c)}return t});return function(t){return e.apply(this,arguments)}}()},{key:"getGameState",value:function(){return this.gameState}},{key:"getUserState",value:function(){return this.gameState}},{key:"getAvailableActions",value:function(){return this.gameState?{missions:xe.getAvailableMissions(),challenges:xe.getDailyChallenges(),seasonPass:Ee.getCurrentSeason(),dailyGifts:De.getAvailableGifts(),unlockableNodes:Ae.getUnlockableNodes(),adRewards:Ie.getAvailableAdRewards()}:{missions:[],challenges:[],seasonPass:null,dailyGifts:[],unlockableNodes:[],adRewards:[]}}},{key:"getPlayerStats",value:function(){var e,t;if(!this.gameState)return{level:0,experience:0,totalCoins:0,totalGames:0,bestScore:0,achievements:[],streak:0,seasonProgress:0};var n=this.gameState.playerProgress,o=this.gameState.skillProgress,r=this.gameState.dailyStreak,i=this.gameState.seasonPass;return{level:(null==n?void 0:n.level)||1,experience:(null==n?void 0:n.experience)||0,totalCoins:(null==(e=ke.getProgress())?void 0:e.currency.coins)||0,totalGames:(null==o?void 0:o.totalGamesPlayed)||0,bestScore:(null==o?void 0:o.averageScore)||0,achievements:(null==o?void 0:o.achievements)||[],streak:(null==r?void 0:r.currentStreak)||0,seasonProgress:(null==i||null==(t=i.currentSeason)?void 0:t.currentTier)||0}}},{key:"getMonetizationOpportunities",value:function(){return this.gameState?{seasonPass:Ee.getCurrentSeason(),premiumUpgrades:ke.getAvailableShopItems().filter(function(e){return"real_money"===e.currency}),exclusiveSkins:ke.getOwnedSkins().filter(function(e){return"legendary"===e.rarity}),adRewards:Ie.getAvailableAdRewards(),inviteRewards:[]}:{seasonPass:null,premiumUpgrades:[],exclusiveSkins:[],adRewards:[],inviteRewards:[]}}},{key:"saveGameState",value:function(){var e=(0,r.default)(function*(){if(this.gameState)try{yield be.saveOfflineData(this.gameState.userId,{gameState:this.gameState}),yield be.addPendingAction(this.gameState.userId,{type:"game_state_update",data:this.gameState})}catch(e){console.log("Error saving game state:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"resetGameState",value:function(){var e=(0,r.default)(function*(){this.gameState&&(this.gameState=null)});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Oe=(function(){function e(){(0,Q.default)(this,e),this.triggers=[],this.initializeTriggers()}return(0,J.default)(e,[{key:"initializeTriggers",value:function(){this.triggers=[{id:"level_fail",name:"Level Failed",description:"Player failed the level, offer retry and revive options",shouldShowPause:!0,priority:100,conditions:{gameState:["failed"],playerState:{consecutiveFails:{min:1}}},actions:{showRetry:!0,showRevive:!0,showPowerUps:!0,showShop:!1,showUpgrade:!0,showSkinSwitch:!1},monetizationOpportunity:{type:"revive",urgency:"high",message:"Continue your progress with a revive!"}},{id:"manual_pause",name:"Manual Pause",description:"Player manually paused, give full access to features",shouldShowPause:!0,priority:50,conditions:{gameState:["playing"],playerState:{timeInLevel:{min:5}}},actions:{showRetry:!1,showRevive:!1,showPowerUps:!0,showShop:!0,showUpgrade:!0,showSkinSwitch:!0},monetizationOpportunity:{type:"upgrade",urgency:"medium",message:"Upgrade your pot for better performance!"}},{id:"low_lives_blocked",name:"Low Lives or Blocked",description:"Player is in danger, offer power-ups and revives",shouldShowPause:!0,priority:90,conditions:{gameState:["playing","blocked"],playerState:{playerLives:{max:1},blockagePercentage:{min:75}}},actions:{showRetry:!1,showRevive:!0,showPowerUps:!0,showShop:!0,showUpgrade:!1,showSkinSwitch:!1},monetizationOpportunity:{type:"powerup",urgency:"high",message:"Get a power-up to survive!"}},{id:"gold_rush_active",name:"Gold Rush Active",description:"Gold Rush is active, lock pause to maintain intensity",shouldShowPause:!1,priority:200,conditions:{gameState:["playing"],playerState:{goldRushActive:!0}},actions:{showRetry:!1,showRevive:!1,showPowerUps:!1,showShop:!1,showUpgrade:!1,showSkinSwitch:!1},monetizationOpportunity:{type:"none",urgency:"low",message:"Focus on the gold rush!"}},{id:"high_score_opportunity",name:"High Score Opportunity",description:"Player is close to beating their high score",shouldShowPause:!0,priority:60,conditions:{gameState:["playing"],playerState:{playerScore:{min:1e3},timeInLevel:{min:30}}},actions:{showRetry:!1,showRevive:!0,showPowerUps:!0,showShop:!1,showUpgrade:!0,showSkinSwitch:!1},monetizationOpportunity:{type:"revive",urgency:"medium",message:"Don't lose your high score!"}},{id:"long_session",name:"Long Session",description:"Player has been playing for a while, offer break",shouldShowPause:!0,priority:30,conditions:{gameState:["playing"],playerState:{timeInLevel:{min:300}}},actions:{showRetry:!1,showRevive:!1,showPowerUps:!0,showShop:!0,showUpgrade:!0,showSkinSwitch:!0},monetizationOpportunity:{type:"upgrade",urgency:"low",message:"Take a break and upgrade!"}},{id:"first_time_player",name:"First Time Player",description:"New player, offer guidance and features",shouldShowPause:!0,priority:80,conditions:{gameState:["playing","failed"],playerState:{totalGamesPlayed:{max:3},consecutiveFails:{min:1}}},actions:{showRetry:!0,showRevive:!0,showPowerUps:!0,showShop:!0,showUpgrade:!0,showSkinSwitch:!0},monetizationOpportunity:{type:"powerup",urgency:"high",message:"Welcome! Try a power-up to help you get started!"}}]}},{key:"shouldShowPauseMenu",value:function(e){var t=(0,y.default)(this.triggers).sort(function(e,t){return t.priority-e.priority});for(var n of t)if(this.matchesTrigger(n,e))return{shouldShow:n.shouldShowPause,trigger:n,reason:n.description,actions:n.actions,monetization:n.monetizationOpportunity};return{shouldShow:!0,trigger:null,reason:"Manual pause allowed",actions:{showRetry:!1,showRevive:!1,showPowerUps:!0,showShop:!0,showUpgrade:!0,showSkinSwitch:!0},monetization:{type:"none",urgency:"low",message:""}}}},{key:"matchesTrigger",value:function(e,t){if(!e.conditions.gameState.includes(t.gameState))return!1;for(var n of Object.entries(e.conditions.playerState)){var o=(0,i.default)(n,2),r=o[0],a=o[1],s=t[r];if("object"===typeof a){if(void 0!==a.min&&s<a.min)return!1;if(void 0!==a.max&&s>a.max)return!1}else if(s!==a)return!1}return!(e.conditions.timeThreshold&&t.timeInLevel<e.conditions.timeThreshold)}},{key:"getStrategicAdvice",value:function(e){var t=this.shouldShowPauseMenu(e),n=[],o=[];return t.shouldShow?(t.actions.showRetry&&n.push("Show retry option prominently"),t.actions.showRevive&&(n.push("Offer revive with clear value proposition"),o.push("Highlight progress preservation")),t.actions.showPowerUps&&(n.push("Display available power-ups"),o.push("Show power-up effectiveness")),t.actions.showShop&&(n.push("Show shop with limited-time offers"),o.push("Create urgency with time-limited deals")),t.actions.showUpgrade&&(n.push("Suggest pot upgrades"),o.push("Show upgrade benefits clearly")),t.actions.showSkinSwitch&&(n.push("Allow skin switching"),o.push("Show locked skins to create desire"))):(n.push("Block pause to maintain game intensity"),n.push('Show "Gold Rush Active" message')),{showPause:t.shouldShow,reason:t.reason,recommendedActions:n,monetizationTips:o}}},{key:"logPauseTrigger",value:function(){var e=(0,r.default)(function*(e,t){try{var n={timestamp:(new Date).toISOString(),triggerId:(null==t?void 0:t.id)||"manual",gameState:e.gameState,playerLives:e.playerLives,playerScore:e.playerScore,timeInLevel:e.timeInLevel,goldRushActive:e.goldRushActive,blockagePercentage:e.blockagePercentage};yield be.addPendingAction("analytics",{type:"pause_trigger_log",data:n}),console.log("\ud83d\udcca Pause trigger logged:",n)}catch(o){console.log("\u274c Error logging pause trigger:",o)}});return function(t,n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),n(9216)),Be=n(1595),Ue=(function(){function e(){(0,Q.default)(this,e),this.collection=null,this.skins=[],this.initializeSkins()}return(0,J.default)(e,[{key:"initializeSkins",value:function(){this.skins=[{id:"florida",name:"Florida Pot",region:"South",theme:"State",unlockLevel:1,cost:0,currency:"coins",image:"florida.png",rarity:"common",description:"The Sunshine State pot with orange and palm tree vibes",visualEffects:["orange_glow","palm_shadow"],colors:{primary:"#FF6B35",secondary:"#4A90E2",accent:"#FFD700"},unlocked:!0,equipped:!1,source:"public_domain"},{id:"texas",name:"Texas Pot",region:"South",theme:"State",unlockLevel:5,cost:1e3,currency:"coins",image:"texas.png",rarity:"rare",description:"Lone Star State pot with star effects",visualEffects:["star_sparkle","red_white_blue"],colors:{primary:"#BF0A30",secondary:"#FFFFFF",accent:"#002868"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"california",name:"California Glow",region:"West",theme:"State",unlockChallenge:"Complete Gold Rush 3x",cost:500,currency:"coins",image:"california.png",rarity:"rare",description:"Golden State pot with sunset gradient effects",visualEffects:["sunset_gradient","golden_trail"],colors:{primary:"#FF6B6B",secondary:"#4ECDC4",accent:"#FFE66D"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"newyork",name:"New York Neon",region:"Northeast",theme:"State",cost:.99,currency:"real_money",image:"newyork.png",rarity:"epic",description:"Empire State pot with neon city lights",visualEffects:["neon_glow","city_lights"],colors:{primary:"#FF6B9D",secondary:"#4ECDC4",accent:"#45B7D1"},unlocked:!1,equipped:!1,source:"purchase"},{id:"libra",name:"Libra Pot",theme:"Zodiac",unlockChallenge:"Score 300 without missing",cost:500,currency:"coins",image:"libra.png",rarity:"rare",description:"Balanced scales of justice pot",visualEffects:["balance_glow","scale_sparkle"],colors:{primary:"#9B59B6",secondary:"#E74C3C",accent:"#F1C40F"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"aries",name:"Aries Pot",theme:"Zodiac",unlockChallenge:"Survive 5 minutes",cost:750,currency:"coins",image:"aries.png",rarity:"epic",description:"Ram horn power pot",visualEffects:["horn_glow","fire_trail"],colors:{primary:"#E74C3C",secondary:"#F39C12",accent:"#F1C40F"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"taurus",name:"Taurus Pot",theme:"Zodiac",unlockChallenge:"Collect 50 coins in one game",cost:1e3,currency:"coins",image:"taurus.png",rarity:"epic",description:"Bull strength pot",visualEffects:["earth_glow","strength_aura"],colors:{primary:"#8B4513",secondary:"#DAA520",accent:"#CD853F"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"zeus_pot",name:"Zeus Pot",theme:"Historical",unlockChallenge:"Achieve lightning combo",cost:1500,currency:"coins",image:"zeus.png",rarity:"legendary",description:"King of the gods pot with lightning effects",visualEffects:["lightning_bolt","thunder_clap"],colors:{primary:"#FFD700",secondary:"#87CEEB",accent:"#FFFFFF"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"athena_pot",name:"Athena Pot",theme:"Historical",unlockChallenge:"Complete wisdom challenge",cost:1200,currency:"coins",image:"athena.png",rarity:"epic",description:"Goddess of wisdom pot",visualEffects:["owl_wisdom","olive_branch"],colors:{primary:"#4A90E2",secondary:"#7B68EE",accent:"#87CEEB"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"roman_eagle",name:"Roman Eagle Pot",theme:"Historical",unlockChallenge:"Conquer 10 levels",cost:2e3,currency:"coins",image:"roman_eagle.png",rarity:"legendary",description:"Imperial Roman eagle pot",visualEffects:["eagle_wings","imperial_gold"],colors:{primary:"#FFD700",secondary:"#8B4513",accent:"#CD853F"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"yosemite",name:"Yosemite Pot",theme:"Nature",unlockChallenge:"Survive in nature mode",cost:800,currency:"coins",image:"yosemite.png",rarity:"rare",description:"National park inspired pot",visualEffects:["mountain_glow","forest_trail"],colors:{primary:"#228B22",secondary:"#8B4513",accent:"#87CEEB"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"yellowstone",name:"Yellowstone Pot",theme:"Nature",unlockChallenge:"Collect geothermal gems",cost:1200,currency:"coins",image:"yellowstone.png",rarity:"epic",description:"Geyser and hot spring pot",visualEffects:["steam_cloud","geyser_eruption"],colors:{primary:"#FF4500",secondary:"#FFD700",accent:"#FF6347"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"alchemy_fire",name:"Alchemy Fire Pot",theme:"Symbolic",unlockChallenge:"Transmute 100 coins",cost:1e3,currency:"coins",image:"alchemy_fire.png",rarity:"epic",description:"Fire element alchemical pot",visualEffects:["fire_transmutation","philosopher_stone"],colors:{primary:"#FF4500",secondary:"#FF6347",accent:"#FFD700"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"alchemy_water",name:"Alchemy Water Pot",theme:"Symbolic",unlockChallenge:"Flow through water levels",cost:1e3,currency:"coins",image:"alchemy_water.png",rarity:"epic",description:"Water element alchemical pot",visualEffects:["water_flow","liquid_mercury"],colors:{primary:"#00CED1",secondary:"#4ECDC4",accent:"#87CEEB"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"usa_flag",name:"USA Flag Pot",theme:"Flag",unlockChallenge:"Patriotic collection",cost:1500,currency:"coins",image:"usa_flag.png",rarity:"legendary",description:"Stars and stripes pot",visualEffects:["flag_wave","star_sparkle"],colors:{primary:"#BF0A30",secondary:"#FFFFFF",accent:"#002868"},unlocked:!1,equipped:!1,source:"public_domain"},{id:"uk_flag",name:"UK Flag Pot",theme:"Flag",unlockChallenge:"British collection",cost:1200,currency:"coins",image:"uk_flag.png",rarity:"epic",description:"Union Jack pot",visualEffects:["union_cross","royal_blue"],colors:{primary:"#012169",secondary:"#FFFFFF",accent:"#C8102E"},unlocked:!1,equipped:!1,source:"public_domain"}]}},{key:"initializeCollection",value:function(){var e=(0,r.default)(function*(e){try{var t=yield be.getOfflineData(e);if(t.skinCollection)return this.collection=t.skinCollection,this.collection}catch(n){console.log("Error loading skin collection data:",n)}return this.collection={userId:e,ownedSkins:["florida"],equippedSkin:"florida",totalSkins:this.skins.length,collectionProgress:1,lastUpdated:new Date},yield this.saveCollection(),this.collection});return function(t){return e.apply(this,arguments)}}()},{key:"unlockSkin",value:function(){var e=(0,r.default)(function*(e){if(!this.collection)return{success:!1,skin:null,message:"No collection available"};var t=this.skins.find(function(t){return t.id===e});return t?this.collection.ownedSkins.includes(e)?{success:!1,skin:null,message:"Skin already owned"}:(this.collection.ownedSkins.push(e),this.collection.collectionProgress=this.collection.ownedSkins.length/this.collection.totalSkins*100,yield this.saveCollection(),{success:!0,skin:t,message:`Unlocked ${t.name}!`}):{success:!1,skin:null,message:"Skin not found"}});return function(t){return e.apply(this,arguments)}}()},{key:"equipSkin",value:function(){var e=(0,r.default)(function*(e){if(!this.collection)return{success:!1,skin:null,message:"No collection available"};var t=this.skins.find(function(t){return t.id===e});return t&&this.collection.ownedSkins.includes(e)?(this.collection.equippedSkin=e,yield this.saveCollection(),{success:!0,skin:t,message:`Equipped ${t.name}!`}):{success:!1,skin:null,message:"Skin not owned"}});return function(t){return e.apply(this,arguments)}}()},{key:"getAllSkins",value:function(){return this.skins}},{key:"getOwnedSkins",value:function(){var e=this;return this.collection?this.skins.filter(function(t){return e.collection.ownedSkins.includes(t.id)}):[]}},{key:"getAvailableSkins",value:function(){var e=this;return this.collection?this.skins.filter(function(t){return!e.collection.ownedSkins.includes(t.id)}):this.skins}},{key:"getSkinsByTheme",value:function(e){return this.skins.filter(function(t){return t.theme===e})}},{key:"getSkinsByRarity",value:function(e){return this.skins.filter(function(t){return t.rarity===e})}},{key:"getEquippedSkin",value:function(){var e=this;return this.collection&&this.skins.find(function(t){return t.id===e.collection.equippedSkin})||null}},{key:"getCollectionStats",value:function(){return this.collection?{totalSkins:this.collection.totalSkins,ownedSkins:this.collection.ownedSkins.length,collectionProgress:this.collection.collectionProgress,equippedSkin:this.collection.equippedSkin}:{totalSkins:this.skins.length,ownedSkins:0,collectionProgress:0,equippedSkin:""}}},{key:"getRarityColor",value:function(e){switch(e){case"common":default:return"#ccc";case"rare":return"#4CAF50";case"epic":return"#9C27B0";case"legendary":return"#FFD700";case"secret":return"#FF6B6B"}}},{key:"saveCollection",value:function(){var e=(0,r.default)(function*(){if(this.collection)try{yield be.saveOfflineData(this.collection.userId,{skinCollection:this.collection}),yield be.addPendingAction(this.collection.userId,{type:"skin_collection_update",data:this.collection})}catch(e){console.log("Error saving skin collection:",e)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),function(){function e(){(0,Q.default)(this,e),this.soundEffects=[],this.backgroundMusic=[],this.isMuted=!1,this.currentMusic=null,this.initializeSounds()}return(0,J.default)(e,[{key:"initializeSounds",value:function(){this.soundEffects=[{id:"coin_catch",name:"Coin Catch",category:"coin",source:"freesound",url:"https://freesound.org/data/previews/320/320181_5121231-lq.mp3",volume:.7,loop:!1},{id:"bonus_collected",name:"Bonus Collected",category:"bonus",source:"freesound",url:"https://freesound.org/data/previews/320/320182_5121231-lq.mp3",volume:.8,loop:!1},{id:"game_over",name:"Game Over",category:"game_over",source:"freesound",url:"https://freesound.org/data/previews/320/320183_5121231-lq.mp3",volume:.6,loop:!1},{id:"ui_tap",name:"UI Tap",category:"ui",source:"kenney",url:"https://kenney.nl/assets/audio/click.mp3",volume:.5,loop:!1},{id:"powerup_activate",name:"Power-up Activate",category:"bonus",source:"freesound",url:"https://freesound.org/data/previews/320/320184_5121231-lq.mp3",volume:.8,loop:!1},{id:"skin_change",name:"Skin Change",category:"ui",source:"freesound",url:"https://freesound.org/data/previews/320/320185_5121231-lq.mp3",volume:.6,loop:!1},{id:"upgrade_success",name:"Upgrade Success",category:"bonus",source:"freesound",url:"https://freesound.org/data/previews/320/320186_5121231-lq.mp3",volume:.7,loop:!1},{id:"combo_multiplier",name:"Combo Multiplier",category:"bonus",source:"freesound",url:"https://freesound.org/data/previews/320/320187_5121231-lq.mp3",volume:.8,loop:!1}],this.backgroundMusic=[{id:"cave_ambient",name:"Cave Ambient",description:"8-bit ambient cave music for gold mining atmosphere",source:"pixabay",url:"https://pixabay.com/music/download/cave-ambient-8bit-123456.mp3",volume:.4,loop:!0},{id:"gold_rush_theme",name:"Gold Rush Theme",description:"Upbeat 8-bit music for gold rush moments",source:"pixabay",url:"https://pixabay.com/music/download/gold-rush-8bit-123457.mp3",volume:.5,loop:!0},{id:"menu_background",name:"Menu Background",description:"Calm 8-bit music for menus and shop",source:"pixabay",url:"https://pixabay.com/music/download/menu-8bit-123458.mp3",volume:.3,loop:!0}]}},{key:"playSound",value:function(){var e=(0,r.default)(function*(e){if(!this.isMuted)try{var t=this.soundEffects.find(function(t){return t.id===e});if(!t)return void console.log(`Sound not found: ${e}`);console.log(`\ud83c\udfb5 Playing sound: ${t.name}`),yield this.logSoundUsage(e,"effect")}catch(n){console.log("Error playing sound:",n)}});return function(t){return e.apply(this,arguments)}}()},{key:"playMusic",value:function(){var e=(0,r.default)(function*(e){if(!this.isMuted)try{var t=this.backgroundMusic.find(function(t){return t.id===e});if(!t)return void console.log(`Music not found: ${e}`);this.currentMusic&&(yield this.stopMusic()),this.currentMusic=e,console.log(`\ud83c\udfb5 Playing music: ${t.name}`),yield this.logMusicUsage(e)}catch(n){console.log("Error playing music:",n)}});return function(t){return e.apply(this,arguments)}}()},{key:"stopMusic",value:function(){var e=(0,r.default)(function*(){if(this.currentMusic)try{console.log("\ud83c\udfb5 Music stopped"),this.currentMusic=null}catch(e){console.log("Error stopping music:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"toggleMute",value:function(){return this.isMuted=!this.isMuted,this.isMuted&&this.stopMusic(),console.log("\ud83d\udd07 Sound "+(this.isMuted?"muted":"unmuted")),this.isMuted}},{key:"setVolume",value:function(e,t){this.soundEffects.filter(function(t){return t.category===e}).forEach(function(e){e.volume=Math.max(0,Math.min(1,t))}),console.log(`\ud83d\udd0a Volume set for ${e}: ${t}`)}},{key:"getSoundEffects",value:function(){return this.soundEffects}},{key:"getBackgroundMusic",value:function(){return this.backgroundMusic}},{key:"getSoundsByCategory",value:function(e){return this.soundEffects.filter(function(t){return t.category===e})}},{key:"logSoundUsage",value:function(){var e=(0,r.default)(function*(e,t){try{yield be.addPendingAction("analytics",{type:"sound_usage",data:{soundId:e,type:t,timestamp:(new Date).toISOString()}})}catch(n){console.log("Error logging sound usage:",n)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"logMusicUsage",value:function(){var e=(0,r.default)(function*(e){try{yield be.addPendingAction("analytics",{type:"music_usage",data:{musicId:e,timestamp:(new Date).toISOString()}})}catch(t){console.log("Error logging music usage:",t)}});return function(t){return e.apply(this,arguments)}}()},{key:"preloadSounds",value:function(){var e=(0,r.default)(function*(){try{console.log("\ud83c\udfb5 Preloading sounds..."),console.log("\u2705 Sounds preloaded successfully")}catch(e){console.log("Error preloading sounds:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"getSoundInfo",value:function(e){return this.soundEffects.find(function(t){return t.id===e})||null}},{key:"getMusicInfo",value:function(e){return this.backgroundMusic.find(function(t){return t.id===e})||null}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance()),Me=re.default.get("window"),Re=Me.width;Me.height;K.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center"},modalContainer:{backgroundColor:"#2a2a2a",borderRadius:20,padding:20,width:.9*Re,maxWidth:400,borderWidth:2,borderColor:"#FFD700",shadowColor:"#000",shadowOffset:{width:0,height:10},shadowOpacity:.5,shadowRadius:20,elevation:10},header:{alignItems:"center",marginBottom:20,paddingBottom:15,borderBottomWidth:1,borderBottomColor:"#444"},headerTitle:{fontSize:24,fontWeight:"bold",color:"#FFD700"},potLevelSection:{marginBottom:20,paddingBottom:15,borderBottomWidth:1,borderBottomColor:"#444"},potLevelText:{fontSize:18,color:"#fff",marginBottom:10,textAlign:"center"},upgradeButton:{flexDirection:"row",alignItems:"center",backgroundColor:"#4CAF50",padding:12,borderRadius:10,justifyContent:"center"},upgradeButtonDisabled:{backgroundColor:"#666"},upgradeButtonLoading:{backgroundColor:"#FFA726"},upgradeIcon:{fontSize:18,marginRight:8},upgradeText:{fontSize:16,color:"#fff",fontWeight:"bold"},skinSection:{marginBottom:20,paddingBottom:15,borderBottomWidth:1,borderBottomColor:"#444"},skinSectionTitle:{fontSize:16,color:"#fff",marginBottom:10,fontWeight:"bold"},skinScrollView:{flexDirection:"row"},skinButton:{marginRight:10,minWidth:80},skinButtonTouchable:{alignItems:"center",backgroundColor:"#3a3a3a",padding:10,borderRadius:10,borderWidth:2,borderColor:"transparent"},selectedSkinButton:{borderColor:"#FFD700",backgroundColor:"#4a4a4a"},equippedSkinButton:{borderColor:"#4CAF50",backgroundColor:"#4a4a4a"},skinIcon:{fontSize:20,marginBottom:5},skinName:{fontSize:12,color:"#fff",textAlign:"center"},equippedBadge:{fontSize:16,color:"#4CAF50",fontWeight:"bold",marginTop:2},powerUpSection:{marginBottom:20,paddingBottom:15,borderBottomWidth:1,borderBottomColor:"#444"},powerUpSectionTitle:{fontSize:16,color:"#fff",marginBottom:10,fontWeight:"bold"},powerUpScrollView:{flexDirection:"row"},powerUpButton:{alignItems:"center",backgroundColor:"#FF6B6B",padding:10,borderRadius:10,marginRight:10,minWidth:80},powerUpIcon:{fontSize:20,marginBottom:5},powerUpName:{fontSize:12,color:"#fff",textAlign:"center"},actionButtons:{flexDirection:"row",justifyContent:"space-around",marginBottom:15},actionButton:{backgroundColor:"#666",paddingVertical:10,paddingHorizontal:15,borderRadius:8},actionButtonText:{color:"#fff",fontSize:14,fontWeight:"bold"},resumeButton:{backgroundColor:"#4CAF50",paddingVertical:12,paddingHorizontal:20,borderRadius:10},resumeButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"},exitButton:{backgroundColor:"#FF6B6B",paddingVertical:10,paddingHorizontal:15,borderRadius:8},exitButtonText:{color:"#fff",fontSize:14,fontWeight:"bold"},monetizationMessage:{backgroundColor:"#FFD700",padding:10,borderRadius:8,marginTop:10},monetizationText:{color:"#1a1a1a",fontSize:14,fontWeight:"bold",textAlign:"center"}});K.default.create({container:{position:"absolute",bottom:20,zIndex:20},cartBody:{backgroundColor:"#8B4513",borderRadius:8,borderWidth:2,borderColor:"#654321",position:"relative"},flagOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:6,opacity:.8,zIndex:1},californiaFlag:{flex:1,flexDirection:"row"},flagSection:{flex:1,justifyContent:"center",alignItems:"center"},bearEmblem:{position:"absolute",top:"20%",left:"20%"},bearText:{fontSize:12},starEmblem:{position:"absolute",top:"10%",left:"10%"},starText:{fontSize:8},texasFlag:{flex:1,flexDirection:"row"},loneStar:{fontSize:16,color:"#1E3A8A"},newYorkFlag:{flex:1,flexDirection:"row"},washingtonFlag:{flex:1,flexDirection:"row"},evergreenEmblem:{position:"absolute",top:"20%",left:"20%"},treeText:{fontSize:12},maineFlag:{flex:1,flexDirection:"row"},lobsterEmblem:{position:"absolute",top:"20%",left:"20%"},lobsterText:{fontSize:12},floridaFlag:{flex:1,flexDirection:"row"},sunEmblem:{position:"absolute",top:"20%",left:"20%"},sunText:{fontSize:12},alaskaFlag:{flex:1,flexDirection:"row"},auroraEmblem:{position:"absolute",top:"20%",left:"20%"},auroraText:{fontSize:12},hawaiiFlag:{flex:1,flexDirection:"row"},hibiscusEmblem:{position:"absolute",top:"20%",left:"20%"},hibiscusText:{fontSize:12},shapeEmblem:{position:"absolute",top:"10%",left:"10%",zIndex:2},stateShape:{width:20,height:20,borderWidth:2,borderRadius:10,backgroundColor:"rgba(255, 255, 255, 0.9)",justifyContent:"center",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:5},shapeText:{fontSize:8,fontWeight:"bold",color:"#000"},cartDetails:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:3},cartFront:{position:"absolute",top:"15%",left:"10%",width:"30%",height:"40%",backgroundColor:"#654321",borderRadius:4,justifyContent:"center",alignItems:"center"},cartWindow:{width:"60%",height:"60%",backgroundColor:"#87CEEB",borderRadius:2},cartSide:{position:"absolute",top:"15%",right:"10%",width:"40%",height:"40%"},woodenPlanks:{flex:1,justifyContent:"space-between"},plank:{height:2,backgroundColor:"#654321",borderRadius:1},wheelsContainer:{position:"absolute",bottom:-8,left:0,right:0,height:16},wheel:{position:"absolute",width:16,height:16,backgroundColor:"#333333",borderRadius:8,borderWidth:2,borderColor:"#666666"},trailContainer:{position:"absolute",bottom:0,left:-20,right:-20,height:30,zIndex:1},floridaTrail:{flexDirection:"row",justifyContent:"space-around",alignItems:"center"},palmTree:{fontSize:12},sun:{fontSize:10},hawaiiTrail:{alignItems:"center"},hibiscus:{fontSize:12},alaskaTrail:{alignItems:"center"},aurora:{fontSize:12},louisianaTrail:{alignItems:"center"},bayou:{fontSize:12},coloradoTrail:{alignItems:"center"},mountain:{fontSize:12},montanaTrail:{alignItems:"center"},star:{fontSize:12},georgiaTrail:{alignItems:"center"},peach:{fontSize:12},vermontTrail:{alignItems:"center"},maple:{fontSize:12},turboEffect:{position:"absolute",top:-10,right:-5,zIndex:4},turboText:{fontSize:16}}),re.default.get("window").width;K.default.create({railContainer:{position:"absolute",bottom:0,left:0,right:0,height:20,zIndex:1},railTrack:{position:"relative",width:"100%",height:"100%"},railTop:{position:"absolute",top:2,left:0,right:0,height:3,backgroundColor:"#696969",borderRadius:1},railBottom:{position:"absolute",bottom:2,left:0,right:0,height:3,backgroundColor:"#696969",borderRadius:1},railTie:{position:"absolute",bottom:0,width:4,height:20,backgroundColor:"#8B4513",borderRadius:1},dustContainer:{position:"absolute",bottom:0,left:0,right:0,height:10},dustParticle:{position:"absolute",bottom:0,width:2,height:2,backgroundColor:"#8B7355",borderRadius:1,opacity:.6}});var ze=re.default.get("window");ze.width,ze.height;K.default.create({container:{position:"absolute",top:0,left:0,right:0,bottom:0},coinDetails:{position:"relative",width:"100%",height:"100%"},coinInner:{position:"absolute",top:4,left:4,right:4,bottom:4,backgroundColor:"#FFA500",borderRadius:10},coinShine:{position:"absolute",top:2,left:2,width:8,height:8,backgroundColor:"#FFFFFF",borderRadius:4},moneyBagDetails:{position:"relative",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},moneyBagText:{color:"#FFD700",fontSize:16,fontWeight:"bold"},moneyBagStrap:{position:"absolute",top:2,left:4,right:4,height:2,backgroundColor:"#654321",borderRadius:1},lightningDetails:{position:"relative",width:"100%",height:"100%"},lightningBolt:{position:"absolute",top:2,left:8,width:14,height:26,backgroundColor:"#FFA500",borderRadius:2},lightningTrail:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#FFFF00",borderRadius:15,opacity:.3},magnetDetails:{position:"relative",width:"100%",height:"100%"},magnetPole1:{position:"absolute",top:4,left:4,width:6,height:22,backgroundColor:"#696969",borderRadius:3},magnetPole2:{position:"absolute",top:4,right:4,width:6,height:22,backgroundColor:"#696969",borderRadius:3},magnetField:{position:"absolute",top:-5,left:-5,right:-5,bottom:-5,borderWidth:2,borderColor:"#FF0000",borderRadius:20,opacity:.5},gemstoneDetails:{position:"relative",width:"100%",height:"100%"},gemstoneFacet1:{position:"absolute",top:8,left:8,width:14,height:14,backgroundColor:"#1E90FF",borderRadius:2},gemstoneFacet2:{position:"absolute",top:4,left:4,right:4,bottom:4,backgroundColor:"#4169E1",borderRadius:2},gemstoneGlow:{position:"absolute",top:-2,left:-2,right:-2,bottom:-2,backgroundColor:"#87CEEB",borderRadius:17,opacity:.6},dynamiteDetails:{position:"relative",width:"100%",height:"100%"},dynamiteBody:{position:"absolute",top:4,left:4,right:4,bottom:8,backgroundColor:"#DC143C",borderRadius:2},dynamiteFuse:{position:"absolute",top:2,left:12,width:6,height:8,backgroundColor:"#8B4513",borderRadius:1},dynamiteSpark:{position:"absolute",top:0,left:12,width:6,height:4,backgroundColor:"#FFD700",borderRadius:2},blackRockDetails:{position:"relative",width:"100%",height:"100%"},blackRockCrack1:{position:"absolute",top:8,left:6,width:18,height:2,backgroundColor:"#1A1A1A",borderRadius:1},blackRockCrack2:{position:"absolute",top:12,left:8,width:14,height:2,backgroundColor:"#1A1A1A",borderRadius:1},luckyStarDetails:{position:"relative",width:"100%",height:"100%"},luckyStarCenter:{position:"absolute",top:8,left:8,width:14,height:14,backgroundColor:"#FFA500",borderRadius:7},luckyStarTrail:{position:"absolute",top:-5,left:-5,right:-5,bottom:-5,borderWidth:2,borderColor:"#FFD700",borderRadius:20,opacity:.3},rarityIndicator:{position:"absolute",top:-2,right:-2,width:8,height:8,borderRadius:4},rarity_common:{backgroundColor:"#FFFFFF"},rarity_uncommon:{backgroundColor:"#00FF00"},rarity_rare:{backgroundColor:"#0080FF"},rarity_epic:{backgroundColor:"#8000FF"},rarity_ultraRare:{backgroundColor:"#FFD700"}}),(0,J.default)(function e(){(0,Q.default)(this,e)},null,[{key:"checkItemCollision",value:function(e,t){if(e.collected)return!1;var n={x:e.x-(e.width||30)/2,y:e.y,width:e.width||30,height:e.height||30},o={x:t.x-t.width/2,y:t.y,width:t.width,height:t.height};return this.checkBoxCollision(n,o)}},{key:"checkBoxCollision",value:function(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}},{key:"getCartHitbox",value:function(e){var t=1.2*e.width,n=1.1*e.height;return{x:e.x-t/2,y:e.y-.1*n,width:t,height:n}}},{key:"checkMagnetRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.abs(e.x-t.x)<=n}},{key:"getMagnetAffectedItems",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return e.filter(function(e){return!e.collected&&n.checkMagnetRange(e,t,o)}).map(function(e){return e.id})}},{key:"getExplosionAffectedItems",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150;return e.filter(function(e){return!e.collected&&Math.abs(e.x-t.x)<=n}).map(function(e){return e.id})}},{key:"isItemInCartRange",value:function(e,t){var n=t.y,o=t.y+t.height;return e.y+(e.height||30)>=n&&e.y<=o}},{key:"getCollisionPriority",value:function(e){return{luckyStar:10,gemstone:9,dynamite:8,magnet:7,lightning:6,moneyBag:5,coin:4,blackRock:3}[e]||1}}]);var Le={coin:{type:"coin",visual:"\ud83e\ude99",assetPath:"assets/items/coin.png",purpose:"Basic currency +1",rarity:"common",scoreValue:1,coinValue:1,fallSpeed:1,spawnWeight:35,soundEffect:"coin_collect.wav",animationEffect:"sparkle_pop",size:1,rotationSpeed:2},moneyBag:{type:"moneyBag",visual:"\ud83d\udcb0",assetPath:"assets/items/money_bag.png",purpose:"Coin bundle +10",rarity:"uncommon",scoreValue:10,coinValue:10,fallSpeed:.9,spawnWeight:15,soundEffect:"money_bag_collect.wav",animationEffect:"coin_burst",size:1.2,rotationSpeed:1},diamond:{type:"diamond",visual:"\ud83d\udc8e",assetPath:"assets/items/diamond.png",purpose:"Premium currency +1 gem",rarity:"rare",scoreValue:50,coinValue:0,fallSpeed:.7,spawnWeight:5,soundEffect:"diamond_sparkle.wav",animationEffect:"rainbow_shine",specialEffect:"addGem",size:1.1,rotationSpeed:3},goldStar:{type:"goldStar",visual:"\u2b50",assetPath:"assets/items/gold_star.png",purpose:"Score multiplier x2 for 10s",rarity:"rare",scoreValue:25,coinValue:5,fallSpeed:.8,spawnWeight:8,soundEffect:"star_collect.wav",animationEffect:"star_trail",specialEffect:"scoreMultiplier",size:1.3,rotationSpeed:4},megaStar:{type:"megaStar",visual:"\ud83c\udf1f",assetPath:"assets/items/mega_star.png",purpose:"Frenzy mode - all coins x5 for 15s",rarity:"ultraRare",scoreValue:100,coinValue:20,fallSpeed:.5,spawnWeight:1,soundEffect:"mega_star_fanfare.wav",animationEffect:"rainbow_explosion",specialEffect:"frenzyMode",size:1.5,rotationSpeed:5},treasureSack:{type:"treasureSack",visual:"\ud83c\udf92",assetPath:"assets/items/treasure_sack.png",purpose:"Mystery reward (5-50 coins)",rarity:"uncommon",scoreValue:0,coinValue:0,fallSpeed:.85,spawnWeight:10,soundEffect:"sack_open.wav",animationEffect:"sack_bounce",specialEffect:"mysteryReward",size:1.4,rotationSpeed:.5},lightning:{type:"lightning",visual:"\u26a1",assetPath:"assets/items/lightning.png",purpose:"Speed boost - move 2x faster for 8s",rarity:"rare",scoreValue:0,coinValue:0,fallSpeed:1.5,spawnWeight:7,soundEffect:"lightning_strike.wav",animationEffect:"electric_surge",specialEffect:"speedBoost",size:1.2,rotationSpeed:0},magnet:{type:"magnet",visual:"\ud83e\uddf2",assetPath:"assets/items/magnet.png",purpose:"Auto-collect items in radius for 10s",rarity:"rare",scoreValue:0,coinValue:0,fallSpeed:1.1,spawnWeight:6,soundEffect:"magnet_activate.wav",animationEffect:"magnetic_field",specialEffect:"magnetPull",size:1.2,rotationSpeed:6},rock:{type:"rock",visual:"\ud83e\udea8",assetPath:"assets/items/rock.png",purpose:"Obstacle - lose 1 life if hit",rarity:"common",scoreValue:-10,coinValue:0,fallSpeed:1.4,spawnWeight:12,soundEffect:"rock_impact.wav",animationEffect:"dust_cloud",specialEffect:"damage",size:1.3,rotationSpeed:1.5},dynamite:{type:"dynamite",visual:"\ud83e\udde8",assetPath:"assets/items/dynamite.png",purpose:"Danger! Explodes and clears area",rarity:"uncommon",scoreValue:-20,coinValue:0,fallSpeed:1.8,spawnWeight:4,soundEffect:"dynamite_explosion.wav",animationEffect:"explosion_blast",specialEffect:"explosion",size:1.1,rotationSpeed:8}},Ne={common:1,uncommon:1.5,rare:2,epic:3,ultraRare:5},We={3:1.5,5:2,10:3,15:5};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var Ge=(0,J.default)(function e(){(0,Q.default)(this,e),this.comboState={count:0,multiplier:1,lastItemType:"",streakStartTime:0,bonusItems:[]},this.COMBO_TIMEOUT=3e3},[{key:"processItemCollection",value:function(e,t,n){var o=Date.now();o-this.comboState.streakStartTime>this.COMBO_TIMEOUT||this.comboState.lastItemType!==e?this.comboState={count:1,multiplier:1,lastItemType:e,streakStartTime:o,bonusItems:[e]}:(this.comboState.count++,this.comboState.lastItemType=e,this.comboState.bonusItems.push(e));var r=this.calculateComboMultiplier(this.comboState.count),i=Ne[t]||1,a=Math.floor(n*r*i);return{finalScore:a,comboMultiplier:r,comboBonus:a-n,isNewCombo:1===this.comboState.count}}},{key:"calculateComboMultiplier",value:function(e){var t=Object.keys(We).map(Number).sort(function(e,t){return t-e});for(var n of t)if(e>=n)return We[n];return 1}},{key:"getComboState",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.comboState)}},{key:"resetCombo",value:function(){this.comboState={count:0,multiplier:1,lastItemType:"",streakStartTime:0,bonusItems:[]}}},{key:"isComboActive",value:function(){return Date.now()-this.comboState.streakStartTime<this.COMBO_TIMEOUT}},{key:"getComboDisplayText",value:function(){if(this.comboState.count<=1)return"";var e=this.calculateComboMultiplier(this.comboState.count);return`${this.comboState.count}x COMBO! (${e.toFixed(1)}x)`}},{key:"getComboBonusItems",value:function(){return(0,y.default)(this.comboState.bonusItems)}},{key:"checkComboAchievements",value:function(){var e=[],t=this.comboState.count;return 3===t&&e.push("Triple Combo!"),5===t&&e.push("Quintuple Combo!"),10===t&&e.push("Decuple Combo!"),15===t&&e.push("Ultimate Combo!"),20===t&&e.push("Legendary Combo!"),e}}]),He=(0,J.default)(function e(t){(0,Q.default)(this,e),this.activePowerUps=new Map,this.comboCount=0,this.lastCollisionTime=0,this.callbacks=t},[{key:"handleItemCollision",value:function(e,t){var n=Le[e];if(n){var o=Date.now(),r=o-this.lastCollisionTime;switch(this.lastCollisionTime=o,this.callbacks.onSoundPlay(n.soundEffect),e){case"coin":this.handleCoinCollision(n);break;case"moneyBag":this.handleMoneyBagCollision(n);break;case"gemstone":this.handleGemstoneCollision(n);break;case"lightning":this.handleLightningCollision(n);break;case"magnet":this.handleMagnetCollision(n);break;case"dynamite":this.handleDynamiteCollision(n);break;case"blackRock":this.handleBlackRockCollision(n);break;case"luckyStar":this.handleLuckyStarCollision(n)}this.updateCombo(e,r),this.callbacks.onItemCollect(t)}}},{key:"handleCoinCollision",value:function(e){var t=e.scoreValue,n=e.coinValue,o=this.getActiveMultiplier(),r=Math.floor(t*o),i=Math.floor(n*o);this.callbacks.onScoreChange(r),this.callbacks.onCoinChange(i)}},{key:"handleMoneyBagCollision",value:function(e){var t=e.scoreValue,n=e.coinValue,o=this.getActiveMultiplier(),r=Math.floor(t*o),i=Math.floor(n*o);this.callbacks.onScoreChange(r),this.callbacks.onCoinChange(i)}},{key:"handleGemstoneCollision",value:function(e){var t=e.scoreValue,n=e.coinValue,o=this.getActiveMultiplier(),r=Math.floor(t*o),i=Math.floor(n*o);this.callbacks.onScoreChange(r),this.callbacks.onCoinChange(i),this.callbacks.onAchievement("Gem Collector!")}},{key:"handleLightningCollision",value:function(e){this.callbacks.onPowerUpActivate("speedBoost",5e3),this.callbacks.onAchievement("Speed Demon!")}},{key:"handleMagnetCollision",value:function(e){this.callbacks.onPowerUpActivate("magnetPull",5e3),this.callbacks.onAchievement("Magnetic Attraction!")}},{key:"handleDynamiteCollision",value:function(e){this.callbacks.onPowerUpActivate("explosion",1e3),this.callbacks.onAchievement("Explosive!")}},{key:"handleBlackRockCollision",value:function(e){this.callbacks.onLifeChange(-1),this.resetCombo()}},{key:"handleLuckyStarCollision",value:function(e){var t=e.scoreValue,n=e.coinValue,o=this.getActiveMultiplier(),r=Math.floor(t*o),i=Math.floor(n*o);this.callbacks.onScoreChange(r),this.callbacks.onCoinChange(i),this.callbacks.onPowerUpActivate("frenzyMode",1e4),this.callbacks.onAchievement("Lucky Star!")}},{key:"updateCombo",value:function(e,t){t>3e3?this.comboCount=1:this.comboCount++;var n=this.calculateComboMultiplier(this.comboCount);this.callbacks.onComboUpdate(this.comboCount,n)}},{key:"calculateComboMultiplier",value:function(e){return e>=15?5:e>=10?3:e>=5?2:e>=3?1.5:1}},{key:"getActiveMultiplier",value:function(){var e=1;return this.activePowerUps.has("frenzyMode")&&(e*=2),this.activePowerUps.has("speedBoost")&&(e*=1.2),e}},{key:"resetCombo",value:function(){this.comboCount=0,this.callbacks.onComboUpdate(0,1)}},{key:"updatePowerUps",value:function(e){var t=Date.now();for(var n of this.activePowerUps.entries()){var o=(0,i.default)(n,2),r=o[0];t>=o[1]&&this.activePowerUps.delete(r)}}},{key:"getActivePowerUps",value:function(){return new Map(this.activePowerUps)}},{key:"isPowerUpActive",value:function(e){return this.activePowerUps.has(e)}}]),qe=[{id:"maine_lobster",stateName:"Maine",stateAbbr:"ME",unlockType:"specialItem",description:"Lobster falling item",requirement:{type:"score",value:1e3},isUnlocked:!1,theme:{primaryColor:"#1B4F72",secondaryColor:"#85C1E9",accentColor:"#F8C471"},visualElements:{specialItem:"lobster"}},{id:"new_hampshire_old_man",stateName:"New Hampshire",stateAbbr:"NH",unlockType:"shapeSkin",description:"Old Man of the Mountain silhouette",requirement:{type:"score",value:2e3},isUnlocked:!1,theme:{primaryColor:"#2E86AB",secondaryColor:"#A23B72",accentColor:"#F18F01"},visualElements:{shapeOutline:"mountain"}},{id:"vermont_maple",stateName:"Vermont",stateAbbr:"VT",unlockType:"particleTrail",description:"Maple leaf particle trail",requirement:{type:"score",value:1500},isUnlocked:!1,theme:{primaryColor:"#2E8B57",secondaryColor:"#8B4513",accentColor:"#FFD700"},visualElements:{particleEffect:"maple_leaves"}},{id:"massachusetts_bay",stateName:"Massachusetts",stateAbbr:"MA",unlockType:"flagSkin",description:"Bay State flag pattern",requirement:{type:"score",value:2500},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{flagPattern:"bay_state"}},{id:"rhode_island_anchor",stateName:"Rhode Island",stateAbbr:"RI",unlockType:"shapeSkin",description:"Anchor silhouette",requirement:{type:"score",value:1200},isUnlocked:!1,theme:{primaryColor:"#1E40AF",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{shapeOutline:"anchor"}},{id:"connecticut_oak",stateName:"Connecticut",stateAbbr:"CT",unlockType:"specialItem",description:"Oak leaf falling item",requirement:{type:"score",value:1800},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#059669",accentColor:"#F59E0B"},visualElements:{specialItem:"oak_leaf"}},{id:"new_york_empire",stateName:"New York",stateAbbr:"NY",unlockType:"flagSkin",description:"Empire State flag pattern",requirement:{type:"score",value:5e3},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{flagPattern:"empire_state"}},{id:"new_jersey_garden",stateName:"New Jersey",stateAbbr:"NJ",unlockType:"particleTrail",description:"Garden flower particle trail",requirement:{type:"score",value:3e3},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{particleEffect:"garden_flowers"}},{id:"pennsylvania_keystone",stateName:"Pennsylvania",stateAbbr:"PA",unlockType:"shapeSkin",description:"Keystone shape silhouette",requirement:{type:"score",value:3500},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{shapeOutline:"keystone"}},{id:"delaware_blue_hen",stateName:"Delaware",stateAbbr:"DE",unlockType:"specialItem",description:"Blue Hen falling item",requirement:{type:"score",value:2200},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{specialItem:"blue_hen"}},{id:"maryland_old_line",stateName:"Maryland",stateAbbr:"MD",unlockType:"flagSkin",description:"Old Line State flag pattern",requirement:{type:"score",value:4e3},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{flagPattern:"old_line_state"}},{id:"virginia_old_dominion",stateName:"Virginia",stateAbbr:"VA",unlockType:"flagSkin",description:"Old Dominion flag pattern",requirement:{type:"score",value:4500},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{flagPattern:"old_dominion"}},{id:"north_carolina_tar_heel",stateName:"North Carolina",stateAbbr:"NC",unlockType:"particleTrail",description:"Pine needle particle trail",requirement:{type:"score",value:3800},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#059669",accentColor:"#F59E0B"},visualElements:{particleEffect:"pine_needles"}},{id:"south_carolina_palmetto",stateName:"South Carolina",stateAbbr:"SC",unlockType:"shapeSkin",description:"Palmetto tree silhouette",requirement:{type:"score",value:4200},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#059669",accentColor:"#F59E0B"},visualElements:{shapeOutline:"palmetto"}},{id:"georgia_peach",stateName:"Georgia",stateAbbr:"GA",unlockType:"specialItem",description:"Peach falling item",requirement:{type:"score",value:2800},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{specialItem:"peach"}},{id:"florida_sunshine",stateName:"Florida",stateAbbr:"FL",unlockType:"flagSkin",description:"Sunshine State flag pattern",requirement:{type:"score",value:6e3},isUnlocked:!1,theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"},visualElements:{flagPattern:"sunshine_state"}}],$e=(0,J.default)(function e(){(0,Q.default)(this,e),this.unlockedStates=new Set,this.currentState=null,this.loadUnlockedStates()},[{key:"checkUnlockRequirement",value:function(e,t){switch(e.requirement.type){case"score":return t.score>=e.requirement.value;case"coins":return t.coins>=e.requirement.value;case"combo":return t.combo>=e.requirement.value;case"time":return t.timeSurvived>=e.requirement.value;case"items":return t.itemsCollected>=e.requirement.value;default:return!1}}},{key:"unlockState",value:function(e){this.unlockedStates.add(e),this.saveUnlockedStates()}},{key:"checkForNewUnlocks",value:function(e){var t=this,n=[];return qe.forEach(function(o){!t.unlockedStates.has(o.id)&&t.checkUnlockRequirement(o,e)&&(t.unlockState(o.id),n.push(o))}),n}},{key:"getUnlockedStates",value:function(){var e=this;return qe.filter(function(t){return e.unlockedStates.has(t.id)})}},{key:"getAvailableUnlocks",value:function(){var e=this;return qe.filter(function(t){return!e.unlockedStates.has(t.id)})}},{key:"setCurrentState",value:function(e){this.currentState=e}},{key:"getCurrentStateTheme",value:function(){var e=this;return this.currentState&&qe.find(function(t){return t.id===e.currentState})||null}},{key:"getSpecialItems",value:function(){return this.getUnlockedStates().filter(function(e){return"specialItem"===e.unlockType}).map(function(e){return e.visualElements.specialItem}).filter(Boolean)}},{key:"loadUnlockedStates",value:function(){}},{key:"saveUnlockedStates",value:function(){console.log("Unlocked states:",Array.from(this.unlockedStates))}}]),Ke=(re.default.get("window").width,K.default.create({container:{position:"absolute",top:100,left:20,right:20,zIndex:1e3},notification:{flexDirection:"row",padding:15,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},iconContainer:{marginRight:12,justifyContent:"center"},icon:{fontSize:24},content:{flex:1,justifyContent:"center"},title:{fontSize:14,fontWeight:"bold",marginBottom:2},stateName:{fontSize:16,fontWeight:"bold",marginBottom:2},description:{fontSize:12,opacity:.9},flagPreview:{width:30,height:20,borderRadius:4,overflow:"hidden",marginLeft:10},flagStrip:{height:"50%",width:"100%"}}),(0,J.default)(function e(){(0,Q.default)(this,e)},null,[{key:"getAllItems",value:function(){return this.items}},{key:"getRandomItem",value:function(){return this.items[Math.floor(Math.random()*this.items.length)]}},{key:"getItemByType",value:function(e){return this.items.find(function(t){return t.type===e})}},{key:"isStateBonusItem",value:function(e){return this.items.some(function(t){return t.type===e})}},{key:"getSpawnChance",value:function(e){return e>=5?.01:0}},{key:"shouldSpawnStateItem",value:function(e){return Math.random()<this.getSpawnChance(e)}},{key:"applyItemEffect",value:function(e,t){var n=this.getItemByType(e);if(!n)return{newScore:t.score,newCoins:t.coins,newCombo:t.combo,newFallSpeed:t.fallSpeed,newMagnetRange:t.magnetRange,effectMessage:"",effectDuration:0};var o=t.score,r=t.coins,i=t.combo,a=t.fallSpeed,s=t.magnetRange,l="",c=0;switch(n.effect){case"bonus_points":o+=n.points,l=`+${n.points} points from ${n.state}!`;break;case"double_score":o*=2,c=1e4,l=`Double score from ${n.state}!`;break;case"slow_fall":a*=.7,c=8e3,l=`Slow fall from ${n.state}!`;break;case"magnet_boost":s*=1.5,c=12e3,l=`Magnet boost from ${n.state}!`;break;case"combo_multiplier":i*=2,c=15e3,l=`Combo multiplier from ${n.state}!`}return{newScore:o,newCoins:r,newCombo:i,newFallSpeed:a,newMagnetRange:s,effectMessage:l,effectDuration:c}}},{key:"getItemsByState",value:function(e){return this.items.filter(function(t){return t.state===e})}},{key:"getAvailableStates",value:function(){return(0,y.default)(new Set(this.items.map(function(e){return e.state})))}}]));function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Ke.items=[{type:"georgia_peach",emoji:"\ud83c\udf51",points:15,effect:"bonus_points",description:"Georgia Peach - Sweet bonus points!",state:"Georgia"},{type:"vermont_maple",emoji:"\ud83c\udf41",points:10,effect:"double_score",description:"Vermont Maple - Double score for 10 seconds!",state:"Vermont"},{type:"colorado_crystal",emoji:"\ud83c\udfd4\ufe0f",points:12,effect:"slow_fall",description:"Colorado Crystal - Slows falling items!",state:"Colorado"},{type:"hawaii_hibiscus",emoji:"\ud83c\udf38",points:14,effect:"extra_life",description:"Hawaii Hibiscus - Grants an extra life!",state:"Hawaii"},{type:"maine_lobster",emoji:"\ud83e\udd9e",points:20,effect:"bonus_points",description:"Maine Lobster - Premium bonus points!",state:"Maine"},{type:"texas_star",emoji:"\u2b50",points:18,effect:"bonus_points",description:"Texas Star - Lone star bonus!",state:"Texas"},{type:"alaska_aurora",emoji:"\u2728",points:16,effect:"bonus_points",description:"Alaska Aurora - Northern lights bonus!",state:"Alaska"},{type:"arizona_cactus",emoji:"\ud83c\udf35",points:13,effect:"bonus_points",description:"Arizona Cactus - Desert bonus!",state:"Arizona"},{type:"washington_apple",emoji:"\ud83c\udf4e",points:11,effect:"bonus_points",description:"Washington Apple - Evergreen bonus!",state:"Washington"},{type:"louisiana_bayou",emoji:"\ud83c\udf3f",points:17,effect:"bonus_points",description:"Louisiana Bayou - Mystical bonus!",state:"Louisiana"},{type:"nevada_silver",emoji:"\ud83e\udd48",points:19,effect:"bonus_points",description:"Nevada Silver - Silver state bonus!",state:"Nevada"},{type:"oregon_beaver",emoji:"\ud83e\uddab",points:16,effect:"bonus_points",description:"Oregon Beaver - Beaver state bonus!",state:"Oregon"},{type:"montana_star",emoji:"\u2b50",points:15,effect:"bonus_points",description:"Montana Star - Big sky bonus!",state:"Montana"}];var Je=(0,J.default)(function e(){(0,Q.default)(this,e)},null,[{key:"saveUnlock",value:function(){var e=(0,r.default)(function*(e,t){try{var n=F.currentUser;if(!n)return console.error("No authenticated user"),!1;var r={id:e,unlockedAt:new Date,type:t.type,name:t.name};return yield(0,v.setDoc)((0,v.doc)(S,"users",n.uid,"unlocks",e),r),yield(0,v.updateDoc)((0,v.doc)(S,"users",n.uid),(0,o.default)((0,o.default)({},`unlocks.${e}`,r),"lastUpdated",new Date)),console.log(`Unlocked skin ${e} saved to Firebase`),!0}catch(i){return console.error("Error saving unlock to Firebase:",i),!1}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getUnlocks",value:function(){var e=(0,r.default)(function*(){try{var e=F.currentUser;if(!e)return console.error("No authenticated user"),{};var t=yield(0,v.getDoc)((0,v.doc)(S,"users",e.uid));if(t.exists()){var n=t.data();if(null!=n&&n.unlocks)return n.unlocks}var o=(0,v.query)((0,v.collection)(S,"users",e.uid,"unlocks")),r=yield(0,v.getDocs)(o),i={};return r.forEach(function(e){var t=e.data();i[e.id]=t}),i}catch(a){return console.error("Error getting unlocks from Firebase:",a),{}}});return function(){return e.apply(this,arguments)}}()},{key:"isSkinUnlocked",value:function(){var e=(0,r.default)(function*(e){try{var t=F.currentUser;return!!t&&(yield(0,v.getDoc)((0,v.doc)(S,"users",t.uid,"unlocks",e))).exists()}catch(n){return console.error("Error checking if skin is unlocked:",n),!1}});return function(t){return e.apply(this,arguments)}}()},{key:"saveSelectedSkin",value:function(){var e=(0,r.default)(function*(e){try{var t=F.currentUser;return t?(yield(0,v.updateDoc)((0,v.doc)(S,"users",t.uid),{"profile.skin.id":e,"profile.skin.selectedAt":new Date,lastUpdated:new Date}),console.log(`Selected skin ${e} saved to Firebase`),!0):(console.error("No authenticated user"),!1)}catch(n){return console.error("Error saving selected skin to Firebase:",n),!1}});return function(t){return e.apply(this,arguments)}}()},{key:"getSelectedSkin",value:function(){var e=(0,r.default)(function*(){try{var e=F.currentUser;if(!e)return null;var t=yield(0,v.getDoc)((0,v.doc)(S,"users",e.uid));if(t.exists()){var n,o,r=t.data();return(null==r||null==(n=r.profile)||null==(o=n.skin)?void 0:o.id)||null}return null}catch(i){return console.error("Error getting selected skin from Firebase:",i),null}});return function(){return e.apply(this,arguments)}}()},{key:"unlockSkin",value:function(){var e=(0,r.default)(function*(e,t){try{return(yield this.isSkinUnlocked(e))?(console.log(`Skin ${e} is already unlocked`),!0):!!(yield this.saveUnlock(e,t))&&(console.log(`Successfully unlocked skin ${e}`),!0)}catch(n){return console.error("Error unlocking skin:",n),!1}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getUnlockProgress",value:function(){var e=(0,r.default)(function*(e){try{var t=yield this.getUnlocks(),n=Object.values(t).filter(function(t){return t.type===e}).length,o={flag:5,shape:5,trail:5}[e]||0;return{unlocked:n,total:o,percentage:o>0?n/o*100:0}}catch(r){return console.error("Error getting unlock progress:",r),{unlocked:0,total:0,percentage:0}}});return function(t){return e.apply(this,arguments)}}()},{key:"syncUnlocks",value:function(){var e=(0,r.default)(function*(){try{var e=F.currentUser;if(!e)return!1;var t=yield this.getUnlocks(),n=Qe(Qe({},yield this.getLocalUnlocks()),t);return yield(0,v.updateDoc)((0,v.doc)(S,"users",e.uid),{unlocks:n,lastSynced:new Date}),!0}catch(o){return console.error("Error syncing unlocks:",o),!1}});return function(){return e.apply(this,arguments)}}()},{key:"getLocalUnlocks",value:function(){var e=(0,r.default)(function*(){try{return{}}catch(e){return console.error("Error getting local unlocks:",e),{}}});return function(){return e.apply(this,arguments)}}()}]),Xe=n(2790),Ze=(0,J.default)(function e(){(0,Q.default)(this,e)},null,[{key:"light",value:function(){Xe.impactAsync(Xe.ImpactFeedbackStyle.Light)}},{key:"medium",value:function(){Xe.impactAsync(Xe.ImpactFeedbackStyle.Medium)}},{key:"heavy",value:function(){Xe.impactAsync(Xe.ImpactFeedbackStyle.Heavy)}},{key:"success",value:function(){Xe.notificationAsync(Xe.NotificationFeedbackType.Success)}},{key:"warning",value:function(){Xe.notificationAsync(Xe.NotificationFeedbackType.Warning)}},{key:"error",value:function(){Xe.notificationAsync(Xe.NotificationFeedbackType.Error)}},{key:"selection",value:function(){Xe.selectionAsync()}},{key:"specialEvent",value:function(){setTimeout(function(){return Xe.impactAsync(Xe.ImpactFeedbackStyle.Light)},0),setTimeout(function(){return Xe.impactAsync(Xe.ImpactFeedbackStyle.Medium)},100),setTimeout(function(){return Xe.impactAsync(Xe.ImpactFeedbackStyle.Heavy)},200)}},{key:"combo",value:function(e){e>=10?this.heavy():e>=5?this.medium():this.light()}},{key:"stateUnlock",value:function(){var e=this;this.success(),setTimeout(function(){return e.medium()},150)}},{key:"achievementUnlock",value:function(){this.specialEvent()}},{key:"powerUpActivation",value:function(){var e=this;this.medium(),setTimeout(function(){return e.light()},100)}},{key:"gameOver",value:function(){var e=this;this.error(),setTimeout(function(){return e.heavy()},200)}}]),et=(0,J.default)(function e(){(0,Q.default)(this,e)},null,[{key:"checkUnlockConditions",value:function(e,t){var n=t.condition;switch(n.type){case"level":return e.level>=n.value;case"score":return e.score>=n.value;case"coins":return e.coins>=n.value;case"games":return e.gamesPlayed>=n.value;case"survival":return e.survivalTime>=n.value;case"items":var o=n.itemType||t.id;return(e.itemsCollected[o]||0)>=n.value;case"achievement":return e.achievements.includes(n.value);case"seasonal":return this.isSeasonalEventActive(n.value);default:return!1}}},{key:"isSeasonalEventActive",value:function(e){var t=this.seasonalEvents[e];if(!t)return!1;var n=(new Date).getMonth()+1;return t.startMonth<=t.endMonth?n>=t.startMonth&&n<=t.endMonth:n>=t.startMonth||n<=t.endMonth}},{key:"getActiveSeasonalEvents",value:function(){var e=this;return Object.keys(this.seasonalEvents).filter(function(t){return e.isSeasonalEventActive(t)})}},{key:"getSeasonalSkins",value:function(){var e=this,t=this.getActiveSeasonalEvents(),n=[];return t.forEach(function(t){var o=e.seasonalEvents[t];o&&n.push.apply(n,(0,y.default)(o.states))}),n}},{key:"getRarityColor",value:function(e){return this.rarityColors[e]||"#CCCCCC"}},{key:"checkAllUnlocks",value:function(){var e=(0,r.default)(function*(e,t){var n=[];for(var o of t)try{if(yield Je.isSkinUnlocked(o.id))continue;this.checkUnlockConditions(e,o)&&(yield Je.unlockSkin(o.id,o))&&(n.push(o.id),Ze.achievementUnlock())}catch(r){console.error(`Error checking unlock for ${o.id}:`,r)}return n});return function(t,n){return e.apply(this,arguments)}}()},{key:"generateMysteryCrate",value:function(){var e=(0,r.default)(function*(e){try{var t=Math.random();if(t<.05){var n=yield Je.getUnlocks(),o=Object.keys(n);if(o.length>0)return{type:"skin",value:o[Math.floor(Math.random()*o.length)],rarity:"epic"}}else{if(t<.15){var r=["speedBoost","magnetPull","explosion","frenzyMode"];return{type:"powerup",value:r[Math.floor(Math.random()*r.length)],rarity:"rare"}}if(t<.35)return{type:"coins",value:Math.floor(100*Math.random())+50,rarity:"common"}}return null}catch(i){return console.error("Error generating mystery crate:",i),null}});return function(t){return e.apply(this,arguments)}}()},{key:"processMysteryCrate",value:function(){var e=(0,r.default)(function*(e,t){try{switch(t.type){case"skin":case"coins":case"powerup":return!0;default:return!1}}catch(n){return console.error("Error processing mystery crate:",n),!1}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getUnlockProgress",value:function(e,t){var n=t.condition,o=0,r=n.value;switch(n.type){case"level":o=e.level;break;case"score":o=e.score;break;case"coins":o=e.coins;break;case"games":o=e.gamesPlayed;break;case"survival":o=e.survivalTime;break;case"items":var i=n.itemType||t.id;o=e.itemsCollected[i]||0;break;case"achievement":o=e.achievements.includes(n.value)?1:0,r=1;break;case"seasonal":o=this.isSeasonalEventActive(n.value)?1:0,r=1;break;default:o=0,r=1}return{current:o,required:r,percentage:Math.min(o/r*100,100),isComplete:o>=r}}},{key:"getSeasonalEventInfo",value:function(e){return this.seasonalEvents[e]}},{key:"getAllSeasonalEvents",value:function(){return this.seasonalEvents}}]);et.rarityColors={common:"#CCCCCC",uncommon:"#4ADE80",rare:"#60A5FA",epic:"#A78BFA",legendary:"#FBBF24",seasonal:"#F87171"},et.seasonalEvents={"black-history-month":{name:"Black History Month",startMonth:2,endMonth:2,states:["georgia","alabama","mississippi","louisiana"],description:"Celebrate Black History Month"},"hispanic-heritage-month":{name:"Hispanic Heritage Month",startMonth:9,endMonth:10,states:["california","texas","new_mexico","arizona","florida"],description:"Celebrate Hispanic Heritage"},"presidents-day":{name:"Presidents Day",startMonth:2,endMonth:2,states:["illinois","virginia","ohio","massachusetts"],description:"Honor U.S. Presidents"},"independence-day":{name:"Independence Day",startMonth:7,endMonth:7,states:["pennsylvania","massachusetts","virginia","delaware"],description:"Celebrate Independence Day"},thanksgiving:{name:"Thanksgiving",startMonth:11,endMonth:11,states:["massachusetts","pennsylvania","virginia"],description:"Give thanks with special unlocks"}};var tt=n(4363),nt=new((0,J.default)(function e(){(0,Q.default)(this,e),this.sounds=new Map,this.musicTrack=null,this.isMusicPlaying=!1,this.soundEnabled=!0,this.musicEnabled=!0,this.volume=.7,this.soundEffects={goldCoin:"coin-collect-high",silverCoin:"coin-collect-medium",bronzeCoin:"coin-collect-low",horseshoe:"lucky-charm",fourLeafClover:"magic-sparkle",shamrock:"irish-luck",mysteryCrateOrange:"crate-open-1",mysteryCrateBrown:"crate-open-2",mysteryCratePurple:"crate-open-epic",giftBoxRed:"gift-unwrap",giftBoxOrange:"gift-surprise",stopwatch:"time-slow",magnet:"magnet-activate",multiplier:"multiplier-activate",cartCollect:"cart-pickup",cartRoll:"cart-rolling",buttonTap:"button-tap",menuOpen:"menu-swoosh",menuClose:"menu-close",gameStart:"game-start-fanfare",gameOver:"game-over",levelUp:"level-up",achievement:"achievement-unlock",highScore:"new-highscore",starBurst:"star-burst",sparkle:"sparkle-effect",explosion:"explosion-small",combo2x:"combo-2x",combo3x:"combo-3x",combo5x:"combo-5x",combo10x:"combo-epic"},this.initialize()},[{key:"initialize",value:function(){var e=(0,r.default)(function*(){try{yield tt.Audio.setAudioModeAsync({allowsRecordingIOS:!1,playsInSilentModeIOS:!0,staysActiveInBackground:!1,shouldDuckAndroid:!0}),yield this.preloadEssentialSounds()}catch(e){console.log("Error initializing audio:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"preloadEssentialSounds",value:function(){var e=(0,r.default)(function*(){for(var e of["goldCoin","buttonTap","gameStart","gameOver"])yield this.loadSound(e)});return function(){return e.apply(this,arguments)}}()},{key:"loadSound",value:function(){var e=(0,r.default)(function*(e){if(!this.sounds.has(e))try{var t=(yield tt.Audio.Sound.createAsync({uri:`assets/sounds/${this.soundEffects[e]}.mp3`},{shouldPlay:!1,volume:this.volume})).sound;this.sounds.set(e,{sound:t,isLoaded:!0})}catch(n){this.sounds.set(e,{sound:null,isLoaded:!1})}});return function(t){return e.apply(this,arguments)}}()},{key:"playSound",value:function(){var e=(0,r.default)(function*(e,t){if(this.soundEnabled)try{this.sounds.has(e)||(yield this.loadSound(e));var n=this.sounds.get(e);null!=n&&n.sound&&n.isLoaded?(void 0!==(null==t?void 0:t.volume)&&(yield n.sound.setVolumeAsync(t.volume*this.volume)),void 0!==(null==t?void 0:t.pitch)&&(yield n.sound.setRateAsync(t.pitch,!0)),yield n.sound.replayAsync()):this.playHapticFeedback(e)}catch(o){console.log(`Error playing sound ${e}:`,o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"playHapticFeedback",value:function(e){e.includes("coin")||e.includes("collect")?Xe.impactAsync(Xe.ImpactFeedbackStyle.Light):e.includes("crate")||e.includes("gift")?Xe.impactAsync(Xe.ImpactFeedbackStyle.Medium):e.includes("achievement")||e.includes("levelUp")?Xe.impactAsync(Xe.ImpactFeedbackStyle.Heavy):e.includes("game")&&Xe.notificationAsync(Xe.NotificationFeedbackType.Success)}},{key:"playItemCollectionSound",value:function(){var e=(0,r.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;yield this.playSound(e),t>=10?yield this.playSound("combo10x",{volume:1,pitch:1.2}):t>=5?yield this.playSound("combo5x",{volume:.9,pitch:1.1}):t>=3?yield this.playSound("combo3x",{volume:.8,pitch:1.05}):t>=2&&(yield this.playSound("combo2x",{volume:.7,pitch:1}))});return function(t){return e.apply(this,arguments)}}()},{key:"playBackgroundMusic",value:function(){var e=(0,r.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main-theme";if(this.musicEnabled)try{this.musicTrack&&(yield this.musicTrack.stopAsync(),yield this.musicTrack.unloadAsync());var t=(yield tt.Audio.Sound.createAsync({uri:`assets/music/${e}.mp3`},{shouldPlay:!0,isLooping:!0,volume:.5*this.volume})).sound;this.musicTrack=t,this.isMusicPlaying=!0}catch(n){console.log("Error playing background music:",n)}});return function(){return e.apply(this,arguments)}}()},{key:"stopBackgroundMusic",value:function(){var e=(0,r.default)(function*(){this.musicTrack&&this.isMusicPlaying&&(yield this.musicTrack.stopAsync(),this.isMusicPlaying=!1)});return function(){return e.apply(this,arguments)}}()},{key:"pauseBackgroundMusic",value:function(){var e=(0,r.default)(function*(){this.musicTrack&&this.isMusicPlaying&&(yield this.musicTrack.pauseAsync(),this.isMusicPlaying=!1)});return function(){return e.apply(this,arguments)}}()},{key:"resumeBackgroundMusic",value:function(){var e=(0,r.default)(function*(){this.musicTrack&&!this.isMusicPlaying&&(yield this.musicTrack.playAsync(),this.isMusicPlaying=!0)});return function(){return e.apply(this,arguments)}}()},{key:"setSoundEnabled",value:function(e){this.soundEnabled=e}},{key:"setMusicEnabled",value:function(e){this.musicEnabled=e,e||this.stopBackgroundMusic()}},{key:"setVolume",value:function(e){this.volume=Math.max(0,Math.min(1,e)),this.musicTrack&&this.musicTrack.setVolumeAsync(.5*this.volume)}},{key:"cleanup",value:function(){var e=(0,r.default)(function*(){for(var e of(yield this.stopBackgroundMusic(),this.sounds)){var t=(0,i.default)(e,2),n=(t[0],t[1]);n.sound&&(yield n.sound.unloadAsync())}this.sounds.clear()});return function(){return e.apply(this,arguments)}}()},{key:"playVictorySequence",value:function(){var e=(0,r.default)(function*(){var e=this;yield this.playSound("achievement"),setTimeout(function(){return e.playSound("levelUp")},500),setTimeout(function(){return e.playSound("starBurst")},1e3)});return function(){return e.apply(this,arguments)}}()},{key:"playGameOverSequence",value:function(){var e=(0,r.default)(function*(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(yield this.playSound("highScore"),setTimeout(function(){return e.playSound("achievement")},1e3)):yield this.playSound("gameOver")});return function(){return e.apply(this,arguments)}}()},{key:"playPowerUpSequence",value:function(){var e=(0,r.default)(function*(e){yield this.playSound(e),yield this.playSound("sparkle",{volume:.5})});return function(t){return e.apply(this,arguments)}}()}])),ot=n(6947);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var it=function(){var e,t=G(),n=(0,a.useState)(t.getEquippedCartSkin()),s=(0,i.default)(n,2),l=s[0],c=s[1],u=(0,a.useState)(t.getEquippedTrail()),d=(0,i.default)(u,2),f=d[0],p=d[1],h=(0,a.useState)((null==(e=t.unlocks)?void 0:e.stateFlags)||[]),g=(0,i.default)(h,2),m=g[0],y=g[1];(0,a.useEffect)(function(){t.unlocks&&(c(t.getEquippedCartSkin()),p(t.getEquippedTrail()),y(t.unlocks.stateFlags))},[t.unlocks]);var v=(0,a.useCallback)(function(e){if(!t.unlocks)return!1;if(e.startsWith("cart")){var n=e.replace("cart","").toLowerCase(),o=t.getStateFlag(n);return void 0!==o&&o.progress>=50}return!0},[t.unlocks]),b=(0,a.useCallback)(function(e,t){return f?{type:f.particleType,color:f.color,effect:f.effect,position:{x:e,y:t}}:null},[f]),w=(0,a.useCallback)(function(){if(!l)return{skinId:"default",colors:["#8B4513","#654321"],icon:"\ud83d\uded2"};var e={texas:{colors:["#002868","#BF0A30"],icon:"\u2b50"},california:{colors:["#FFD700","#FF6347"],icon:"\ud83d\udc3b"},florida:{colors:["#FFA500","#00CED1"],icon:"\ud83c\udf34"},newyork:{colors:["#002D62","#FF6319"],icon:"\ud83d\uddfd"},arizona:{colors:["#CE1126","#FFC72C"],icon:"\ud83c\udf35"},default:{colors:["#8B4513","#654321"],icon:"\ud83d\uded2"}};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({skinId:l.id},e[l.id]||e.default)},[l]),k=(0,a.useCallback)(function(){var e=(0,r.default)(function*(e,t){nt.playSound("achievement"),ot.notificationAsync(ot.NotificationFeedbackType.Success);for(var n="state"===e?20:10,o=[],r=0;r<n;r++)o.push({type:"confetti",delay:50*r});return o});return function(t,n){return e.apply(this,arguments)}}(),[]),x=(0,a.useCallback)(function(){var e=(0,r.default)(function*(e){if(t.unlocks){var n=[];return 1!==e.totalCoins||S("first_coin")||(yield t.unlockAchievement("first_coin",{type:"coins",value:10}),n.push("first_coin")),e.totalCoins>=100&&!S("coin_collector")&&(yield t.unlockAchievement("coin_collector",{type:"skin",value:"golden_cart"}),n.push("coin_collector")),m.length>=5&&!S("explorer")&&(yield t.unlockAchievement("explorer",{type:"trail",value:"rainbow"}),n.push("explorer")),e.highestCombo>=10&&!S("combo_master")&&(yield t.unlockAchievement("combo_master",{type:"gems",value:50}),n.push("combo_master")),n}});return function(t){return e.apply(this,arguments)}}(),[t,m]),S=function(e){var n;return(null==(n=t.unlocks)?void 0:n.achievements.some(function(t){return t.id===e}))||!1},F=(0,a.useCallback)(function(){var e=(0,r.default)(function*(e,n){var o=t.getStateFlag(e);if(!o)return yield t.unlockStateFlag(e),yield k("state",e),{unlocked:!0,progress:0};var r=Math.min(100,o.progress+n);return yield t.updateStateProgress(e,r),o.progress<100&&r>=100?(yield k("state",e),{completed:!0,rewards:o.rewards}):{progress:r}});return function(t,n){return e.apply(this,arguments)}}(),[t,k]),C=(0,a.useCallback)(function(e){var n,o=null==(n=t.unlocks)?void 0:n.powerUps.find(function(t){return t.id===e});return o?1+.2*(o.level-1):1},[t.unlocks]),_=(0,a.useCallback)(function(e,t){return!(e.coins&&t.coins<e.coins)&&!(e.gems&&t.gems<e.gems)},[]),j=(0,a.useCallback)(function(e,t){return{skin_texas:{coins:500,level:5},skin_california:{coins:750,level:8},skin_florida:{coins:600,level:6},skin_newyork:{coins:1e3,level:10},skin_arizona:{coins:650,level:7},trail_rainbow:{gems:50,achievements:3},trail_fire:{coins:1500,level:15},trail_ice:{gems:75,states:10},trail_golden:{coins:2e3,level:20},upgrade_magnet:{coins:200*(P("magnet")+1)},upgrade_slowtime:{coins:250*(P("slowtime")+1)},upgrade_multiplier:{gems:25*(P("multiplier")+1)}}[`${e}_${t}`]||{coins:100}},[]),P=function(e){var n,o;return(null==(n=t.unlocks)||null==(o=n.powerUps.find(function(t){return t.id===e}))?void 0:o.level)||0};return{currentCartSkin:l,currentTrail:f,unlockedStates:m,canSpawnItem:v,applyTrailEffect:b,getCartVisuals:w,celebrateUnlock:k,checkAchievements:x,progressStateUnlock:F,getPowerUpMultiplier:C,canAffordUnlock:_,getUnlockRequirements:j,equipCartSkin:t.equipCartSkin,equipTrail:t.equipTrail,unlockCartSkin:t.unlockCartSkin,unlockTrail:t.unlockTrail,upgradePowerUp:t.upgradePowerUp,totalUnlocks:t.getTotalUnlocksCount(),isLoading:t.loading,error:t.error}},at=(0,J.default)(function e(){(0,Q.default)(this,e)},null,[{key:"shouldUnlockMysterySkin",value:function(){return 100*Math.random()<=10}},{key:"unlockMysterySkin",value:function(){var e=(0,r.default)(function*(){try{var e=F.currentUser;if(!e)return console.error("No authenticated user"),null;var t=this.cratePool[Math.floor(Math.random()*this.cratePool.length)];return t?(yield(0,v.updateDoc)((0,v.doc)(S,"users",e.uid),{unlocks:(0,v.arrayUnion)(t.reward),lastUpdated:new Date}),Ze.achievementUnlock(),console.log(`Mystery skin unlocked: ${t.reward}`),t):(console.error("No mystery crates available"),null)}catch(n){return console.error("Error unlocking mystery skin:",n),null}});return function(){return e.apply(this,arguments)}}()},{key:"getMysteryCrates",value:function(){return this.cratePool}},{key:"getMysteryCrate",value:function(e){return this.cratePool.find(function(t){return t.id===e})||null}},{key:"getMysteryCratesByRarity",value:function(e){return this.cratePool.filter(function(t){return t.rarity===e})}},{key:"addMysteryCrate",value:function(e){this.cratePool.push(e)}},{key:"removeMysteryCrate",value:function(e){this.cratePool=this.cratePool.filter(function(t){return t.id!==e})}},{key:"getRarityColor",value:function(e){return{common:"#CCCCCC",uncommon:"#4ADE80",rare:"#60A5FA",epic:"#A78BFA",legendary:"#FBBF24"}[e]||"#CCCCCC"}},{key:"getRarityEmoji",value:function(e){return{common:"\ud83d\udce6",uncommon:"\ud83c\udf81",rare:"\ud83d\udc8e",epic:"\ud83c\udf1f",legendary:"\ud83d\udc51"}[e]||"\ud83d\udce6"}}]);at.cratePool=[{id:"crate_001",reward:"hawaii",rarity:"legendary",unlock_condition:"Drop from Mystery Crate",asset:"trails/hawaii_trail.png",name:"Hawaii Mystery Trail",description:"Rare Hawaii trail from mystery crate"},{id:"crate_002",reward:"alaska",rarity:"epic",unlock_condition:"Drop from Mystery Crate",asset:"flags/alaska_flag.png",name:"Alaska Mystery Flag",description:"Epic Alaska flag from mystery crate"},{id:"crate_003",reward:"vermont",rarity:"rare",unlock_condition:"Drop from Mystery Crate",asset:"trails/vermont_trail.png",name:"Vermont Mystery Trail",description:"Rare Vermont trail from mystery crate"},{id:"crate_004",reward:"colorado",rarity:"rare",unlock_condition:"Drop from Mystery Crate",asset:"shapes/colorado_shape.png",name:"Colorado Mystery Crystal",description:"Rare Colorado crystal from mystery crate"},{id:"crate_005",reward:"montana",rarity:"epic",unlock_condition:"Drop from Mystery Crate",asset:"trails/montana_trail.png",name:"Montana Mystery Trail",description:"Epic Montana trail from mystery crate"},{id:"crate_006",reward:"oregon",rarity:"uncommon",unlock_condition:"Drop from Mystery Crate",asset:"shapes/oregon_shape.png",name:"Oregon Mystery Cart",description:"Uncommon Oregon cart from mystery crate"}];n(7267);var st=re.default.get("window"),lt=st.width;st.height;K.default.create({overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center",zIndex:1e3},container:{backgroundColor:"#1A1A1A",borderRadius:20,padding:30,alignItems:"center",maxWidth:.9*lt},crateContainer:{position:"relative",marginBottom:20},glowEffect:{position:"absolute",top:-10,left:-10,right:-10,bottom:-10,borderRadius:60,opacity:.3},crate:{width:100,height:100,borderRadius:20,borderWidth:3,backgroundColor:"#2A2A2A",justifyContent:"center",alignItems:"center"},crateIcon:{fontSize:32,marginBottom:5},crateText:{fontSize:10,fontWeight:"bold",color:"#FFFFFF"},content:{alignItems:"center",marginBottom:20},title:{fontSize:24,fontWeight:"bold",color:"#FFFFFF",marginBottom:10},message:{fontSize:18,color:"#FFFFFF",marginBottom:5,textAlign:"center"},rarity:{fontSize:14,fontWeight:"bold"},buttons:{flexDirection:"row",gap:15},button:{paddingHorizontal:20,paddingVertical:12,borderRadius:10,minWidth:120,alignItems:"center"},claimButton:{backgroundColor:"#FFD700"},closeButton:{backgroundColor:"transparent",borderWidth:1,borderColor:"#666666"},buttonText:{fontSize:14,fontWeight:"bold",color:"#1A1A1A"},closeButtonText:{fontSize:14,fontWeight:"bold",color:"#FFFFFF"}});var ct=function(){var e=(0,a.useState)([]),t=(0,i.default)(e,2),n=t[0],o=t[1],s=(0,a.useState)([]),l=(0,i.default)(s,2),c=l[0],u=l[1],d=(0,a.useState)(!0),f=(0,i.default)(d,2),p=f[0],h=f[1],g=(0,a.useState)(null),m=(0,i.default)(g,2),y=m[0],v=m[1];(0,a.useEffect)(function(){var e=function(){var e=(0,r.default)(function*(){try{h(!0),v(null);var e=j();u(e);var t=(yield b()).filter(function(e){return!("seasonal"!==e.rarity||!e.season)&&_(e.season)});o(t)}catch(n){console.error("Error loading seasonal skins:",n),v("Failed to load seasonal skins")}finally{h(!1)}});return function(){return e.apply(this,arguments)}}();e()},[]);var b=function(){var e=(0,r.default)(function*(){try{return[{id:"georgia_bhm",name:"Black History Trail (GA)",type:"trail",rarity:"seasonal",season:"black_history_month",asset:"trails/bhm_georgia_trail.png",description:"Celebrate Black History Month with Georgia",theme:{primaryColor:"#1F2937",secondaryColor:"#374151",accentColor:"#F59E0B"},unlock:"Play during February",available:!0},{id:"texas_hispanic",name:"Hispanic Heritage Flag (TX)",type:"flag",rarity:"seasonal",season:"hispanic_heritage",asset:"flags/hispanic_texas_flag.png",description:"Honor Hispanic Heritage in Texas",theme:{primaryColor:"#DC2626",secondaryColor:"#EF4444",accentColor:"#F59E0B"},unlock:"Play during Hispanic Heritage Month",available:!0},{id:"california_hispanic",name:"Hispanic Heritage Shape (CA)",type:"shape",rarity:"seasonal",season:"hispanic_heritage",asset:"shapes/hispanic_california_shape.png",description:"Celebrate Hispanic Heritage in California",theme:{primaryColor:"#1E40AF",secondaryColor:"#3B82F6",accentColor:"#F59E0B"},unlock:"Play during Hispanic Heritage Month",available:!0},{id:"alaska_winter",name:"Winter Wonderland (AK)",type:"trail",rarity:"seasonal",season:"winter_holidays",asset:"trails/winter_alaska_trail.png",description:"Experience Alaska's winter magic",theme:{primaryColor:"#1E293B",secondaryColor:"#475569",accentColor:"#E2E8F0"},unlock:"Play during Winter Holidays",available:!0},{id:"vermont_fall",name:"Autumn Maple (VT)",type:"shape",rarity:"seasonal",season:"thanksgiving",asset:"shapes/autumn_vermont_shape.png",description:"Vermont's beautiful autumn colors",theme:{primaryColor:"#92400E",secondaryColor:"#F59E0B",accentColor:"#DC2626"},unlock:"Play during Thanksgiving",available:!0},{id:"hawaii_summer",name:"Summer Paradise (HI)",type:"trail",rarity:"seasonal",season:"summer_solstice",asset:"trails/summer_hawaii_trail.png",description:"Hawaii's summer paradise",theme:{primaryColor:"#059669",secondaryColor:"#10B981",accentColor:"#F59E0B"},unlock:"Play during Summer Solstice",available:!0},{id:"california_pride",name:"Pride Celebration (CA)",type:"flag",rarity:"seasonal",season:"pride_month",asset:"flags/pride_california_flag.png",description:"Celebrate Pride Month in California",theme:{primaryColor:"#7C3AED",secondaryColor:"#A855F7",accentColor:"#EC4899"},unlock:"Play during Pride Month",available:!0},{id:"new_york_independence",name:"Independence Stars (NY)",type:"shape",rarity:"seasonal",season:"independence_day",asset:"shapes/independence_ny_shape.png",description:"Celebrate Independence Day in New York",theme:{primaryColor:"#DC2626",secondaryColor:"#1E40AF",accentColor:"#FFFFFF"},unlock:"Play during Independence Day",available:!0}]}catch(y){return console.error("Error loading skins:",y),[]}});return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.default)(function*(){try{var e=yield b(),t=new Date,n=new Date(t.getFullYear(),t.getMonth()+1,1);return e.filter(function(e){return!("seasonal"!==e.rarity||!e.season)&&j(n).includes(e.season)})}catch(y){return console.error("Error loading upcoming skins:",y),[]}});return function(){return e.apply(this,arguments)}}();return{activeSeasonalSkins:n,currentEvents:c,isLoading:p,error:y,getSkinsByEvent:function(e){return n.filter(function(t){return t.season===e})},getSkinsByType:function(e){return n.filter(function(t){return t.type===e})},isSkinCurrentlyAvailable:function(e){return n.some(function(t){return t.id===e})},getAvailableCount:function(){return n.length},getUpcomingSkins:w,refresh:function(){o([]),u([]),h(!0),v(null)}}},ut=n(1250),dt=n.n(ut),ft="revenuecat_entitlements_cache",pt=function(){function e(){(0,Q.default)(this,e),this.isInitialized=!1}return(0,J.default)(e,[{key:"initialize",value:function(){var e=(0,r.default)(function*(e){var t=this;if(!this.isInitialized||this.currentUserId!==e)try{var n=Y.default.select({ios:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.REVENUECAT_API_KEY_IOS,android:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"portrait",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.REVENUECAT_API_KEY_ANDROID});if(!n)return void console.warn("RevenueCat API key not found. Subscriptions will be disabled.");dt().setLogLevel(ut.LOG_LEVEL.ERROR),yield dt().configure({apiKey:n,appUserID:e||null,observerMode:!1,useAmazon:!1}),this.isInitialized=!0,this.currentUserId=e,dt().addCustomerInfoUpdateListener(function(e){t.cacheEntitlements(e.entitlements)}),console.log("RevenueCat initialized successfully")}catch(o){throw console.error("Failed to initialize RevenueCat:",o),o}});return function(t){return e.apply(this,arguments)}}()},{key:"getCustomerInfo",value:function(){var e=(0,r.default)(function*(){if(!this.isInitialized)return console.warn("RevenueCat not initialized"),null;try{return yield dt().getCustomerInfo()}catch(t){console.error("Error getting customer info:",t);var e=yield this.getCachedEntitlements();return e&&this.isCacheValid(e)?{entitlements:e.entitlements}:null}});return function(){return e.apply(this,arguments)}}()},{key:"getOfferings",value:function(){var e=(0,r.default)(function*(){if(!this.isInitialized)return console.warn("RevenueCat not initialized"),null;try{return yield dt().getOfferings()}catch(e){return console.error("Error getting offerings:",e),null}});return function(){return e.apply(this,arguments)}}()},{key:"purchasePackage",value:function(){var e=(0,r.default)(function*(e){if(!this.isInitialized)return console.warn("RevenueCat not initialized"),null;try{var t=(yield dt().purchasePackage(e)).customerInfo;return yield this.cacheEntitlements(t.entitlements),t}catch(o){var n=o;if(n.code===ut.PURCHASES_ERROR_CODE.USER_CANCELLED)console.log("User cancelled purchase");else{if(n.code===ut.PURCHASES_ERROR_CODE.PRODUCT_ALREADY_PURCHASED)return console.log("Product already purchased"),yield this.restorePurchases();console.error("Purchase error:",n)}throw o}});return function(t){return e.apply(this,arguments)}}()},{key:"restorePurchases",value:function(){var e=(0,r.default)(function*(){if(!this.isInitialized)return console.warn("RevenueCat not initialized"),null;try{var e=yield dt().restorePurchases();return yield this.cacheEntitlements(e.entitlements),e}catch(t){throw console.error("Error restoring purchases:",t),t}});return function(){return e.apply(this,arguments)}}()},{key:"checkEntitlement",value:function(){var e=(0,r.default)(function*(e){var t=yield this.getCustomerInfo();if(!t)return!1;var n=t.entitlements.active[e];return!0===(null==n?void 0:n.isActive)});return function(t){return e.apply(this,arguments)}}()},{key:"getActiveEntitlements",value:function(){var e=(0,r.default)(function*(){var e=yield this.getCustomerInfo();return e?Object.keys(e.entitlements.active).filter(function(t){return e.entitlements.active[t].isActive}):[]});return function(){return e.apply(this,arguments)}}()},{key:"manageSubscriptions",value:function(){var e=(0,r.default)(function*(){"ios"===Y.default.OS?yield dt().showManageSubscriptions():n(919).default.openURL("https://play.google.com/store/account/subscriptions")});return function(){return e.apply(this,arguments)}}()},{key:"cacheEntitlements",value:function(){var e=(0,r.default)(function*(e){try{var t={entitlements:e,timestamp:Date.now(),userId:this.currentUserId};yield c.default.setItem(ft,JSON.stringify(t))}catch(n){console.error("Error caching entitlements:",n)}});return function(t){return e.apply(this,arguments)}}()},{key:"getCachedEntitlements",value:function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem(ft);return e?JSON.parse(e):null}catch(t){return console.error("Error getting cached entitlements:",t),null}});return function(){return e.apply(this,arguments)}}()},{key:"isCacheValid",value:function(e){return Date.now()-e.timestamp<6048e5&&e.userId===this.currentUserId}},{key:"clearCache",value:function(){var e=(0,r.default)(function*(){try{yield c.default.removeItem(ft)}catch(e){console.error("Error clearing cache:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"getSubscriptionStatus",value:function(){var e=(0,r.default)(function*(){var e=yield this.getCustomerInfo();if(!e)return{isActive:!1};var t=e.entitlements.active.gold_vault;return t&&t.isActive?{isActive:!0,expiresAt:t.expirationDate||void 0,willRenew:t.willRenew,platform:t.store}:{isActive:!1}});return function(){return e.apply(this,arguments)}}()},{key:"syncPurchases",value:function(){var e=(0,r.default)(function*(){if(this.isInitialized)try{yield dt().syncPurchases(),console.log("Purchases synced successfully")}catch(e){console.error("Error syncing purchases:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=(0,r.default)(function*(){if(this.isInitialized)try{yield dt().logOut(),yield this.clearCache(),this.currentUserId=void 0,console.log("Logged out from RevenueCat")}catch(e){console.error("Error logging out:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"openManageSubscriptions",value:function(){var e=(0,r.default)(function*(){if(!this.isInitialized)throw new Error("RevenueCat not initialized");try{"ios"===Y.default.OS?console.log("Opening iOS subscription management..."):"android"===Y.default.OS&&console.log("Opening Android subscription management...")}catch(e){throw console.error("Error opening subscription management:",e),e}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}(),ht=pt.getInstance(),gt=pt.getInstance();function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var vt="gold_vault_entitlement",bt="gold_vault",wt=function(e){var t=(0,a.useState)({isSubscriber:!1,entitlements:[],isLoading:!0,error:null}),n=(0,i.default)(t,2),o=n[0],s=n[1],l=(0,a.useCallback)((0,r.default)(function*(){try{var e=yield c.default.getItem(vt);if(e){var t=JSON.parse(e),n=Date.now();(t.expiresAt>n||n-t.cachedAt<6048e5)&&s(function(e){return yt(yt({},e),{},{isSubscriber:!0,entitlements:t.entitlements||[bt],expiresAt:t.expiresAt,willRenew:t.willRenew})})}}catch(o){console.error("Error loading cached entitlement:",o)}}),[]),u=(0,a.useCallback)((0,r.default)(function*(){s(function(e){return yt(yt({},e),{},{isLoading:!0,error:null})});try{yield ht.initialize(e);var t=yield ht.getCustomerInfo();if(!t)return void s(function(e){return yt(yt({},e),{},{isSubscriber:!1,entitlements:[],isLoading:!1})});var n,o=t.entitlements.active[bt],r=!0===(null==o?void 0:o.isActive),i=Object.keys(t.entitlements.active).filter(function(e){return t.entitlements.active[e].isActive});null!=o&&o.expirationDate&&(n=new Date(o.expirationDate).getTime()),s({isSubscriber:r,entitlements:i,isLoading:!1,error:null,expiresAt:n,willRenew:null==o?void 0:o.willRenew}),r?yield c.default.setItem(vt,JSON.stringify({entitlements:i,expiresAt:n,willRenew:null==o?void 0:o.willRenew,cachedAt:Date.now()})):yield c.default.removeItem(vt),e&&L&&(yield d(e,{active:r,expiresAt:n,entitlementIds:i}))}catch(a){console.error("Error fetching entitlements:",a),s(function(e){return yt(yt({},e),{},{isLoading:!1,error:a})}),yield l()}}),[e,l]),d=function(){var e=(0,r.default)(function*(e,t){try{var n=(0,v.doc)(L,"users",e);(yield(0,v.getDoc)(n)).exists()&&(yield(0,v.updateDoc)(n,{subscription:t,updatedAt:(new Date).toISOString()}))}catch(o){console.error("Error syncing to Firebase:",o)}});return function(t,n){return e.apply(this,arguments)}}(),f=(0,a.useCallback)((0,r.default)(function*(){yield u()}),[u]),p=(0,a.useCallback)(function(e){return o.entitlements.includes(e)},[o.entitlements]),h=(0,a.useCallback)(function(){return!!o.expiresAt&&Date.now()>o.expiresAt},[o.expiresAt]),g=(0,a.useCallback)(function(){if(!o.expiresAt)return null;var e=o.expiresAt-Date.now();return e<0?0:Math.ceil(e/864e5)},[o.expiresAt]);return(0,a.useEffect)(function(){l().then(function(){u()})},[e]),(0,a.useEffect)(function(){return function(){}},[u]),{isSubscriber:o.isSubscriber,entitlements:o.entitlements,isLoading:o.isLoading,error:o.error,expiresAt:o.expiresAt,willRenew:o.willRenew,refresh:f,hasEntitlement:p,isExpired:h,getDaysUntilExpiration:g}};const kt=new((0,J.default)(function e(){(0,Q.default)(this,e),this.sounds={coinCollect:null,bonusCollect:null,powerUpActivate:null,explosion:null,levelUp:null,gameOver:null,backgroundMusic:null,comboSound:null,encouragement:null,purchase:null,upgrade:null},this.isEnabled=!0,this.musicEnabled=!0,this.volume=.7},[{key:"initialize",value:function(){var e=(0,r.default)(function*(){console.log("Web Audio Manager initialized")});return function(){return e.apply(this,arguments)}}()},{key:"loadSounds",value:function(){var e=(0,r.default)(function*(){console.log("Web sounds ready")});return function(){return e.apply(this,arguments)}}()},{key:"createAudio",value:function(e){var t=new Audio(e);return t.volume=this.volume,t}},{key:"playSound",value:function(){var e=(0,r.default)(function*(e,t){if(this.isEnabled)try{if((new Audio).volume=(null==t?void 0:t.volume)||this.volume,console.log(`Playing sound: ${e}`),"undefined"!==typeof AudioContext){var n=new(window.AudioContext||window.webkitAudioContext),o=n.createOscillator(),r=n.createGain();o.connect(r),r.connect(n.destination),o.frequency.value={coinCollect:800,bonusCollect:1e3,powerUpActivate:600,explosion:200,levelUp:1200,gameOver:300,backgroundMusic:440,comboSound:900,encouragement:700,purchase:1100,upgrade:850}[e],r.gain.value=.1*((null==t?void 0:t.volume)||this.volume),o.start(),o.stop(n.currentTime+.1)}}catch(i){console.log("Web audio not available")}});return function(t,n){return e.apply(this,arguments)}}()},{key:"playBackgroundMusic",value:function(){var e=(0,r.default)(function*(){this.musicEnabled&&this.isEnabled&&console.log("Playing background music (web)")});return function(){return e.apply(this,arguments)}}()},{key:"stopBackgroundMusic",value:function(){var e=(0,r.default)(function*(){console.log("Stopping background music (web)")});return function(){return e.apply(this,arguments)}}()},{key:"playEncouragement",value:function(){var e=(0,r.default)(function*(e){yield this.playSound("encouragement")});return function(t){return e.apply(this,arguments)}}()},{key:"setEnabled",value:function(e){this.isEnabled=e,e||this.stopBackgroundMusic()}},{key:"setMusicEnabled",value:function(e){this.musicEnabled=e,e?this.isEnabled&&this.playBackgroundMusic():this.stopBackgroundMusic()}},{key:"setVolume",value:function(e){this.volume=Math.max(0,Math.min(1,e))}},{key:"isAudioEnabled",value:function(){return this.isEnabled}},{key:"isMusicEnabled",value:function(){return this.musicEnabled}},{key:"getVolume",value:function(){return this.volume}},{key:"vibrate",value:function(){var e=(0,r.default)(function*(e){"vibrate"in navigator&&navigator.vibrate(e||50)});return function(t){return e.apply(this,arguments)}}()},{key:"cleanup",value:function(){var e=(0,r.default)(function*(){yield this.stopBackgroundMusic()});return function(){return e.apply(this,arguments)}}()}]));function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ft=function(e){return e.COIN_SPARKLE="coin_sparkle",e.GOLD_BURST="gold_burst",e.STAR_EXPLOSION="star_explosion",e.COMBO_TRAIL="combo_trail",e.POWER_UP_AURA="power_up_aura",e.LEVEL_UP_CONFETTI="level_up_confetti",e.ACHIEVEMENT_STARS="achievement_stars",e.COLLISION_SPARK="collision_spark",e}({}),Ct=function(){function e(){(0,Q.default)(this,e),this.particles=new Map,this.animationCallbacks=new Map}return(0,J.default)(e,[{key:"getParticleConfig",value:function(e){return(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},Ft.COIN_SPARKLE,{count:8,duration:800,colors:["#FFD700","#FFA500","#FFFF00"],startPosition:{x:0,y:0},spread:50,gravity:.2,fadeOut:!0,scale:{min:.3,max:.8},velocity:{min:2,max:5}}),Ft.GOLD_BURST,{count:15,duration:1200,colors:["#FFD700","#FF8C00","#FFA500","#FFFF00"],startPosition:{x:0,y:0},spread:100,gravity:.3,fadeOut:!0,scale:{min:.5,max:1.2},velocity:{min:3,max:8}}),Ft.STAR_EXPLOSION,{count:20,duration:1500,colors:["#FFFFFF","#FFFACD","#F0E68C"],startPosition:{x:0,y:0},spread:150,gravity:.1,fadeOut:!0,scale:{min:.4,max:1},velocity:{min:4,max:10}}),Ft.COMBO_TRAIL,{count:5,duration:600,colors:["#FF69B4","#FF1493","#FF00FF"],startPosition:{x:0,y:0},spread:30,gravity:0,fadeOut:!0,scale:{min:.2,max:.5},velocity:{min:1,max:3}}),Ft.POWER_UP_AURA,{count:12,duration:2e3,colors:["#00FFFF","#00CED1","#40E0D0","#48D1CC"],startPosition:{x:0,y:0},spread:80,gravity:-.1,fadeOut:!0,scale:{min:.6,max:1.5},velocity:{min:1,max:4}}),Ft.LEVEL_UP_CONFETTI,{count:30,duration:2500,colors:["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],startPosition:{x:0,y:0},spread:200,gravity:.4,fadeOut:!0,scale:{min:.3,max:.8},velocity:{min:5,max:12}}),Ft.ACHIEVEMENT_STARS,{count:25,duration:2e3,colors:["#FFD700","#FFFFFF","#C0C0C0"],startPosition:{x:0,y:0},spread:120,gravity:.15,fadeOut:!0,scale:{min:.5,max:1.3},velocity:{min:3,max:9}}),Ft.COLLISION_SPARK,{count:6,duration:400,colors:["#FFFFFF","#FFFF00","#FFA500"],startPosition:{x:0,y:0},spread:40,gravity:.5,fadeOut:!0,scale:{min:.2,max:.4},velocity:{min:2,max:6}})[e]}},{key:"createParticles",value:function(e,t,n){for(var o=this,r=St(St({},this.getParticleConfig(e)),n),i=[],a=`${e}_${Date.now()}`,s=0;s<r.count;s++){var l=2*Math.PI*s/r.count+.5*Math.random(),c=r.velocity.min+Math.random()*(r.velocity.max-r.velocity.min),u=r.scale.min+Math.random()*(r.scale.max-r.scale.min),d=r.colors[Math.floor(Math.random()*r.colors.length)],f={id:`${a}_${s}`,x:new oe.default.Value(t.x),y:new oe.default.Value(t.y),scale:new oe.default.Value(u),opacity:new oe.default.Value(1),rotation:new oe.default.Value(0),color:d,type:e},p=t.x+Math.cos(l)*r.spread*c,h=t.y+Math.sin(l)*r.spread*c+r.gravity*r.duration;oe.default.parallel([oe.default.timing(f.x,{toValue:p,duration:r.duration,easing:Be.default.out(Be.default.quad),useNativeDriver:!0}),oe.default.timing(f.y,{toValue:h,duration:r.duration,easing:r.gravity>0?Be.default.quad:Be.default.out(Be.default.quad),useNativeDriver:!0}),r.fadeOut?oe.default.timing(f.opacity,{toValue:0,duration:r.duration,easing:Be.default.in(Be.default.quad),useNativeDriver:!0}):oe.default.timing(f.opacity,{toValue:1,duration:0,useNativeDriver:!0}),oe.default.timing(f.rotation,{toValue:360*(Math.random()>.5?1:-1),duration:r.duration,easing:Be.default.linear,useNativeDriver:!0}),oe.default.sequence([oe.default.timing(f.scale,{toValue:1.2*u,duration:.3*r.duration,easing:Be.default.out(Be.default.back),useNativeDriver:!0}),oe.default.timing(f.scale,{toValue:.8*u,duration:.7*r.duration,easing:Be.default.in(Be.default.quad),useNativeDriver:!0})])]).start(function(){o.removeParticleGroup(a)}),i.push(f)}return this.particles.set(a,i),i}},{key:"createComboEffect",value:function(e,t){this.getParticleConfig(Ft.COMBO_TRAIL);var n={count:Math.min(20,5+2*e),colors:this.getComboColors(e),scale:{min:.3+.05*e,max:.8+.1*e},spread:50+10*e};return this.createParticles(Ft.COMBO_TRAIL,t,n)}},{key:"getComboColors",value:function(e){return e<=5?["#FFD700","#FFA500"]:e<=10?["#FF69B4","#FF1493","#FFD700"]:e<=20?["#00FFFF","#FF00FF","#FFD700"]:["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF"]}},{key:"createPowerUpEffect",value:function(e,t){var n=this.getPowerUpColors(e);return this.createParticles(Ft.POWER_UP_AURA,t,{colors:n})}},{key:"getPowerUpColors",value:function(e){return{magnet:["#B22222","#DC143C","#FF0000"],shield:["#4169E1","#1E90FF","#00BFFF"],multiplier:["#FFD700","#FFA500","#FF8C00"],slowTime:["#9370DB","#8A2BE2","#9932CC"],bomb:["#FF4500","#FF6347","#FFA500"]}[e]||["#FFFFFF","#C0C0C0"]}},{key:"createCoinCollectEffect",value:function(e,t){var n=Math.min(15,5+Math.floor(t/10));return this.createParticles(Ft.COIN_SPARKLE,e,{count:n})}},{key:"createLevelUpEffect",value:function(e,t){var n=this,o=[];return[{x:.2*e,y:.8*t},{x:.5*e,y:.8*t},{x:.8*e,y:.8*t}].forEach(function(e){o.push.apply(o,(0,y.default)(n.createParticles(Ft.LEVEL_UP_CONFETTI,e)))}),o}},{key:"removeParticleGroup",value:function(e){this.particles.delete(e);var t=this.animationCallbacks.get(e);t&&(t(),this.animationCallbacks.delete(e))}},{key:"clearAllParticles",value:function(){this.particles.clear(),this.animationCallbacks.clear()}},{key:"getActiveParticles",value:function(){var e=[];return this.particles.forEach(function(t){e.push.apply(e,(0,y.default)(t))}),e}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}();const _t=Ct.getInstance();K.default.create({particle:{position:"absolute",justifyContent:"center",alignItems:"center"},particleText:{fontWeight:"bold"}});var jt=re.default.get("window").width;K.default.create({container:{position:"absolute",top:100,alignSelf:"center",zIndex:1e3,alignItems:"center",justifyContent:"center"},glowBackground:{position:"absolute",width:.8*jt,height:200,borderRadius:20},gradient:{flex:1,borderRadius:20},comboBox:{paddingHorizontal:40,paddingVertical:20,borderRadius:20,borderWidth:3,borderColor:"#FFF",alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5,elevation:10},comboTitle:{color:"#FFF",fontWeight:"900",textAlign:"center",textShadowColor:"#000",textShadowOffset:{width:2,height:2},textShadowRadius:3,letterSpacing:2},comboCount:{color:"#FFF",fontWeight:"900",textAlign:"center",textShadowColor:"#000",textShadowOffset:{width:3,height:3},textShadowRadius:5,marginVertical:5},multiplierText:{color:"#FFD700",fontSize:24,fontWeight:"bold",textAlign:"center",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},fireContainer:{position:"absolute",bottom:-10},fireEmoji:{fontSize:30},lightning:{position:"absolute",fontSize:50,top:-20},lightningLeft:{left:-30,transform:[{rotate:"-20deg"}]},lightningRight:{right:-30,transform:[{rotate:"20deg"}]},crown:{position:"absolute",top:-40,fontSize:40}});K.default.create({container:{alignItems:"center",justifyContent:"center"},scoreContainer:{position:"relative"},glowEffect:{position:"absolute",width:"150%",height:"150%",alignSelf:"center",top:"-25%"},glowGradient:{flex:1,borderRadius:20},scoreBox:{paddingHorizontal:20,paddingVertical:10,borderRadius:15,borderWidth:2,borderColor:"#FFF",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},scoreContent:{flexDirection:"row",alignItems:"center",justifyContent:"center"},coinIcon:{marginRight:8},scoreText:{color:"#FFF",fontWeight:"900",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},scoreDiff:{position:"absolute",top:-25,right:10},scoreDiffText:{color:"#00FF00",fontSize:18,fontWeight:"bold",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},milestoneIndicator:{position:"absolute",top:-40,alignSelf:"center",alignItems:"center"},milestoneText:{color:"#FFD700",fontSize:12,fontWeight:"bold",marginBottom:2},trophyIcon:{fontSize:20},sparkleContainer:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none"},sparkle:{position:"absolute",fontSize:16,animationName:"sparkle",animationDuration:"2s",animationIterationCount:"infinite"},sparkle2:{top:-10,right:-10,animationDelay:"0.5s"},sparkle3:{bottom:-10,left:-10,animationDelay:"1s"}});function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(e){e.MAGNET="magnet",e.SHIELD="shield",e.MULTIPLIER="multiplier",e.SLOW_TIME="slow_time",e.BOMB="bomb",e.GOLDEN_TOUCH="golden_touch",e.RAINBOW_RUSH="rainbow_rush"}({});var Dt=re.default.get("window");Dt.width,Dt.height,K.default.create({magnetField:{position:"absolute",width:200,height:200,alignItems:"center",justifyContent:"center"},magnetGradient:Et(Et({},K.default.absoluteFillObject),{},{borderRadius:100}),magnetLines:{position:"absolute"},magnetIcon:{fontSize:40},shield:{position:"absolute",width:120,height:120,alignItems:"center",justifyContent:"center"},shieldGradient:Et(Et({},K.default.absoluteFillObject),{},{borderRadius:60,borderWidth:2,borderColor:"rgba(0, 191, 255, 0.6)"}),shieldBubble:{position:"absolute"},shieldIcon:{fontSize:30},multiplierAura:{position:"absolute",width:100,height:100,alignItems:"center",justifyContent:"center"},multiplierRing:{position:"absolute",width:100,height:100,borderRadius:50},ringGradient:{flex:1,borderRadius:50},multiplierText:{fontSize:24,fontWeight:"bold",color:"#FFD700",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},timeWarpOverlay:Et({},K.default.absoluteFillObject),clockContainer:{position:"absolute",top:50,right:20},clockIcon:{fontSize:40},goldenAura:{position:"absolute",width:150,height:150,alignItems:"center",justifyContent:"center"},goldenGradient:Et(Et({},K.default.absoluteFillObject),{},{borderRadius:75}),goldenSparkle:{position:"absolute",fontSize:20},rainbowTrail:{position:"absolute",flexDirection:"row"},rainbowStripe:{width:10,height:30,marginHorizontal:1,borderRadius:5}});K.default.create({quickToggle:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:25,justifyContent:"center",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,borderWidth:2,borderColor:"#FFD700"},icon:{textAlign:"center"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center"},modalOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)"},settingsPanel:{width:"85%",maxWidth:400,borderRadius:20,overflow:"hidden",elevation:10,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5},settingsGradient:{padding:20},settingsTitle:{fontSize:24,fontWeight:"bold",color:"#FFF",textAlign:"center",marginBottom:20,textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},settingRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginVertical:10,paddingHorizontal:10},settingLabel:{fontSize:18,color:"#FFF",fontWeight:"600",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:1},toggle:{width:50,height:50,borderRadius:25,backgroundColor:"rgba(255, 255, 255, 0.3)",justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#FFF"},toggleActive:{backgroundColor:"rgba(0, 255, 0, 0.3)"},toggleIcon:{fontSize:24},volumeContainer:{marginTop:20,paddingHorizontal:10},volumeBar:{height:30,backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:15,marginTop:10,overflow:"hidden",borderWidth:2,borderColor:"#FFF"},volumeFill:{height:"100%",backgroundColor:"#00FF00",borderRadius:15},volumeText:{color:"#FFF",fontSize:16,fontWeight:"bold",textAlign:"center",marginTop:5},presetContainer:{flexDirection:"row",justifyContent:"space-around",marginTop:15,paddingHorizontal:20},presetButton:{width:50,height:50,backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:25,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#FFF"},presetIcon:{fontSize:24},funMessage:{fontSize:16,color:"#FFF",textAlign:"center",marginTop:20,fontStyle:"italic",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:1},closeButton:{backgroundColor:"#FFF",borderRadius:25,paddingVertical:12,paddingHorizontal:20,marginTop:20,alignSelf:"center"},closeButtonText:{color:"#FFA500",fontSize:16,fontWeight:"bold"}});const At=function(){function e(){(0,Q.default)(this,e),this.currentMode="casual",this.streakCounter=0,this.encouragementTimer=null,this.helpfulHintsEnabled=!0,this.lastEncouragement=0,this.loadSettings()}return(0,J.default)(e,[{key:"loadSettings",value:function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("difficultyMode");e&&(this.currentMode=e)}catch(t){console.error("Failed to load difficulty settings:",t)}});return function(){return e.apply(this,arguments)}}()},{key:"getDifficultySettings",value:function(e){var t={zen:{mode:"zen",fallSpeed:1.5,spawnRate:3e3,coinValue:20,powerUpChance:.25,encouragementLevel:10,mistakeTolerance:100,autoHelp:!0},casual:{mode:"casual",fallSpeed:2.5,spawnRate:2e3,coinValue:10,powerUpChance:.15,encouragementLevel:7,mistakeTolerance:50,autoHelp:!1},adventure:{mode:"adventure",fallSpeed:3.5,spawnRate:1500,coinValue:15,powerUpChance:.2,encouragementLevel:8,mistakeTolerance:40,autoHelp:!1},party:{mode:"party",fallSpeed:2,spawnRate:1e3,coinValue:25,powerUpChance:.35,encouragementLevel:10,mistakeTolerance:75,autoHelp:!0}};return t[e||this.currentMode]||t.casual}},{key:"setMode",value:function(){var e=(0,r.default)(function*(e){return this.currentMode=e,yield c.default.setItem("difficultyMode",e),kt.playSound("levelUp"),_t.createParticles(Ft.LEVEL_UP_CONFETTI,{x:200,y:100}),this.getModeAnnouncement(e)});return function(t){return e.apply(this,arguments)}}()},{key:"getModeAnnouncement",value:function(e){var t={zen:{text:"Zen Mode - Relax and Enjoy!",emoji:"\ud83e\uddd8\u200d\u2640\ufe0f",color:"#87CEEB",soundEffect:"peaceful"},casual:{text:"Casual Fun - Perfect Balance!",emoji:"\ud83d\ude0a",color:"#90EE90",soundEffect:"happy"},adventure:{text:"Adventure Time - Exciting!",emoji:"\ud83d\ude80",color:"#FFD700",soundEffect:"adventure"},party:{text:"Party Mode - Let's Celebrate!",emoji:"\ud83c\udf89",color:"#FF69B4",soundEffect:"party"}};return t[e]||t.casual}},{key:"getEncouragement",value:function(e,t,n){var o=Date.now();if(o-this.lastEncouragement<3e3)return null;var r=this.getDifficultySettings();if(10*Math.random()>r.encouragementLevel)return null;this.lastEncouragement=o;var i=[];e>0&&e%100===0&&i.push({text:`Amazing! ${e} points!`,emoji:"\ud83c\udf1f",color:"#FFD700"}),t>5?i.push({text:"Combo Master!",emoji:"\ud83d\udd25",color:"#FF4500"}):3===t&&i.push({text:"Nice combo!",emoji:"\u2728",color:"#FFA500"}),n>0&&n%5===0&&i.push({text:"No worries, keep going!",emoji:"\ud83d\udcaa",color:"#87CEEB"});var a=[{text:"You're doing great!",emoji:"\ud83d\ude04",color:"#90EE90"},{text:"Awesome job!",emoji:"\ud83d\udc4f",color:"#FFD700"},{text:"Keep it up!",emoji:"\ud83c\udfaf",color:"#00CED1"},{text:"Fantastic!",emoji:"\u2b50",color:"#FF69B4"},{text:"You're a star!",emoji:"\ud83c\udf1f",color:"#FFD700"},{text:"So much fun!",emoji:"\ud83c\udfae",color:"#9370DB"},{text:"Wonderful!",emoji:"\ud83c\udf08",color:"#FF1493"},{text:"You got this!",emoji:"\ud83d\udc96",color:"#FF69B4"},{text:"Super player!",emoji:"\ud83e\uddb8",color:"#4169E1"},{text:"Brilliant!",emoji:"\ud83d\udc8e",color:"#00FFFF"}];return Math.random()<.3&&i.push(a[Math.floor(Math.random()*a.length)]),i.length>0?i[Math.floor(Math.random()*i.length)]:null}},{key:"getHelpfulHint",value:function(e){if(!this.helpfulHintsEnabled)return null;var t=[];e.missedItems>10&&(t.push("\ud83d\udca1 Try focusing on the center coins first!"),t.push("\ud83d\udca1 Don't worry about catching everything!")),0===e.combo&&e.score>50&&t.push("\ud83d\udca1 Catch items quickly for combo bonuses!"),0===e.powerUpsActive&&t.push("\ud83d\udca1 Power-ups make the game more fun!"),e.timeSurvived>30&&e.score<100&&t.push("\ud83d\udca1 Try moving your cart more actively!");var n=["\ud83d\udca1 Did you know? Rainbows give extra points!","\ud83d\udca1 Secret: Triple combos unlock surprise effects!","\ud83d\udca1 Fun fact: The cart gets happier with more coins!","\ud83d\udca1 Tip: Power-ups stack for mega effects!","\ud83d\udca1 Remember: This game is all about having fun!"];return Math.random()<.1&&t.push(n[Math.floor(Math.random()*n.length)]),t.length>0?t[Math.floor(Math.random()*t.length)]:null}},{key:"adjustDynamicDifficulty",value:function(e){var t=this.getDifficultySettings();return e.missedItems>.7*t.mistakeTolerance&&(t.fallSpeed*=.9,t.powerUpChance*=1.2),"party"===t.mode&&(Math.random()<.1?(t.fallSpeed=1,t.coinValue*=2):Math.random()<.1&&(t.spawnRate=500)),"zen"===t.mode&&t.autoHelp&&e.itemsNearMiss>0&&(t.fallSpeed*=.5),t}},{key:"getCelebrationLevel",value:function(e){return[{threshold:50,level:1,message:"Nice Start!",effect:"small_sparkle"},{threshold:100,level:2,message:"Great Job!",effect:"medium_burst"},{threshold:250,level:3,message:"Fantastic!",effect:"rainbow_shower"},{threshold:500,level:4,message:"Incredible!",effect:"fireworks"},{threshold:1e3,level:5,message:"Legendary!",effect:"mega_celebration"},{threshold:2e3,level:6,message:"Champion!",effect:"ultimate_party"}].reverse().find(function(t){return e>=t.threshold})||{level:0,message:"Keep Going!",effect:"none"}}},{key:"getEndGameMessage",value:function(e,t){var n=[{title:"Awesome Game!",subtitle:`You scored ${e} points!`,emoji:"\ud83c\udf89",encouragement:"That was fantastic! Ready for another round?"},{title:"Great Job!",subtitle:`${t} seconds of pure fun!`,emoji:"\u2b50",encouragement:"You're getting better every time!"},{title:"Well Played!",subtitle:`Score: ${e}`,emoji:"\ud83c\udfc6",encouragement:"You're a natural at this!"},{title:"Fun Times!",subtitle:"What a ride!",emoji:"\ud83c\udfae",encouragement:"That was entertaining! Play again?"},{title:"Nice Run!",subtitle:`${e} points of happiness!`,emoji:"\ud83d\ude0a",encouragement:"You bring joy to the game!"}];return n[Math.floor(Math.random()*n.length)]}},{key:"toggleHints",value:function(){var e=(0,r.default)(function*(e){this.helpfulHintsEnabled=e,yield c.default.setItem("helpfulHints",e.toString())});return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance();var It=re.default.get("window").width;K.default.create({container:{position:"absolute",top:"20%",alignSelf:"center",zIndex:1001,maxWidth:.8*It},gradient:{paddingHorizontal:30,paddingVertical:15,borderRadius:25,borderWidth:3,borderColor:"#FFF",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5,elevation:10},content:{flexDirection:"row",alignItems:"center",justifyContent:"center"},emoji:{fontSize:32,marginRight:10},text:{fontSize:20,fontWeight:"bold",color:"#FFF",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},sparkles:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none"},sparkle:{position:"absolute",fontSize:16,opacity:.8},sparkle2:{top:-10,right:-10},sparkle3:{bottom:-10,left:-10}});n(1079);var Tt=re.default.get("window");Tt.width,Tt.height,K.default.create({modalContainer:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center"},contentContainer:{width:"85%",maxWidth:400,borderRadius:30,overflow:"hidden",elevation:10,shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.3,shadowRadius:10},gradient:{padding:30,alignItems:"center"},decorativeStar:{position:"absolute",fontSize:40},starTopLeft:{top:10,left:10},starTopRight:{top:10,right:10},title:{fontSize:32,fontWeight:"900",color:"#FFF",textShadowColor:"#000",textShadowOffset:{width:2,height:2},textShadowRadius:3,marginBottom:10},emoji:{fontSize:60,marginBottom:10},subtitle:{fontSize:20,color:"#FFF",fontWeight:"600",marginBottom:15,textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},complimentBox:{backgroundColor:"rgba(255, 255, 255, 0.3)",paddingHorizontal:20,paddingVertical:10,borderRadius:20,marginBottom:20},compliment:{fontSize:18,fontWeight:"bold",color:"#FFF",textAlign:"center"},scoreSection:{flexDirection:"row",justifyContent:"space-around",width:"100%",marginBottom:20},scoreRow:{alignItems:"center"},improvement:{color:"#00FF00",fontSize:14,fontWeight:"bold",textAlign:"center"},newRecord:{color:"#FFD700",fontSize:12,fontWeight:"bold",textAlign:"center",marginTop:2},scoreIcon:{fontSize:30,marginBottom:5},scoreValue:{fontSize:24,fontWeight:"bold",color:"#FFF",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},scoreLabel:{fontSize:12,color:"#FFF",opacity:.9},funFactBox:{backgroundColor:"rgba(255, 255, 255, 0.2)",padding:15,borderRadius:15,marginBottom:15,width:"100%"},funFactLabel:{fontSize:14,color:"#FFF",fontWeight:"bold",marginBottom:5},funFactText:{fontSize:16,color:"#FFF",textAlign:"center"},encouragement:{fontSize:16,color:"#FFF",textAlign:"center",fontStyle:"italic",marginBottom:20,paddingHorizontal:20},buttonContainer:{width:"100%",gap:10},playAgainButton:{width:"100%",borderRadius:25,overflow:"hidden",elevation:5},buttonGradient:{paddingVertical:15,alignItems:"center"},playAgainText:{fontSize:20,fontWeight:"bold",color:"#FFF",textShadowColor:"#000",textShadowOffset:{width:1,height:1},textShadowRadius:2},homeButton:{width:"100%",borderRadius:25,overflow:"hidden"},homeButtonInner:{backgroundColor:"rgba(255, 255, 255, 0.3)",paddingVertical:12,alignItems:"center",borderWidth:2,borderColor:"#FFF",borderRadius:25},homeButtonText:{fontSize:18,fontWeight:"bold",color:"#FFF"},celebrationBadge:{position:"absolute",top:-10,right:-10,backgroundColor:"#FF1493",paddingHorizontal:15,paddingVertical:8,borderRadius:20,transform:[{rotate:"15deg"}]},celebrationText:{color:"#FFF",fontWeight:"bold",fontSize:14}});K.default.create({modalContainer:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center"},contentContainer:{width:"90%",maxWidth:400,borderRadius:20,overflow:"hidden",elevation:10},gradient:{padding:20},title:{fontSize:28,fontWeight:"bold",color:"#FFF",textAlign:"center",marginBottom:5,textShadowColor:"#000",textShadowOffset:{width:2,height:2},textShadowRadius:3},subtitle:{fontSize:18,color:"#FFF",textAlign:"center",marginBottom:20},currentStatus:{backgroundColor:"rgba(255, 255, 255, 0.2)",padding:15,borderRadius:10,marginBottom:20},statusText:{color:"#FFF",fontSize:16,fontWeight:"bold",marginBottom:5},coinsText:{color:"#FFD700",fontSize:18,fontWeight:"bold"},upgradesContainer:{marginBottom:20},upgradeCard:{backgroundColor:"rgba(255, 255, 255, 0.9)",padding:15,borderRadius:15,marginBottom:10,borderWidth:2,borderColor:"#FFD700"},purchasedCard:{backgroundColor:"rgba(0, 255, 0, 0.2)",borderColor:"#00FF00"},lockedCard:{opacity:.6,backgroundColor:"rgba(128, 128, 128, 0.3)"},upgradeHeader:{flexDirection:"row",alignItems:"center",marginBottom:10},upgradeEmoji:{fontSize:30,marginRight:10},upgradeDescription:{fontSize:16,fontWeight:"bold",color:"#333",flex:1},upgradeDetails:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},upgradeTotal:{fontSize:14,color:"#666"},costContainer:{alignItems:"flex-end"},costText:{fontSize:18,fontWeight:"bold",color:"#FFD700"},costTextLocked:{color:"#999"},needMoreText:{fontSize:12,color:"#FF0000",marginTop:2},ownedText:{fontSize:16,fontWeight:"bold",color:"#00FF00"},activeBadge:{position:"absolute",top:5,right:5,backgroundColor:"#00FF00",paddingHorizontal:8,paddingVertical:3,borderRadius:10},activeBadgeText:{color:"#FFF",fontSize:10,fontWeight:"bold"},infoBox:{backgroundColor:"rgba(255, 255, 255, 0.2)",padding:15,borderRadius:10,marginBottom:20},infoText:{color:"#FFF",fontSize:14,textAlign:"center",marginBottom:5},closeButton:{backgroundColor:"rgba(255, 255, 255, 0.3)",paddingVertical:15,borderRadius:25,borderWidth:2,borderColor:"#FFF"},closeButtonText:{color:"#FFF",fontSize:18,fontWeight:"bold",textAlign:"center"}});n(9855);var Ot=re.default.get("window"),Bt=Ot.width,Ut=Ot.height,Mt=Bt/375,Rt=Ut/812,zt=Math.min(Mt,Rt),Lt=Math.min(Bt,Ut)>=600,Nt=Bt<375,Wt="web"===Y.default.OS,Vt=function(e){return Math.round(e*zt)},Gt=function(e,t){var n=e*zt,o=(null==t?void 0:t.min)||.8*e,r=(null==t?void 0:t.max)||1.2*e;return Math.round(Math.max(o,Math.min(r,n)))},Ht=function(e){return Lt?Math.round(1.2*e):Nt?Math.round(.9*e):Math.round(e*zt)},qt=function(e){return Math.round(Bt*e/100)},$t=function(e){return Math.round(Ut*e/100)},Kt=function(){return Lt?100:Nt?60:Vt(80)},Yt=function(){return Lt?50:Nt?30:Vt(40)},Qt=function(){return $t(30)},Jt=function(){return Vt({small:Lt?45:35,medium:Lt?60:45,large:Lt?75:55}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium"])},Xt=function(){return Lt?28:Nt?18:Gt(22)},Zt=(function(){$t(70)}(),Qt(),Ht(10),Ht(40),Ht(20),Ht(8),Ht(12),Vt(20),qt(25),Xt(),$t(5),Kt(),Kt(),Yt(),Yt(),Jt("medium"),Jt("medium"),Jt("medium"),Ht(40),Ht(20),Jt("small"),Jt("small"),{window:{width:Bt,height:Ut},screen:re.default.get("screen"),isTablet:Lt,isSmallDevice:Nt,isWeb:Wt,scale:zt,widthScale:Mt,heightScale:Rt});re.default.addEventListener("change",function(e){var t=e.window;Zt.window.width=t.width,Zt.window.height=t.height});K.default.create({container:{flex:1,position:"relative"}});function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Object.values(Le);var nn=re.default.get("window"),on=nn.width,rn=nn.height;function an(e){e.navigation;var t=e.orientation,n=void 0===t?"portrait":t,o=e.layout,s=e.isTablet,l=void 0!==s&&s,u=(e.scale,e.savedGameState),d=e.clearSavedState,f=I(),p=f.userUnlocks,h=(f.isSkinUnlocked,p.unlockedSkins,p.selectedCartSkin),g=(G(),it(),ct()),m=(g.activeSeasonalSkins,g.isSkinCurrentlyAvailable,wt()),y=(m.isSubscriber,m.isLoading,(0,a.useState)(0)),v=(0,i.default)(y,2),b=(v[0],v[1]),w=(0,a.useState)(0),k=(0,i.default)(w,2),x=(k[0],k[1]),S=(0,a.useState)(null),F=(0,i.default)(S,2),C=(F[0],F[1]),_=(0,a.useState)(!1),j=(0,i.default)(_,2),P=j[0],E=j[1],D=(0,a.useState)(!1),A=(0,i.default)(D,2),T=A[0],O=(A[1],(0,a.useState)(0)),B=(0,i.default)(O,2),U=B[0],M=B[1],R=(0,a.useState)(0),z=(0,i.default)(R,2),L=z[0],N=z[1],W=(0,a.useState)(1),V=(0,i.default)(W,2),H=(V[0],V[1]),q=(0,a.useState)(0),$=(0,i.default)(q,2),Y=$[0],Q=$[1],J=(0,a.useState)(0),X=(0,i.default)(J,2),Z=X[0],ee=X[1],te=(null==o?void 0:o.cartSize)||(l?100:80),ne=(0,a.useState)(on/2),re=(0,i.default)(ne,2),ie=re[0],ae=re[1],se=(0,a.useState)(te),le=(0,i.default)(se,2),ce=le[0],ue=le[1],de=(0,a.useState)(!1),fe=(0,i.default)(de,2),pe=(fe[0],fe[1]),he=(0,a.useState)([]),ge=(0,i.default)(he,2),me=ge[0],ye=ge[1],ve=(0,a.useState)(!1),be=(0,i.default)(ve,2),we=(be[0],be[1],(0,a.useState)(!1)),Se=(0,i.default)(we,2),Fe=(Se[0],Se[1],(0,a.useState)(!1)),Ce=(0,i.default)(Fe,2),_e=(Ce[0],Ce[1],(0,a.useState)(!1)),je=(0,i.default)(_e,2),Pe=(je[0],je[1],(0,a.useState)(null)),Ee=(0,i.default)(Pe,2),Ae=(Ee[0],Ee[1],(0,a.useState)(!0)),Ie=(0,i.default)(Ae,2),Oe=(Ie[0],Ie[1],(0,a.useState)(null)),Be=(0,i.default)(Oe,2),Ue=(Be[0],Be[1]),Me=(0,a.useState)(null),Re=(0,i.default)(Me,2),ze=(Re[0],Re[1],(0,a.useState)(0)),Le=(0,i.default)(ze,2),Ne=(Le[0],Le[1]),We=(0,a.useState)(0),Ve=(0,i.default)(We,2),qe=(Ve[0],Ve[1]),Ke=(0,a.useState)(!1),Ye=(0,i.default)(Ke,2),Qe=(Ye[0],Ye[1],(0,a.useState)([])),Je=(0,i.default)(Qe,2),Xe=(Je[0],Je[1],(0,a.useState)(0)),Ze=(0,i.default)(Xe,2),et=Ze[0],tt=(Ze[1],(0,a.useState)([])),nt=(0,i.default)(tt,2),ot=(nt[0],nt[1],(0,a.useState)(25)),rt=(0,i.default)(ot,2),at=(rt[0],rt[1]),st=h,lt=(0,a.useState)(null),ut=(0,i.default)(lt,2),dt=(ut[0],ut[1]),ft=(0,a.useState)(!1),pt=(0,i.default)(ft,2),ht=(pt[0],pt[1]),gt=(0,a.useState)(null),mt=(0,i.default)(gt,2),yt=(mt[0],mt[1]);function vt(){return(vt=(0,r.default)(function*(e){try{}catch(t){}})).apply(this,arguments)}(0,a.useEffect)(function(){u&&!P&&(M(u.score||0),N(u.coins||0),H(u.level||1),ae(u.cartPosition||on/2),ye(u.fallingItems||[]),ee(u.combo||0),Q(u.timeSurvived||0),b(u.powerUpsUsed||0),x(u.obstaclesAvoided||0),d&&d(),u.isPaused||E(!0))},[u,d]),(0,a.useEffect)(function(){var e=(null==o?void 0:o.cartSize)||(l?100:80);ue(e)},[n,o,l]),(0,a.useEffect)(function(){st?function(e){vt.apply(this,arguments)}(st):dt(null)},[st]),(0,a.useEffect)(function(){bt(),xt()},[]);var bt=function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("lastScore"),t=yield c.default.getItem("highScore");e&&Ne(parseInt(e)),t&&qe(parseInt(t))}catch(n){console.error("Failed to load score history:",n)}});return function(){return e.apply(this,arguments)}}(),xt=function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("missedItemUpgrade");if(e){var t=parseInt(e);at(25+5*t)}}catch(n){console.error("Failed to load upgrades:",n)}});return function(){return e.apply(this,arguments)}}(),St=(0,a.useState)(.5),Ct=(0,i.default)(St,2),jt=(Ct[0],Ct[1]),Pt=(0,a.useState)(0),Et=(0,i.default)(Pt,2),Dt=(Et[0],Et[1],(0,a.useState)("default_pot")),It=(0,i.default)(Dt,2),Tt=(It[0],It[1]),Ot=(0,a.useRef)(new oe.default.Value(on/2)).current,Bt=((0,a.useRef)(new oe.default.Value(0)).current,(0,a.useRef)(new oe.default.Value(0)).current,(0,a.useRef)(new oe.default.Value(0)).current,(0,a.useRef)(null),(0,a.useRef)(null),(0,a.useRef)(null),(0,a.useRef)(null),(0,a.useState)(null)),Ut=(0,i.default)(Bt,2),Mt=(Ut[0],Ut[1],(0,a.useState)(null)),Rt=(0,i.default)(Mt,2),zt=(Rt[0],Rt[1],(0,a.useState)(null)),Lt=(0,i.default)(zt,2),Nt=(Lt[0],Lt[1],(0,a.useRef)(new Ge).current,(0,a.useState)("")),Wt=(0,i.default)(Nt,2),Vt=(Wt[0],Wt[1],(0,a.useState)(1)),Gt=(0,i.default)(Vt,2),Ht=(Gt[0],Gt[1]),qt=(0,a.useRef)(null),$t=(0,a.useState)(3),Kt=(0,i.default)($t,2),Yt=(Kt[0],Kt[1]),Qt=(0,a.useState)(new Map),Jt=(0,i.default)(Qt,2),Xt=(Jt[0],Jt[1]),Zt=(0,a.useRef)(new $e).current,en=(0,a.useState)(null),nn=(0,i.default)(en,2),an=(nn[0],nn[1],(0,a.useState)([])),sn=(0,i.default)(an,2),ln=(sn[0],sn[1]),cn=(0,a.useState)([]),un=(0,i.default)(cn,2),dn=(un[0],un[1]),fn=(0,a.useState)({leftZone:{x:0,y:0,width:on/2,height:rn},rightZone:{x:on/2,y:0,width:on/2,height:rn}}),pn=(0,i.default)(fn,2),hn=(pn[0],pn[1],(0,a.useRef)(ie));(0,a.useCallback)(function(e){if(P&&!T){var t=ce/2,n=on-ce/2,o=Math.max(t,Math.min(n,e));ae(o),pe(!0),hn.current=o,oe.default.timing(Ot,{toValue:o,duration:100,useNativeDriver:!1}).start()}},[P,T,ce,Ot]),(0,a.useCallback)(function(e){if(P&&!T){var t=ce/2,n=on-ce/2,o=Math.max(t,Math.min(n,e));ae(o),pe(!0),hn.current=o,kt.vibrate(30),oe.default.spring(Ot,{toValue:o,useNativeDriver:!1,tension:40,friction:7}).start(function(){pe(!1)})}},[P,T,ce,Ot]);(0,a.useEffect)(function(){gn()},[]),(0,a.useEffect)(function(){qt.current=new He({onScoreChange:function(e){M(function(t){var n=t+e,o=At.getEncouragement(n,Z,et);return o&&Ue(o),n})},onCoinChange:function(e){N(function(t){return t+e})},onLifeChange:function(e){Yt(function(t){return Math.max(0,t+e)})},onPowerUpActivate:function(e,t){var n=Date.now()+t;Xt(function(t){return new Map(t.set(e,n))}),b(function(e){return e+1})},onItemCollect:function(e){ye(function(t){var n=t.map(function(t){return t.id===e?tn(tn({},t),{},{collected:!0}):t}),o=t.find(function(t){return t.id===e});return o&&(_t.createCoinCollectEffect({x:o.x,y:o.y},o.value||10),kt.playSound("coinCollect")),n})},onComboUpdate:function(e,t){if(ee(e),Ht(t),e>0&&e%5===0){var n=At.getEncouragement(U,e,et);n&&Ue(n)}},onAchievement:function(e){console.log(`Achievement: ${e}`),kt.playSound("achievement"),_t.createParticles(Ft.ACHIEVEMENT_STARS,{x:on/2,y:rn/3})},onSoundPlay:function(e){console.log(`Playing sound: ${e}`);var t={coinCollect:"coinCollect",bonusCollect:"bonusCollect",explosion:"explosion",powerUp:"powerUpActivate"};t[e]&&kt.playSound(t[e])}})},[]);(0,a.useEffect)(function(){if(P&&U>0){var e={score:U,coins:L,combo:Z,timeSurvived:Y,itemsCollected:me.filter(function(e){return e.collected}).length},t=Zt.checkForNewUnlocks(e);t.length>0&&(dn(t),t.forEach(function(e){console.log(`\ud83c\udf89 Unlocked: ${e.stateName} - ${e.description}`),yt(e),ht(!0)})),ln(Zt.getUnlockedStates())}},[U,L,Z,Y,me,P]);var gn=function(){var e=(0,r.default)(function*(){try{var e=yield Te.initializeGame("player_1");C(e);var t=ke.getProgress();if(t){var n,o=t.pots.currentPot;jt(Number(o.speed)||.5),ue(60*Number(null!=(n=o.size)?n:1)||60),Tt(t.pots.currentSkin.image)}yield De.updateStreak(),yield xe.checkMissionRefresh()}catch(r){console.log("Error initializing game:",r)}});return function(){return e.apply(this,arguments)}}();K.default.create({container:{flex:1,backgroundColor:"#87CEEB"},gameArea:{flex:1,position:"relative"},topControls:{position:"fixed",top:50,right:20,flexDirection:"row",alignItems:"center",gap:10,zIndex:999,elevation:10},soundToggle:{marginLeft:10},scoreContainer:{position:"fixed",top:50,left:20,zIndex:998,backgroundColor:"rgba(0, 0, 0, 0.5)",padding:10,borderRadius:10,borderWidth:2,borderColor:"#FFD700"},statsRow:{flexDirection:"row",alignItems:"center",marginTop:10,gap:15},scoreHistory:{marginTop:5,flexDirection:"row",gap:15},lastScoreText:{color:"#FFD700",fontSize:14,opacity:.8},highScoreText:{color:"#00FF00",fontSize:14,fontWeight:"bold"},missedContainer:{marginTop:10},missedProgressBar:{height:8,backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:4,marginTop:5,overflow:"hidden",borderWidth:1,borderColor:"#FFD700"},missedProgressFill:{height:"100%",borderRadius:4},upgradeIndicator:{color:"#00FF00",fontSize:12,fontWeight:"bold",marginTop:3},upgradeButton:{backgroundColor:"#FFD700",paddingVertical:8,paddingHorizontal:15,borderRadius:15,marginTop:5,alignSelf:"flex-start",elevation:3,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},upgradeButtonText:{color:"#000",fontSize:12,fontWeight:"bold"},missedText:{color:"#FFD700",fontSize:14,fontWeight:"bold"},missedTextWarning:{color:"#FF0000",fontWeight:"bold"},collectedItemsContainer:{position:"absolute",bottom:100,left:20,right:20,zIndex:15},collectedItemsTitle:{color:"#FFD700",fontSize:14,fontWeight:"bold",marginBottom:5},collectedItemsScroll:{flexDirection:"row"},collectedItemBox:{backgroundColor:"rgba(255, 215, 0, 0.2)",padding:5,marginRight:5,borderRadius:5,borderWidth:1,borderColor:"#FFD700"},collectedItem:{fontSize:20},blockedItem:{position:"absolute",backgroundColor:"rgba(255, 0, 0, 0.3)",padding:10,borderRadius:5,borderWidth:2,borderColor:"#FF0000"},blockedItemText:{color:"#FFF",fontSize:14,fontWeight:"bold"},scoreText:{color:"#FFD700",fontSize:18,fontWeight:"bold"},coinText:{color:"#FFD700",fontSize:16,fontWeight:"bold"},timeText:{color:"#FFD700",fontSize:16,fontWeight:"bold"},livesText:{color:"#FF6B6B",fontSize:16,fontWeight:"bold"},comboContainer:{position:"absolute",top:100,right:20,backgroundColor:"#FF6B6B",padding:10,borderRadius:20,zIndex:10},comboText:{color:"white",fontSize:16,fontWeight:"bold"},comboMultiplierText:{color:"white",fontSize:14,fontWeight:"bold"},boostContainer:{position:"absolute",top:150,left:20,right:20,height:20,backgroundColor:"#333",borderRadius:10,overflow:"hidden",zIndex:10},boostBar:{height:"100%",backgroundColor:"#00FF00",borderRadius:10},boostText:{position:"absolute",top:0,left:0,right:0,bottom:0,textAlign:"center",color:"white",fontSize:12,fontWeight:"bold",lineHeight:20},mineCartContainer:{position:"absolute",bottom:20,zIndex:20},controlsContainer:{flexDirection:"row",justifyContent:"space-around",padding:20,backgroundColor:"#2a2a2a"},controlButton:{backgroundColor:"#4a4a4a",padding:15,borderRadius:10,minWidth:100,alignItems:"center"},controlButtonText:{color:"white",fontSize:14,fontWeight:"bold"},turboActive:{backgroundColor:"#FFD700"},menuContainer:{flexDirection:"row",justifyContent:"space-around",padding:10,backgroundColor:"#333"},menuButton:{backgroundColor:"#555",padding:10,borderRadius:8,minWidth:80,alignItems:"center"},menuButtonText:{color:"white",fontSize:12,fontWeight:"bold"},startButton:{position:"absolute",top:rn/2-50,left:on/2-100,backgroundColor:"#FFD700",padding:20,borderRadius:15,width:200,alignItems:"center"},startButtonText:{color:"#1a1a1a",fontSize:18,fontWeight:"bold"},pauseMenu:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center",zIndex:100},pauseMenuTitle:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:30},pauseMenuButton:{backgroundColor:"#FFD700",padding:15,borderRadius:10,marginVertical:10,minWidth:150,alignItems:"center"},pauseMenuButtonText:{color:"#1a1a1a",fontSize:16,fontWeight:"bold"},gameOverMenu:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",justifyContent:"center",alignItems:"center",zIndex:100},gameOverTitle:{color:"#FFD700",fontSize:28,fontWeight:"bold",marginBottom:20},gameOverText:{color:"white",fontSize:18,marginVertical:5},gameOverButton:{backgroundColor:"#FFD700",padding:15,borderRadius:10,marginTop:20,minWidth:150,alignItems:"center"},gameOverButtonText:{color:"#1a1a1a",fontSize:16,fontWeight:"bold"},pauseButton:{position:"fixed",top:50,right:20,width:50,height:50,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:25,justifyContent:"center",alignItems:"center",zIndex:999,elevation:10,borderWidth:2,borderColor:"#FFD700"},pauseButtonText:{fontSize:24},powerUpContainer:{position:"absolute",top:200,left:20,zIndex:10},powerUpIndicator:{flexDirection:"row",alignItems:"center",marginVertical:2},powerUpText:{fontSize:20,marginRight:8},powerUpBar:{width:60,height:8,backgroundColor:"#333",borderRadius:4,overflow:"hidden"},powerUpProgress:{height:"100%",backgroundColor:"#00FF00",borderRadius:4},vipIndicator:{marginTop:5,backgroundColor:"#FFD700",paddingHorizontal:8,paddingVertical:2,borderRadius:10},vipText:{color:"#1a1a1a",fontSize:12,fontWeight:"bold"}})}var sn=n(3604),ln=n(9910),cn=n(1777),un=re.default.get("window"),dn=un.width,fn=(un.height,function(){if("web"===Y.default.OS){return Math.min(dn/375,1.5)}return 1}()),pn=function(e){return e*fn},hn=function(e){return e*fn},gn=function(e){return e*fn},mn=K.default.create({container:{flex:1,width:"100%",height:"100%"},mainContent:{flex:1,justifyContent:"center",alignItems:"center",width:"100%",maxWidth:"web"===Y.default.OS?600:"100%",alignSelf:"center",paddingHorizontal:pn(20)},content:{width:"100%",alignItems:"center"},header:{alignItems:"center",marginBottom:hn(20)},logo:{width:pn(80),height:pn(80),marginBottom:hn(10)},title:{fontSize:gn(32),fontWeight:"bold",color:"#FFD700",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:2,height:2},textShadowRadius:5},subtitle:{fontSize:gn(14),color:"#FFA500",marginTop:hn(5)},userStatus:{flexDirection:"row",alignItems:"center",marginTop:hn(10),backgroundColor:"rgba(255, 255, 255, 0.1)",paddingHorizontal:pn(12),paddingVertical:hn(6),borderRadius:pn(20)},userName:{color:"#FFF",fontSize:gn(13),marginLeft:pn(6)},signUpBadge:{marginLeft:pn(8),backgroundColor:"#4CAF50",paddingHorizontal:pn(8),paddingVertical:hn(3),borderRadius:pn(10)},signUpBadgeText:{color:"#FFF",fontSize:gn(11),fontWeight:"bold"},statsContainer:{flexDirection:"row",justifyContent:"center",marginBottom:hn(20),gap:pn(10)},statCard:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:pn(12),padding:pn(12),alignItems:"center",minWidth:pn(80)},statValue:{fontSize:gn(18),fontWeight:"bold",color:"#FFF",marginTop:hn(4)},statLabel:{fontSize:gn(11),color:"#AAA",marginTop:hn(2)},playButton:{marginBottom:hn(20),width:"100%",maxWidth:pn(280)},playButtonGradient:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:hn(18),paddingHorizontal:pn(30),borderRadius:pn(30),elevation:5,shadowColor:"#FFD700",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5},playButtonText:{fontSize:gn(22),fontWeight:"bold",color:"#FFF",marginLeft:pn(10),letterSpacing:1},menuGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",gap:pn(10),marginBottom:hn(15),width:"100%"},menuButton:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:pn(12),padding:pn(12),alignItems:"center",minWidth:pn(100),flex:"web"===Y.default.OS?0:1,flexBasis:"web"===Y.default.OS?"auto":"45%"},menuButtonText:{fontSize:gn(12),color:"#FFF",marginTop:hn(4)},guestBenefits:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:pn(12),padding:pn(15),width:"100%",maxWidth:pn(400)},benefitsTitle:{fontSize:gn(16),fontWeight:"bold",color:"#FFD700",marginBottom:hn(8),textAlign:"center"},benefitsRow:{flexDirection:"row",justifyContent:"space-around",marginBottom:hn(10)},benefitsText:{fontSize:gn(12),color:"#FFF"},signUpButton:{marginTop:hn(10)},signUpButtonGradient:{padding:pn(12),borderRadius:pn(20),alignItems:"center"},signUpButtonText:{fontSize:gn(14),fontWeight:"bold",color:"#FFF"}});const yn=function(e){var t=e.navigation,o=g().gameState,s=(0,a.useState)(!0),l=(0,i.default)(s,2),d=l[0],f=l[1],p=(0,a.useState)("Guest Player"),h=(0,i.default)(p,2),m=h[0],y=h[1],v=(0,a.useState)(0),b=(0,i.default)(v,2),w=b[0],k=b[1],x=(0,a.useState)(0),S=(0,i.default)(x,2),C=S[0],_=S[1],j=new oe.default.Value(0),P=new oe.default.Value(.8);(0,a.useEffect)(function(){E(),D(),oe.default.parallel([oe.default.timing(j,{toValue:1,duration:1e3,useNativeDriver:!0}),oe.default.spring(P,{toValue:1,tension:50,friction:7,useNativeDriver:!0})]).start()},[]);var E=function(){var e=F.currentUser;e&&(f(!1),y(e.displayName||e.email||"Player"))},D=function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("guest_high_score"),t=yield c.default.getItem("guest_coins");e&&k(parseInt(e,10)),t&&_(parseInt(t,10))}catch(n){console.log("Error loading guest data:",n)}});return function(){return e.apply(this,arguments)}}(),A=function(){t.navigate("Auth")};return(0,u.jsxs)(ie.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:mn.container,children:[(0,u.jsx)(sn.default,{barStyle:"light-content",backgroundColor:"transparent",translucent:!0}),(0,u.jsx)(q.default,{style:mn.mainContent,children:(0,u.jsxs)(oe.default.View,{style:[mn.content,{opacity:j,transform:[{scale:P}]}],children:[(0,u.jsxs)(q.default,{style:mn.header,children:[(0,u.jsx)(ln.default,{source:n(528),style:mn.logo,resizeMode:"contain"}),(0,u.jsx)(ne.default,{style:mn.title,children:"Pot of Gold"}),(0,u.jsx)(ne.default,{style:mn.subtitle,children:"Catch the falling treasure!"}),(0,u.jsxs)(q.default,{style:mn.userStatus,children:[(0,u.jsx)(cn.default,{name:d?"person-outline":"person",size:pn(20),color:"#FFD700"}),(0,u.jsx)(ne.default,{style:mn.userName,children:m}),d&&(0,u.jsx)(pe.default,{onPress:A,style:mn.signUpBadge,children:(0,u.jsx)(ne.default,{style:mn.signUpBadgeText,children:"Sign Up"})})]})]}),(0,u.jsxs)(q.default,{style:mn.statsContainer,children:[(0,u.jsxs)(q.default,{style:mn.statCard,children:[(0,u.jsx)(cn.default,{name:"star",size:pn(24),color:"#FFD700"}),(0,u.jsx)(ne.default,{style:mn.statValue,children:d?w.toLocaleString():o.highScore.toLocaleString()}),(0,u.jsx)(ne.default,{style:mn.statLabel,children:"High Score"})]}),(0,u.jsxs)(q.default,{style:mn.statCard,children:[(0,u.jsx)(cn.default,{name:"cash",size:pn(24),color:"#FFD700"}),(0,u.jsx)(ne.default,{style:mn.statValue,children:d?C.toLocaleString():o.coins.toLocaleString()}),(0,u.jsx)(ne.default,{style:mn.statLabel,children:"Coins"})]}),(0,u.jsxs)(q.default,{style:mn.statCard,children:[(0,u.jsx)(cn.default,{name:"trophy",size:pn(24),color:"#FFD700"}),(0,u.jsx)(ne.default,{style:mn.statValue,children:o.gamesPlayed}),(0,u.jsx)(ne.default,{style:mn.statLabel,children:"Games"})]})]}),(0,u.jsx)(pe.default,{style:mn.playButton,onPress:function(){console.log("Play button pressed - navigating to Game"),t.navigate("Game")},activeOpacity:.8,children:(0,u.jsxs)(ie.LinearGradient,{colors:["#FFD700","#FFA500","#FF8C00"],style:mn.playButtonGradient,children:[(0,u.jsx)(cn.default,{name:"play",size:pn(40),color:"#FFF"}),(0,u.jsx)(ne.default,{style:mn.playButtonText,children:"PLAY NOW"})]})}),(0,u.jsxs)(q.default,{style:mn.menuGrid,children:[(0,u.jsxs)(pe.default,{style:mn.menuButton,onPress:function(){d?"web"===Y.default.OS?window.confirm("Create an account to save your purchases and progress across devices!\n\nContinue as guest?")?t.navigate("Shop"):t.navigate("Auth"):he.default.alert("Sign Up Recommended","Create an account to save your purchases and progress across devices!",[{text:"Sign Up",onPress:function(){return t.navigate("Auth")}},{text:"Continue as Guest",onPress:function(){return t.navigate("Shop")}}]):t.navigate("Shop")},children:[(0,u.jsx)(cn.default,{name:"cart",size:pn(24),color:"#FFD700"}),(0,u.jsx)(ne.default,{style:mn.menuButtonText,children:"Shop"})]}),(0,u.jsxs)(pe.default,{style:mn.menuButton,onPress:function(){d?"web"===Y.default.OS?(window.alert("You need an account to compete on the leaderboard!"),t.navigate("Auth")):he.default.alert("Sign Up Required","You need an account to compete on the leaderboard!",[{text:"Sign Up",onPress:function(){return t.navigate("Auth")}},{text:"Cancel",style:"cancel"}]):t.navigate("Leaderboard")},children:[(0,u.jsx)(cn.default,{name:"podium",size:pn(24),color:"#FFD700"}),(0,u.jsx)(ne.default,{style:mn.menuButtonText,children:"Leaderboard"})]}),(0,u.jsxs)(pe.default,{style:mn.menuButton,onPress:function(){t.navigate("Stats")},children:[(0,u.jsx)(cn.default,{name:"stats-chart",size:pn(24),color:"#FFD700"}),(0,u.jsx)(ne.default,{style:mn.menuButtonText,children:"Stats"})]}),(0,u.jsxs)(pe.default,{style:mn.menuButton,onPress:function(){t.navigate("HowToPlay")},children:[(0,u.jsx)(cn.default,{name:"help-circle",size:pn(24),color:"#FFD700"}),(0,u.jsx)(ne.default,{style:mn.menuButtonText,children:"How to Play"})]})]}),d&&(0,u.jsxs)(q.default,{style:mn.guestBenefits,children:[(0,u.jsx)(ne.default,{style:mn.benefitsTitle,children:"Playing as Guest"}),(0,u.jsxs)(q.default,{style:mn.benefitsRow,children:[(0,u.jsx)(ne.default,{style:mn.benefitsText,children:"\u2713 Full game access"}),(0,u.jsx)(ne.default,{style:mn.benefitsText,children:"\u2717 Progress not saved"})]}),(0,u.jsx)(pe.default,{style:mn.signUpButton,onPress:A,children:(0,u.jsx)(ie.LinearGradient,{colors:["#4CAF50","#45a049"],style:mn.signUpButtonGradient,children:(0,u.jsx)(ne.default,{style:mn.signUpButtonText,children:"Sign Up to Save Progress"})})})]})]})})]})};var vn=n(8474),bn=n(146),wn=n(2650);var kn=re.default.get("window"),xn=kn.width,Sn=kn.height,Fn=(Y.default.OS,function(e){var t=e*(xn/414);return Math.round(wn.default.roundToNearestPixel(t))}),Cn=function(e){var t=e*(Sn/896);return Math.round(wn.default.roundToNearestPixel(t))},_n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return e+(Fn(e)-e)*t},jn=function(e){var t=_n(e,.3),n=.8*e,o=1.2*e;return Math.min(Math.max(t,n),o)};Y.default.OS,Y.default.OS,Y.default.OS,Fn(80),Cn(60),Fn(40),Fn(40),Fn(40),Fn(50),Fn(60);var Pn=re.default.get("window");Pn.width,Pn.height;function En(e){var t=e.navigation,n=(0,a.useState)(!0),o=(0,i.default)(n,2),s=o[0],l=o[1],d=(0,a.useState)(""),f=(0,i.default)(d,2),p=f[0],h=f[1],g=(0,a.useState)(""),m=(0,i.default)(g,2),y=m[0],b=m[1],k=(0,a.useState)(""),x=(0,i.default)(k,2),S=x[0],C=x[1],_=(0,a.useState)(!1),j=(0,i.default)(_,2),P=j[0],E=j[1],D=(0,a.useState)(!1),A=(0,i.default)(D,2),I=A[0],T=A[1],O=function(){var e=(0,r.default)(function*(){if(p&&y&&S){E(!0),console.log("Starting sign up process...");try{var e=(yield(0,w.createUserWithEmailAndPassword)(F,p,y)).user;console.log("User created:",e.uid),yield(0,w.updateProfile)(e,{displayName:S}),yield(0,v.setDoc)((0,v.doc)(L,"users",e.uid),{uid:e.uid,email:e.email,displayName:S,createdAt:(new Date).toISOString(),coins:0,highScore:0,gamesPlayed:0,achievements:[],purchasedSkins:[],selectedSkin:"default"}),console.log("User profile created in Firestore"),yield c.default.setItem("user_uid",e.uid),yield c.default.setItem("user_name",S),"web"===Y.default.OS?alert("Account created successfully!"):he.default.alert("Success!","Account created successfully!"),t.replace("Home")}catch(o){console.error("Sign up error:",o);var n="Sign up failed. Please try again.";"auth/email-already-in-use"===o.code?n="This email is already registered.":"auth/weak-password"===o.code?n="Password should be at least 6 characters.":"auth/invalid-email"===o.code&&(n="Invalid email address."),"web"===Y.default.OS?alert(n):he.default.alert("Error",n)}finally{E(!1)}}else"web"===Y.default.OS?alert("Please fill in all fields"):he.default.alert("Error","Please fill in all fields")});return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.default)(function*(){if(p&&y){E(!0),console.log("Starting sign in process...");try{var e=(yield(0,w.signInWithEmailAndPassword)(F,p,y)).user;console.log("User signed in:",e.uid);var n=yield(0,v.getDoc)((0,v.doc)(L,"users",e.uid));if(n.exists()){var o,r,i=n.data();yield c.default.setItem("user_coins",(null==(o=i.coins)?void 0:o.toString())||"0"),yield c.default.setItem("user_high_score",(null==(r=i.highScore)?void 0:r.toString())||"0")}yield c.default.setItem("user_uid",e.uid),yield c.default.setItem("user_name",e.displayName||e.email||"Player"),"web"===Y.default.OS?console.log("Sign in successful!"):he.default.alert("Success!","Welcome back!"),t.replace("Home")}catch(s){console.error("Sign in error:",s);var a="Sign in failed. Please try again.";"auth/user-not-found"===s.code?a="No account found with this email.":"auth/wrong-password"===s.code?a="Incorrect password.":"auth/invalid-email"===s.code&&(a="Invalid email address."),"web"===Y.default.OS?alert(a):he.default.alert("Error",a)}finally{E(!1)}}else"web"===Y.default.OS?alert("Please fill in all fields"):he.default.alert("Error","Please fill in all fields")});return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.default)(function*(){E(!0),console.log("Starting guest play...");try{yield c.default.setItem("is_guest","true"),yield c.default.setItem("guest_started_at",(new Date).toISOString()),console.log("Guest mode activated"),t.replace("Home")}catch(e){console.error("Guest play error:",e),"web"===Y.default.OS?alert("Failed to start guest mode. Please try again."):he.default.alert("Error","Failed to start guest mode. Please try again.")}finally{E(!1)}});return function(){return e.apply(this,arguments)}}();return(0,u.jsx)(ie.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:Dn.container,children:(0,u.jsx)(bn.default,{style:Dn.keyboardView,behavior:"ios"===Y.default.OS?"padding":"height",children:(0,u.jsxs)(ge.default,{contentContainerStyle:Dn.scrollContent,showsVerticalScrollIndicator:!1,children:[(0,u.jsxs)(q.default,{style:Dn.header,children:[(0,u.jsx)(ne.default,{style:Dn.logo,children:"\ud83d\udcb0"}),(0,u.jsx)(ne.default,{style:Dn.title,children:"Pot of Gold"}),(0,u.jsx)(ne.default,{style:Dn.subtitle,children:s?"Welcome Back!":"Create Your Account"})]}),(0,u.jsxs)(q.default,{style:Dn.form,children:[!s&&(0,u.jsxs)(q.default,{style:Dn.inputContainer,children:[(0,u.jsx)(cn.default,{name:"person-outline",size:Fn(20),color:"#888",style:Dn.inputIcon}),(0,u.jsx)(vn.default,{style:Dn.input,placeholder:"Display Name",placeholderTextColor:"#888",value:S,onChangeText:C,autoCapitalize:"words"})]}),(0,u.jsxs)(q.default,{style:Dn.inputContainer,children:[(0,u.jsx)(cn.default,{name:"mail-outline",size:Fn(20),color:"#888",style:Dn.inputIcon}),(0,u.jsx)(vn.default,{style:Dn.input,placeholder:"Email",placeholderTextColor:"#888",value:p,onChangeText:h,keyboardType:"email-address",autoCapitalize:"none"})]}),(0,u.jsxs)(q.default,{style:Dn.inputContainer,children:[(0,u.jsx)(cn.default,{name:"lock-closed-outline",size:Fn(20),color:"#888",style:Dn.inputIcon}),(0,u.jsx)(vn.default,{style:Dn.input,placeholder:"Password",placeholderTextColor:"#888",value:y,onChangeText:b,secureTextEntry:!I}),(0,u.jsx)(pe.default,{onPress:function(){return T(!I)},style:Dn.eyeIcon,children:(0,u.jsx)(cn.default,{name:I?"eye-outline":"eye-off-outline",size:Fn(20),color:"#888"})})]}),(0,u.jsx)(pe.default,{style:[Dn.authButton,P&&Dn.disabledButton],onPress:function(){s?B():O()},disabled:P,children:(0,u.jsx)(ie.LinearGradient,{colors:["#FFD700","#FFA500","#FF8C00"],style:Dn.authButtonGradient,children:P?(0,u.jsx)($.default,{color:"#FFF"}):(0,u.jsx)(ne.default,{style:Dn.authButtonText,children:s?"Sign In":"Create Account"})})}),(0,u.jsx)(pe.default,{onPress:function(){l(!s),h(""),b(""),C("")},style:Dn.toggleButton,children:(0,u.jsxs)(ne.default,{style:Dn.toggleText,children:[s?"Don't have an account? ":"Already have an account? ",(0,u.jsx)(ne.default,{style:Dn.toggleTextBold,children:s?"Sign Up":"Sign In"})]})}),(0,u.jsxs)(q.default,{style:Dn.divider,children:[(0,u.jsx)(q.default,{style:Dn.dividerLine}),(0,u.jsx)(ne.default,{style:Dn.dividerText,children:"OR"}),(0,u.jsx)(q.default,{style:Dn.dividerLine})]}),(0,u.jsxs)(pe.default,{style:[Dn.guestButton,P&&Dn.disabledButton],onPress:U,disabled:P,children:[(0,u.jsx)(cn.default,{name:"game-controller-outline",size:Fn(24),color:"#FFF"}),(0,u.jsx)(ne.default,{style:Dn.guestButtonText,children:"Play as Guest"})]}),(0,u.jsxs)(q.default,{style:Dn.guestInfo,children:[(0,u.jsx)(ne.default,{style:Dn.guestInfoText,children:"\ud83c\udfae Playing as guest allows full game access"}),(0,u.jsx)(ne.default,{style:Dn.guestInfoText,children:"\u26a0\ufe0f Progress won't be saved without an account"})]})]})]})})})}var Dn=K.default.create({container:{flex:1},keyboardView:{flex:1},scrollContent:{flexGrow:1,justifyContent:"center",padding:Fn(20),paddingTop:"ios"===Y.default.OS?Cn(60):Cn(40)},header:{alignItems:"center",marginBottom:Cn(40)},logo:{fontSize:jn(60),marginBottom:Cn(10)},title:{fontSize:jn(32),fontWeight:"bold",color:"#FFD700",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:2,height:2},textShadowRadius:5},subtitle:{fontSize:jn(16),color:"#FFA500",marginTop:Cn(5)},form:{width:"100%",maxWidth:400,alignSelf:"center"},inputContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:Fn(10),marginBottom:Cn(15),paddingHorizontal:Fn(15)},inputIcon:{marginRight:Fn(10)},input:{flex:1,color:"#FFF",fontSize:jn(16),paddingVertical:Cn(15)},eyeIcon:{padding:Fn(5)},authButton:{marginTop:Cn(10),marginBottom:Cn(15)},authButtonGradient:{paddingVertical:Cn(15),borderRadius:Fn(10),alignItems:"center"},authButtonText:{fontSize:jn(18),fontWeight:"bold",color:"#FFF"},disabledButton:{opacity:.6},toggleButton:{alignItems:"center",marginBottom:Cn(20)},toggleText:{color:"#AAA",fontSize:jn(14)},toggleTextBold:{color:"#FFD700",fontWeight:"bold"},divider:{flexDirection:"row",alignItems:"center",marginVertical:Cn(20)},dividerLine:{flex:1,height:1,backgroundColor:"rgba(255, 255, 255, 0.2)"},dividerText:{color:"#888",marginHorizontal:Fn(10),fontSize:jn(14)},guestButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.1)",paddingVertical:Cn(15),borderRadius:Fn(10),marginBottom:Cn(15)},guestButtonText:{fontSize:jn(16),color:"#FFF",marginLeft:Fn(10),fontWeight:"600"},guestInfo:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:Fn(10),padding:Fn(15)},guestInfoText:{fontSize:jn(12),color:"#AAA",marginBottom:Cn(5)}}),An=n(3533),In=n(8734);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Bn=new((0,J.default)(function e(){(0,Q.default)(this,e),this.currentUser=null,this.userProfile=null,this.initializeAuthListener()},[{key:"initializeAuthListener",value:function(){var e=this;(0,w.onAuthStateChanged)(F,function(){var t=(0,r.default)(function*(t){e.currentUser=t,t?(yield e.loadUserProfile(t.uid),yield e.updateLastLogin(t.uid),Sentry.setUser({id:t.uid,email:t.email||void 0})):(e.userProfile=null,Sentry.setUser(null))});return function(e){return t.apply(this,arguments)}}())}},{key:"signUp",value:function(){var e=(0,r.default)(function*(e,t,n){try{var o=(yield(0,w.createUserWithEmailAndPassword)(F,e,t)).user;yield(0,w.updateProfile)(o,{displayName:n}),yield(0,w.sendEmailVerification)(o);var r={uid:o.uid,email:o.email,displayName:n,isAdmin:!1,createdAt:(0,v.serverTimestamp)(),lastLogin:(0,v.serverTimestamp)(),gameProgress:{level:1,coins:100,highScore:0,totalPlayTime:0,achievements:[],unlockedSkins:["default"],selectedSkin:"default",potLevel:1,potSpeed:1,potSize:1},settings:{soundEnabled:!0,vibrationEnabled:!0,notificationsEnabled:!0,language:"en"},subscription:{isActive:!1,type:"free",expiresAt:null}};return yield(0,v.setDoc)((0,v.doc)(S,"users",o.uid),r),Sentry.captureMessage("New user signup","info"),this.userProfile=r,r}catch(i){throw Sentry.captureException(i),this.handleAuthError(i)}});return function(t,n,o){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=(0,r.default)(function*(e,t){try{var n=(yield(0,w.signInWithEmailAndPassword)(F,e,t)).user,o=yield this.loadUserProfile(n.uid);if(!o)throw new Error("User profile not found");return yield this.updateLastLogin(n.uid),yield c.default.setItem("lastUserEmail",e),o}catch(r){throw Sentry.captureException(r),this.handleAuthError(r)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"signOutUser",value:function(){var e=(0,r.default)(function*(){try{yield(0,w.signOut)(F),yield c.default.multiRemove(["lastUserEmail","userProfile"]),this.currentUser=null,this.userProfile=null}catch(e){throw Sentry.captureException(e),e}});return function(){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=(0,r.default)(function*(e){try{yield(0,w.sendPasswordResetEmail)(F,e),Sentry.captureMessage(`Password reset sent to ${e}`,"info")}catch(t){throw Sentry.captureException(t),this.handleAuthError(t)}});return function(t){return e.apply(this,arguments)}}()},{key:"loadUserProfile",value:function(){var e=(0,r.default)(function*(e){try{var t=(0,v.doc)(S,"users",e),n=yield(0,v.getDoc)(t);if(n.exists()){var o=n.data();return this.userProfile=o,yield c.default.setItem("userProfile",JSON.stringify(o)),yield this.preloadUserUnlocks(e),o}var r=yield c.default.getItem("userProfile");return r?JSON.parse(r):null}catch(a){Sentry.captureException(a);var i=yield c.default.getItem("userProfile");if(i)return JSON.parse(i);throw a}});return function(t){return e.apply(this,arguments)}}()},{key:"preloadUserUnlocks",value:function(){var e=(0,r.default)(function*(e){try{var t=(0,v.doc)(S,"users",e,"unlocks","data"),n=yield(0,v.getDoc)(t);n.exists()?(yield c.default.setItem(`unlocks_${e}`,JSON.stringify(n.data())),console.log("User unlocks preloaded successfully")):console.log("No unlocks data found, will be initialized on first access")}catch(o){console.error("Error preloading unlocks:",o)}});return function(t){return e.apply(this,arguments)}}()},{key:"updateUserProfile",value:function(){var e=(0,r.default)(function*(e){if(!this.currentUser)throw new Error("No user logged in");try{var t=(0,v.doc)(S,"users",this.currentUser.uid);yield(0,v.updateDoc)(t,e),this.userProfile&&(this.userProfile=On(On({},this.userProfile),e),yield c.default.setItem("userProfile",JSON.stringify(this.userProfile)))}catch(n){throw Sentry.captureException(n),n}});return function(t){return e.apply(this,arguments)}}()},{key:"saveGameProgress",value:function(){var e=(0,r.default)(function*(e){if(!this.currentUser)throw new Error("No user logged in");try{var t,n={gameProgress:On(On({},null==(t=this.userProfile)?void 0:t.gameProgress),e)};yield this.updateUserProfile(n)}catch(o){yield this.queueOfflineUpdate("gameProgress",e),Sentry.captureException(o)}});return function(t){return e.apply(this,arguments)}}()},{key:"updateLastLogin",value:function(){var e=(0,r.default)(function*(e){try{yield(0,v.updateDoc)((0,v.doc)(S,"users",e),{lastLogin:(0,v.serverTimestamp)()})}catch(t){console.log("Failed to update last login:",t)}});return function(t){return e.apply(this,arguments)}}()},{key:"queueOfflineUpdate",value:function(){var e=(0,r.default)(function*(e,t){var n=(yield c.default.getItem("offlineQueue"))||"[]",o=JSON.parse(n);o.push({type:e,data:t,timestamp:Date.now()}),yield c.default.setItem("offlineQueue",JSON.stringify(o))});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncOfflineUpdates",value:function(){var e=(0,r.default)(function*(){if(this.currentUser)try{var e=yield c.default.getItem("offlineQueue");if(!e)return;var t=JSON.parse(e);for(var n of t)"gameProgress"===n.type&&(yield this.saveGameProgress(n.data));yield c.default.removeItem("offlineQueue")}catch(o){Sentry.captureException(o)}});return function(){return e.apply(this,arguments)}}()},{key:"checkAdminStatus",value:function(){var e=(0,r.default)(function*(){if(!this.currentUser)return!1;try{return(yield(0,v.getDoc)((0,v.doc)(S,"admins",this.currentUser.uid))).exists()}catch(e){return!1}});return function(){return e.apply(this,arguments)}}()},{key:"getAllUsers",value:function(){var e=(0,r.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;if(!(yield this.checkAdminStatus()))throw new Error("Unauthorized: Admin access required");try{var t=(0,v.collection)(S,"users"),n=(0,v.query)(t,(0,v.orderBy)("createdAt","desc"),(0,v.limit)(e));return(yield(0,v.getDocs)(n)).docs.map(function(e){return e.data()})}catch(o){throw Sentry.captureException(o),o}});return function(){return e.apply(this,arguments)}}()},{key:"resetUserAccount",value:function(){var e=(0,r.default)(function*(e){if(!(yield this.checkAdminStatus()))throw new Error("Unauthorized: Admin access required");try{yield(0,v.updateDoc)((0,v.doc)(S,"users",e),{gameProgress:{level:1,coins:100,highScore:0,totalPlayTime:0,achievements:[],unlockedSkins:["default"],selectedSkin:"default",potLevel:1,potSpeed:1,potSize:1}}),Sentry.captureMessage(`Admin reset account for user ${e}`,"info")}catch(t){throw Sentry.captureException(t),t}});return function(t){return e.apply(this,arguments)}}()},{key:"handleAuthError",value:function(e){switch(e.code){case"auth/email-already-in-use":return new Error("This email is already registered");case"auth/invalid-email":return new Error("Invalid email address");case"auth/weak-password":return new Error("Password should be at least 6 characters");case"auth/user-not-found":return new Error("No account found with this email");case"auth/wrong-password":return new Error("Incorrect password");case"auth/network-request-failed":return new Error("Network error. Please check your connection");case"auth/too-many-requests":return new Error("Too many attempts. Please try again later");default:return new Error(e.message||"Authentication failed")}}},{key:"getCurrentUser",value:function(){return this.currentUser}},{key:"getUserProfile",value:function(){return this.userProfile}},{key:"isLoggedIn",value:function(){return null!==this.currentUser}}]));var Un=n(2430);function Mn(){var e=(0,a.useState)(!1),t=(0,i.default)(e,2),n=t[0],o=t[1],s=(0,a.useState)(!0),l=(0,i.default)(s,2),c=l[0],d=l[1],f=(0,a.useState)([]),p=(0,i.default)(f,2),h=p[0],g=p[1],m=(0,a.useState)({totalUsers:0,activeToday:0,premiumUsers:0,totalRevenue:0}),y=(0,i.default)(m,2),b=y[0],w=y[1],k=(0,a.useState)(""),x=(0,i.default)(k,2),F=x[0],C=x[1],_=(0,a.useState)(null),j=(0,i.default)(_,2),P=j[0],E=j[1],D=(0,a.useState)(!1),A=(0,i.default)(D,2),I=A[0],T=A[1],O=(0,a.useState)(!1),B=(0,i.default)(O,2),U=B[0],M=B[1];(0,a.useEffect)(function(){R()},[]);var R=function(){var e=(0,r.default)(function*(){try{var e=yield Bn.checkAdminStatus();o(e),e?yield z():he.default.alert("Access Denied","You do not have admin privileges")}catch(t){he.default.alert("Error","Failed to verify admin access")}finally{d(!1)}});return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,r.default)(function*(){try{M(!0);var e=yield Bn.getAllUsers(100);g(e);var t=new Date;t.setHours(0,0,0,0);var n=e.filter(function(e){var n;return(null!=(n=e.lastLogin)&&n.toDate?e.lastLogin.toDate():new Date(0))>=t}).length,o=e.filter(function(e){var t,n;return(null==(t=e.subscription)?void 0:t.isActive)&&"free"!==(null==(n=e.subscription)?void 0:n.type)}).length;w({totalUsers:e.length,activeToday:n,premiumUsers:o,totalRevenue:9.99*o})}catch(r){he.default.alert("Error","Failed to load dashboard data")}finally{M(!1)}});return function(){return e.apply(this,arguments)}}(),L=h.filter(function(e){return e.email.toLowerCase().includes(F.toLowerCase())||e.displayName.toLowerCase().includes(F.toLowerCase())}),N=function(){var e=(0,r.default)(function*(e){he.default.alert("Reset User Progress","Are you sure you want to reset this user's game progress?",[{text:"Cancel",style:"cancel"},{text:"Reset",style:"destructive",onPress:function(){var t=(0,r.default)(function*(){try{yield Bn.resetUserAccount(e),he.default.alert("Success","User progress has been reset"),yield z(),T(!1)}catch(t){he.default.alert("Error","Failed to reset user progress")}});return function(){return t.apply(this,arguments)}}()}])});return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,r.default)(function*(e){try{var t=new Date;t.setDate(t.getDate()+30),yield(0,v.updateDoc)((0,v.doc)(S,"users",e),{subscription:{isActive:!0,type:"premium",expiresAt:t}}),he.default.alert("Success","Premium access granted for 30 days"),yield z()}catch(n){he.default.alert("Error","Failed to grant premium access")}});return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,r.default)(function*(e,t){try{var n=(0,v.doc)(S,"users",e),o=h.find(function(t){return t.uid===e});if(!o)return;yield(0,v.updateDoc)(n,{"gameProgress.coins":o.gameProgress.coins+t}),he.default.alert("Success",`Added ${t} coins to user account`),yield z()}catch(r){he.default.alert("Error","Failed to add coins")}});return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=(0,r.default)(function*(e){he.default.alert("Delete User","Are you sure you want to delete this user account? This action cannot be undone.",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:function(){var t=(0,r.default)(function*(){try{yield(0,v.deleteDoc)((0,v.doc)(S,"users",e)),he.default.alert("Success","User account deleted"),yield z(),T(!1)}catch(t){he.default.alert("Error","Failed to delete user account")}});return function(){return t.apply(this,arguments)}}()}])});return function(t){return e.apply(this,arguments)}}();return c?(0,u.jsx)(q.default,{style:Rn.loadingContainer,children:(0,u.jsx)($.default,{size:"large",color:"#FFD700"})}):n?(0,u.jsxs)(ie.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:Rn.container,children:[(0,u.jsxs)(ge.default,{refreshControl:(0,u.jsx)(An.default,{refreshing:U,onRefresh:z,tintColor:"#FFD700"}),showsVerticalScrollIndicator:!1,children:[(0,u.jsx)(ne.default,{style:Rn.title,children:"Admin Dashboard"}),(0,u.jsxs)(q.default,{style:Rn.statsContainer,children:[(0,u.jsxs)(q.default,{style:Rn.statCard,children:[(0,u.jsx)(cn.default,{name:"people",size:30,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:Rn.statValue,children:b.totalUsers}),(0,u.jsx)(ne.default,{style:Rn.statLabel,children:"Total Users"})]}),(0,u.jsxs)(q.default,{style:Rn.statCard,children:[(0,u.jsx)(cn.default,{name:"trending-up",size:30,color:"#4CAF50"}),(0,u.jsx)(ne.default,{style:Rn.statValue,children:b.activeToday}),(0,u.jsx)(ne.default,{style:Rn.statLabel,children:"Active Today"})]}),(0,u.jsxs)(q.default,{style:Rn.statCard,children:[(0,u.jsx)(cn.default,{name:"star",size:30,color:"#9C27B0"}),(0,u.jsx)(ne.default,{style:Rn.statValue,children:b.premiumUsers}),(0,u.jsx)(ne.default,{style:Rn.statLabel,children:"Premium Users"})]}),(0,u.jsxs)(q.default,{style:Rn.statCard,children:[(0,u.jsx)(cn.default,{name:"cash",size:30,color:"#00BCD4"}),(0,u.jsxs)(ne.default,{style:Rn.statValue,children:["$",b.totalRevenue.toFixed(2)]}),(0,u.jsx)(ne.default,{style:Rn.statLabel,children:"Est. Revenue"})]})]}),(0,u.jsxs)(q.default,{style:Rn.searchContainer,children:[(0,u.jsx)(cn.default,{name:"search",size:20,color:"#666",style:Rn.searchIcon}),(0,u.jsx)(vn.default,{style:Rn.searchInput,placeholder:"Search users by email or name...",placeholderTextColor:"#666",value:F,onChangeText:function(e){C(e)}})]}),(0,u.jsx)(ne.default,{style:Rn.sectionTitle,children:"Users"}),(0,u.jsx)(In.default,{data:L,renderItem:function(e){var t=e.item;return(0,u.jsxs)(pe.default,{style:Rn.userCard,onPress:function(){E(t),T(!0),Un.impactAsync(Un.ImpactFeedbackStyle.Light)},children:[(0,u.jsxs)(q.default,{style:Rn.userCardHeader,children:[(0,u.jsx)(ne.default,{style:Rn.userName,children:t.displayName}),t.subscription.isActive&&(0,u.jsx)(q.default,{style:Rn.premiumBadge,children:(0,u.jsx)(ne.default,{style:Rn.premiumText,children:"PREMIUM"})})]}),(0,u.jsx)(ne.default,{style:Rn.userEmail,children:t.email}),(0,u.jsxs)(q.default,{style:Rn.userStats,children:[(0,u.jsxs)(ne.default,{style:Rn.userStat,children:["Level ",t.gameProgress.level]}),(0,u.jsxs)(ne.default,{style:Rn.userStat,children:["\ud83d\udcb0 ",t.gameProgress.coins]}),(0,u.jsxs)(ne.default,{style:Rn.userStat,children:["\ud83c\udfc6 ",t.gameProgress.highScore]})]})]})},keyExtractor:function(e){return e.uid},scrollEnabled:!1,contentContainerStyle:Rn.usersList})]}),P?(0,u.jsx)(Oe.default,{visible:I,animationType:"slide",transparent:!0,onRequestClose:function(){return T(!1)},children:(0,u.jsx)(q.default,{style:Rn.modalContainer,children:(0,u.jsxs)(q.default,{style:Rn.modalContent,children:[(0,u.jsx)(pe.default,{style:Rn.closeButton,onPress:function(){return T(!1)},children:(0,u.jsx)(cn.default,{name:"close",size:24,color:"#666"})}),(0,u.jsx)(ne.default,{style:Rn.modalTitle,children:"User Details"}),(0,u.jsxs)(ge.default,{showsVerticalScrollIndicator:!1,children:[(0,u.jsxs)(q.default,{style:Rn.userInfo,children:[(0,u.jsx)(ne.default,{style:Rn.infoLabel,children:"Name:"}),(0,u.jsx)(ne.default,{style:Rn.infoValue,children:P.displayName})]}),(0,u.jsxs)(q.default,{style:Rn.userInfo,children:[(0,u.jsx)(ne.default,{style:Rn.infoLabel,children:"Email:"}),(0,u.jsx)(ne.default,{style:Rn.infoValue,children:P.email})]}),(0,u.jsxs)(q.default,{style:Rn.userInfo,children:[(0,u.jsx)(ne.default,{style:Rn.infoLabel,children:"Level:"}),(0,u.jsx)(ne.default,{style:Rn.infoValue,children:P.gameProgress.level})]}),(0,u.jsxs)(q.default,{style:Rn.userInfo,children:[(0,u.jsx)(ne.default,{style:Rn.infoLabel,children:"Coins:"}),(0,u.jsx)(ne.default,{style:Rn.infoValue,children:P.gameProgress.coins})]}),(0,u.jsxs)(q.default,{style:Rn.userInfo,children:[(0,u.jsx)(ne.default,{style:Rn.infoLabel,children:"High Score:"}),(0,u.jsx)(ne.default,{style:Rn.infoValue,children:P.gameProgress.highScore})]}),(0,u.jsxs)(q.default,{style:Rn.userInfo,children:[(0,u.jsx)(ne.default,{style:Rn.infoLabel,children:"Subscription:"}),(0,u.jsx)(ne.default,{style:Rn.infoValue,children:P.subscription.isActive?P.subscription.type:"Free"})]}),(0,u.jsxs)(q.default,{style:Rn.actionButtons,children:[(0,u.jsx)(pe.default,{style:[Rn.actionButton,{backgroundColor:"#4CAF50"}],onPress:function(){return V(P.uid,1e3)},children:(0,u.jsx)(ne.default,{style:Rn.actionButtonText,children:"Add 1000 Coins"})}),(0,u.jsx)(pe.default,{style:[Rn.actionButton,{backgroundColor:"#9C27B0"}],onPress:function(){return W(P.uid)},children:(0,u.jsx)(ne.default,{style:Rn.actionButtonText,children:"Grant Premium"})}),(0,u.jsx)(pe.default,{style:[Rn.actionButton,{backgroundColor:"#FF9800"}],onPress:function(){return N(P.uid)},children:(0,u.jsx)(ne.default,{style:Rn.actionButtonText,children:"Reset Progress"})}),(0,u.jsx)(pe.default,{style:[Rn.actionButton,{backgroundColor:"#F44336"}],onPress:function(){return G(P.uid)},children:(0,u.jsx)(ne.default,{style:Rn.actionButtonText,children:"Delete Account"})})]})]})]})})}):null]}):(0,u.jsxs)(q.default,{style:Rn.container,children:[(0,u.jsx)(ne.default,{style:Rn.errorText,children:"Access Denied"}),(0,u.jsx)(ne.default,{style:Rn.errorSubtext,children:"Admin privileges required"})]})}var Rn=K.default.create({container:{flex:1,paddingTop:50},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a2e"},title:{fontSize:32,fontWeight:"bold",color:"#FFD700",textAlign:"center",marginBottom:20},statsContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",paddingHorizontal:10,marginBottom:20},statCard:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:15,padding:15,alignItems:"center",width:"45%",marginVertical:10},statValue:{fontSize:24,fontWeight:"bold",color:"white",marginTop:10},statLabel:{fontSize:12,color:"#999",marginTop:5},searchContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:10,marginHorizontal:20,marginBottom:20,paddingHorizontal:15},searchIcon:{marginRight:10},searchInput:{flex:1,height:45,color:"white",fontSize:16},sectionTitle:{fontSize:20,fontWeight:"bold",color:"white",marginLeft:20,marginBottom:10},usersList:{paddingHorizontal:20,paddingBottom:20},userCard:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:10,padding:15,marginBottom:10},userCardHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:5},userName:{fontSize:18,fontWeight:"bold",color:"white"},userEmail:{fontSize:14,color:"#999",marginBottom:10},userStats:{flexDirection:"row",justifyContent:"space-around"},userStat:{fontSize:12,color:"#FFD700"},premiumBadge:{backgroundColor:"#9C27B0",paddingHorizontal:8,paddingVertical:3,borderRadius:5},premiumText:{fontSize:10,color:"white",fontWeight:"bold"},errorText:{fontSize:24,fontWeight:"bold",color:"#F44336",textAlign:"center"},errorSubtext:{fontSize:16,color:"#999",textAlign:"center",marginTop:10},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.8)"},modalContent:{backgroundColor:"#1a1a2e",borderRadius:20,padding:20,width:"90%",maxHeight:"80%"},closeButton:{position:"absolute",right:15,top:15,zIndex:1},modalTitle:{fontSize:24,fontWeight:"bold",color:"#FFD700",textAlign:"center",marginBottom:20},userInfo:{flexDirection:"row",justifyContent:"space-between",paddingVertical:10,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},infoLabel:{fontSize:14,color:"#999"},infoValue:{fontSize:14,color:"white",fontWeight:"bold"},actionButtons:{marginTop:20},actionButton:{paddingVertical:12,paddingHorizontal:20,borderRadius:10,marginVertical:5,alignItems:"center"},actionButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),zn=n(4432),Ln=n(45),Nn=n(3576),Wn=re.default.get("window"),Vn=Wn.width,Gn=Wn.height,Hn=Vn<375,qn=Vn>=375&&Vn<768,$n=Vn>=768&&Vn<1024,Kn=Vn>=1024,Yn=function(e){var t=Vn/375,n=Math.min(1.5,Math.max(.85,t));return Math.round(e*n)},Qn={colors:{primary:"#FFD700",secondary:"#FFA500",accent:"#4CAF50",background:"#1a1a2e",surface:"#16213e",error:"#ff4444",warning:"#ff9800",success:"#4CAF50",text:{primary:"#FFFFFF",secondary:"#B0B0B0",disabled:"#666666"},gradient:{gold:["#FFD700","#FFA500"],rainbow:["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#8B00FF"],dark:["#1a1a2e","#0f1419"],success:["#4CAF50","#45a049"]}},typography:{h1:{fontSize:Yn(32),fontWeight:"bold",color:"#FFD700",textShadowColor:"rgba(0, 0, 0, 0.75)",textShadowOffset:{width:2,height:2},textShadowRadius:5},h2:{fontSize:Yn(24),fontWeight:"bold",color:"#FFFFFF"},h3:{fontSize:Yn(20),fontWeight:"600",color:"#FFFFFF"},body:{fontSize:Yn(16),color:"#FFFFFF",lineHeight:Yn(22)},caption:{fontSize:Yn(12),color:"#B0B0B0"},button:{fontSize:Yn(16),fontWeight:"bold",color:"#FFFFFF",textTransform:"uppercase"},score:{fontSize:Yn(28),fontWeight:"bold",color:"#FFD700",fontFamily:Y.default.select({ios:"Helvetica Neue",android:"Roboto",web:"system-ui, -apple-system, sans-serif"})}},spacing:{xs:Yn(4),sm:Yn(8),md:Yn(16),lg:Yn(24),xl:Yn(32),xxl:Yn(48)},borderRadius:{sm:Yn(4),md:Yn(8),lg:Yn(16),xl:Yn(24),round:9999},shadows:{sm:Y.default.select({ios:{shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22},android:{elevation:3},web:{boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"}}),md:Y.default.select({ios:{shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.27,shadowRadius:4.65},android:{elevation:6},web:{boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)"}}),lg:Y.default.select({ios:{shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.34,shadowRadius:6.27},android:{elevation:10},web:{boxShadow:"0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)"}})},breakpoints:{small:375,medium:768,large:1024,xlarge:1440},device:{isSmall:Hn,isMedium:qn,isLarge:$n,isExtraLarge:Kn,isTablet:Vn>=768,isPhone:Vn<768,isWeb:"web"===Y.default.OS,isMobile:"web"!==Y.default.OS},game:{cart:{width:Yn(60),height:Yn(40)},items:{small:Yn(20),medium:Yn(30),large:Yn(40)},playArea:{maxWidth:Math.min(Vn,600),maxHeight:Math.min(Gn,900),padding:Yn(20)},hud:{scoreHeight:Yn(60),buttonSize:Yn(44),iconSize:Yn(24)}},animations:{fast:200,normal:300,slow:500,verySlow:1e3},platform:{statusBarHeight:Y.default.select({ios:44,android:24,web:0}),navBarHeight:Y.default.select({ios:44,android:56,web:60}),tabBarHeight:Y.default.select({ios:49,android:56,web:56})}};function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Zn=function(){function e(){(0,Q.default)(this,e),this.auditQueue=[],this.isOnline=!0,this.setupNetworkListener(),this.processQueuePeriodically()}return(0,J.default)(e,[{key:"setupNetworkListener",value:function(){}},{key:"processQueuePeriodically",value:function(){var e=(0,r.default)(function*(){var e=this;setInterval((0,r.default)(function*(){e.isOnline&&e.auditQueue.length>0&&(yield e.flushQueue())}),3e4)});return function(){return e.apply(this,arguments)}}()},{key:"flushQueue",value:function(){var e=(0,r.default)(function*(){var e=(0,y.default)(this.auditQueue);for(var t of(this.auditQueue=[],e))try{yield this.saveToFirebase(t)}catch(n){console.error("Failed to save audit record:",n),this.auditQueue.push(t)}});return function(){return e.apply(this,arguments)}}()},{key:"saveToFirebase",value:function(){var e=(0,r.default)(function*(e){try{var t=Xn(Xn({},e),{},{serverTimestamp:(0,v.serverTimestamp)(),clientTimestamp:(new Date).toISOString(),appVersion:"1.0.0",platform:"mobile",userAgent:"undefined"!==typeof navigator?navigator.userAgent:"React Native"});if(F.currentUser){var n=(0,v.collection)(S,"legal_audit");yield(0,v.addDoc)(n,Xn(Xn({},t),{},{userId:F.currentUser.uid,userEmail:F.currentUser.email}));var o=yield c.default.getItem("anonymous_legal_doc_id");if(o){var r=(0,v.doc)(S,"legal_audit_anonymous",o);yield(0,v.setDoc)(r,{linkedUserId:F.currentUser.uid},{merge:!0}),yield c.default.removeItem("anonymous_legal_doc_id")}}else{var i=(0,v.collection)(S,"legal_audit_anonymous"),a=yield(0,v.addDoc)(i,t);yield c.default.setItem("anonymous_legal_doc_id",a.id)}}catch(s){throw console.error("Failed to save to Firebase:",s),s}});return function(t){return e.apply(this,arguments)}}()},{key:"recordInitialAcceptance",value:function(){var e=(0,r.default)(function*(e,t){var n,o=yield this.getDeviceId(),r={userId:null==(n=F.currentUser)?void 0:n.uid,deviceId:o,timestamp:(new Date).toISOString(),acceptanceType:"initial",documentsAccepted:e,legalVersion:"2.0",scrolledDocuments:!0,timeSpentReading:t};yield this.saveLocally("initial_acceptance",r),this.auditQueue.push(r),this.isOnline&&(yield this.flushQueue())});return function(t,n){return e.apply(this,arguments)}}()},{key:"recordUpdateAcceptance",value:function(){var e=(0,r.default)(function*(e,t){var n,o=yield this.getDeviceId(),r={userId:null==(n=F.currentUser)?void 0:n.uid,deviceId:o,timestamp:(new Date).toISOString(),acceptanceType:"update",documentsAccepted:e,legalVersion:"2.0",scrolledDocuments:!0,timeSpentReading:t};yield this.saveLocally("update_acceptance",r),this.auditQueue.push(r),this.isOnline&&(yield this.flushQueue())});return function(t,n){return e.apply(this,arguments)}}()},{key:"recordPurchaseDisclaimer",value:function(){var e=(0,r.default)(function*(e,t,n){var o,r={userId:null==(o=F.currentUser)?void 0:o.uid,timestamp:(new Date).toISOString(),type:"purchase",accepted:e,purchaseAmount:t,itemDetails:n};yield this.saveLocally("purchase_disclaimer",r),this.auditQueue.push(Xn({type:"disclaimer"},r)),this.isOnline&&(yield this.flushQueue())});return function(t,n,o){return e.apply(this,arguments)}}()},{key:"recordReminderDisclaimer",value:function(){var e=(0,r.default)(function*(e){var t,n={userId:null==(t=F.currentUser)?void 0:t.uid,timestamp:(new Date).toISOString(),type:"reminder",accepted:e};yield this.saveLocally("reminder_disclaimer",n),this.auditQueue.push(Xn({type:"disclaimer"},n)),this.isOnline&&(yield this.flushQueue())});return function(t){return e.apply(this,arguments)}}()},{key:"saveLocally",value:function(){var e=(0,r.default)(function*(e,t){try{var n=yield c.default.getItem(`legal_audit_${e}`),o=n?JSON.parse(n):[];o.push(t),o.length>50&&o.splice(0,o.length-50),yield c.default.setItem(`legal_audit_${e}`,JSON.stringify(o))}catch(r){console.error("Failed to save audit record locally:",r)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getDeviceId",value:function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("device_id");return e||(e=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,yield c.default.setItem("device_id",e)),e}catch(t){return`temp_${Date.now()}`}});return function(){return e.apply(this,arguments)}}()},{key:"getAcceptanceHistory",value:function(){var e=(0,r.default)(function*(){var e=[];try{for(var t of["legal_audit_initial_acceptance","legal_audit_update_acceptance","legal_audit_purchase_disclaimer","legal_audit_reminder_disclaimer"]){var n=yield c.default.getItem(t);if(n){var o=JSON.parse(n);e.push.apply(e,(0,y.default)(o))}}e.sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()})}catch(r){console.error("Failed to get acceptance history:",r)}return e});return function(){return e.apply(this,arguments)}}()},{key:"verifyUserAcceptance",value:function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("legal_audit_initial_acceptance"),t=yield c.default.getItem("legal_audit_update_acceptance"),n=null;if(e){var o=JSON.parse(e);o.length>0&&(n=o[o.length-1])}if(t){var r=JSON.parse(t);if(r.length>0){var i=r[r.length-1];(!n||new Date(i.timestamp)>new Date(n.timestamp))&&(n=i)}}return n?{hasAccepted:!0,acceptanceDate:n.timestamp,version:n.legalVersion}:{hasAccepted:!1}}catch(a){return console.error("Failed to verify user acceptance:",a),{hasAccepted:!1}}});return function(){return e.apply(this,arguments)}}()},{key:"exportAuditLog",value:function(){var e=(0,r.default)(function*(){var e=yield this.getAcceptanceHistory();return JSON.stringify(e,null,2)});return function(){return e.apply(this,arguments)}}()},{key:"clearLocalAuditLog",value:function(){var e=(0,r.default)(function*(){for(var e of["legal_audit_initial_acceptance","legal_audit_update_acceptance","legal_audit_purchase_disclaimer","legal_audit_reminder_disclaimer"])yield c.default.removeItem(e)});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance();var eo=K.default.create({container:{flex:1,backgroundColor:Qn.colors.background},scrollView:{flex:1},header:{padding:20,alignItems:"center"},title:{fontSize:28,fontWeight:"bold",color:Qn.colors.primary,marginBottom:10},subtitle:{fontSize:16,color:"#999",textAlign:"center"},section:{padding:20},checkbox:{flexDirection:"row",alignItems:"center",padding:15,marginVertical:8,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:10,borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)"},checkboxActive:{backgroundColor:"rgba(255, 215, 0, 0.1)",borderColor:Qn.colors.primary},checkboxText:{color:"#FFF",fontSize:16},warningBox:{margin:20,padding:15,backgroundColor:"rgba(255, 0, 0, 0.1)",borderRadius:10,borderWidth:1,borderColor:"#FF4444"},warningTitle:{fontSize:18,fontWeight:"bold",color:"#FF4444",marginBottom:10},warningText:{color:"#FFF",fontSize:14,lineHeight:20},buttonContainer:{flexDirection:"row",padding:20,gap:10},button:{flex:1,padding:15,borderRadius:10,alignItems:"center"},declineButton:{backgroundColor:"#666"},acceptButton:{backgroundColor:Qn.colors.success},disabledButton:{opacity:.5},buttonText:{color:"#FFF",fontSize:16,fontWeight:"bold"}});const to=function(e){var t,n,o=e.navigation,s=e.route,l=null==s||null==(t=s.params)?void 0:t.onAccept,d=null==s||null==(n=s.params)?void 0:n.onDecline,f=(0,a.useState)(!1),p=(0,i.default)(f,2),h=p[0],g=p[1],m=(0,a.useState)(Date.now()),y=(0,i.default)(m,1)[0],v=(0,a.useState)(!1),b=(0,i.default)(v,2),w=b[0],k=b[1],x=(0,a.useState)(!1),S=(0,i.default)(x,2),F=S[0],C=S[1],_=(0,a.useState)(!1),j=(0,i.default)(_,2),P=j[0],E=j[1],D=function(){var e=(0,r.default)(function*(){if(w&&F&&P){g(!0),console.log("Accepting legal agreements...");try{yield c.default.setItem("legal_accepted","true"),yield c.default.setItem("legal_version_accepted","2.0");var e=Math.floor((Date.now()-y)/1e3);yield Zn.recordInitialAcceptance({termsOfService:w,privacyPolicy:F,eula:P},e),console.log("Legal agreements accepted, calling onAccept callback..."),l&&(yield l()),console.log("Navigating to Onboarding screen..."),o?o.replace("Onboarding"):console.error("No navigation object available")}catch(t){console.error("Error saving agreement:",t),"web"===Y.default.OS?alert("Failed to save agreement. Please try again."):he.default.alert("Error","Failed to save agreement. Please try again.")}finally{g(!1)}}else"web"===Y.default.OS?alert("You must accept all agreements to continue."):he.default.alert("Required","You must accept all agreements to continue.")});return function(){return e.apply(this,arguments)}}();return(0,u.jsx)(Nn.default,{style:eo.container,children:(0,u.jsxs)(ge.default,{style:eo.scrollView,children:[(0,u.jsxs)(q.default,{style:eo.header,children:[(0,u.jsx)(ne.default,{style:eo.title,children:"\u2696\ufe0f Legal Agreements"}),(0,u.jsx)(ne.default,{style:eo.subtitle,children:"Please read and accept our legal agreements"})]}),(0,u.jsxs)(q.default,{style:eo.section,children:[(0,u.jsx)(pe.default,{style:[eo.checkbox,w&&eo.checkboxActive],onPress:function(){return k(!w)},children:(0,u.jsxs)(ne.default,{style:eo.checkboxText,children:[w?"\u2611":"\u2610"," I accept the Terms of Service"]})}),(0,u.jsx)(pe.default,{style:[eo.checkbox,F&&eo.checkboxActive],onPress:function(){return C(!F)},children:(0,u.jsxs)(ne.default,{style:eo.checkboxText,children:[F?"\u2611":"\u2610"," I accept the Privacy Policy"]})}),(0,u.jsx)(pe.default,{style:[eo.checkbox,P&&eo.checkboxActive],onPress:function(){return E(!P)},children:(0,u.jsxs)(ne.default,{style:eo.checkboxText,children:[P?"\u2611":"\u2610"," I accept the End User License Agreement"]})})]}),(0,u.jsxs)(q.default,{style:eo.warningBox,children:[(0,u.jsx)(ne.default,{style:eo.warningTitle,children:"\u26a0\ufe0f IMPORTANT"}),(0,u.jsxs)(ne.default,{style:eo.warningText,children:["\u2022 Virtual items have NO real money value","\n","\u2022 This is NOT a gambling game","\n","\u2022 All purchases are FINAL","\n","\u2022 You must be 13+ years old"]})]}),(0,u.jsxs)(q.default,{style:eo.buttonContainer,children:[(0,u.jsx)(pe.default,{style:[eo.button,eo.declineButton],onPress:function(){console.log("Legal agreements declined"),d?d():console.warn("No onDecline callback provided")},disabled:h,children:(0,u.jsx)(ne.default,{style:eo.buttonText,children:"Decline"})}),(0,u.jsx)(pe.default,{style:[eo.button,eo.acceptButton,(!w||!F||!P)&&eo.disabledButton],onPress:D,disabled:h||!w||!F||!P,children:h?(0,u.jsx)($.default,{color:"#FFF"}):(0,u.jsx)(ne.default,{style:eo.buttonText,children:"Accept All"})})]})]})})};var no=re.default.get("window").width>=768;function oo(){var e=(0,Ln.useNavigation)(),t=wt(),n=t.isSubscribed,o=(t.isLoading,a.useState(!0)),s=(0,i.default)(o,2),l=s[0],d=s[1],f=a.useState(!0),p=(0,i.default)(f,2),h=p[0],g=p[1],m=a.useState(!0),y=(0,i.default)(m,2),v=y[0],b=y[1],w=(0,a.useState)(!1),k=(0,i.default)(w,2),x=k[0],S=k[1];a.useEffect(function(){F()},[]);var F=function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("soundEnabled"),t=yield c.default.getItem("hapticsEnabled"),n=yield c.default.getItem("notificationsEnabled");null!==e&&d("true"===e),null!==t&&g("true"===t),null!==n&&b("true"===n)}catch(o){console.error("Error loading settings:",o)}});return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,r.default)(function*(e){d(e),yield c.default.setItem("soundEnabled",e.toString()),h&&Un.impactAsync(Un.ImpactFeedbackStyle.Light)});return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.default)(function*(e){g(e),yield c.default.setItem("hapticsEnabled",e.toString()),e&&Un.impactAsync(Un.ImpactFeedbackStyle.Medium)});return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,r.default)(function*(e){b(e),yield c.default.setItem("notificationsEnabled",e.toString()),h&&Un.impactAsync(Un.ImpactFeedbackStyle.Light)});return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,r.default)(function*(){try{he.default.alert("Restoring Purchases","Please wait while we restore your purchases...",[],{cancelable:!1}),(yield gt.restorePurchases())?he.default.alert("Success","Your purchases have been restored successfully!",[{text:"OK"}]):he.default.alert("No Purchases Found","No previous purchases were found to restore.",[{text:"OK"}])}catch(e){he.default.alert("Restore Failed","Failed to restore purchases. Please try again later.",[{text:"OK"}])}});return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,r.default)(function*(){try{yield gt.openManageSubscriptions()}catch(e){he.default.alert("Error","Unable to open subscription management. Please manage through your device settings.",[{text:"OK"}])}});return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.default)(function*(){S(!1),he.default.alert("Legal Agreements Updated","Thank you for reviewing and accepting our updated legal agreements.",[{text:"OK"}])});return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[x&&(0,u.jsx)(to,{onAccept:D,onDecline:function(){S(!1),he.default.alert("Legal Review","You can review and accept the legal agreements at any time from Settings.",[{text:"OK"}])}}),(0,u.jsx)(ge.default,{style:ro.container,children:(0,u.jsxs)(q.default,{style:ro.content,children:[(0,u.jsxs)(q.default,{style:ro.section,children:[(0,u.jsx)(ne.default,{style:ro.sectionTitle,children:"Gold Vault Club"}),n?(0,u.jsxs)(q.default,{style:ro.subscriptionActive,children:[(0,u.jsx)(ne.default,{style:ro.vipBadge,children:"\u2b50 VIP Member"}),(0,u.jsx)(ne.default,{style:ro.subscriptionText,children:"Your membership is active"}),(0,u.jsx)(pe.default,{style:ro.button,onPress:E,children:(0,u.jsx)(ne.default,{style:ro.buttonText,children:"Manage Subscription"})})]}):(0,u.jsxs)(pe.default,{style:ro.goldButton,onPress:function(){return e.navigate("SubscriptionVault")},children:[(0,u.jsx)(ne.default,{style:ro.goldButtonText,children:"\ud83c\udf1f Join Gold Vault Club"}),(0,u.jsx)(ne.default,{style:ro.goldButtonSubtext,children:"Get 2x rewards & exclusive perks"})]})]}),(0,u.jsxs)(q.default,{style:ro.section,children:[(0,u.jsx)(ne.default,{style:ro.sectionTitle,children:"Game Settings"}),(0,u.jsxs)(q.default,{style:ro.settingRow,children:[(0,u.jsx)(ne.default,{style:ro.settingLabel,children:"Sound Effects"}),(0,u.jsx)(zn.default,{value:l,onValueChange:C,trackColor:{false:"#767577",true:"#FFD700"},thumbColor:"#f4f3f4"})]}),(0,u.jsxs)(q.default,{style:ro.settingRow,children:[(0,u.jsx)(ne.default,{style:ro.settingLabel,children:"Haptic Feedback"}),(0,u.jsx)(zn.default,{value:h,onValueChange:_,trackColor:{false:"#767577",true:"#FFD700"},thumbColor:"#f4f3f4"})]}),(0,u.jsxs)(q.default,{style:ro.settingRow,children:[(0,u.jsx)(ne.default,{style:ro.settingLabel,children:"Notifications"}),(0,u.jsx)(zn.default,{value:v,onValueChange:j,trackColor:{false:"#767577",true:"#FFD700"},thumbColor:"#f4f3f4"})]})]}),(0,u.jsxs)(q.default,{style:ro.section,children:[(0,u.jsx)(ne.default,{style:ro.sectionTitle,children:"Account"}),(0,u.jsx)(pe.default,{style:ro.button,onPress:P,children:(0,u.jsx)(ne.default,{style:ro.buttonText,children:"Restore Purchases"})})]}),(0,u.jsxs)(q.default,{style:ro.section,children:[(0,u.jsx)(ne.default,{style:ro.sectionTitle,children:"Legal"}),(0,u.jsx)(pe.default,{style:ro.button,onPress:function(){he.default.alert("Privacy Policy","View our privacy policy at https://cienrios.com/potofgold/privacy",[{text:"OK"}])},children:(0,u.jsx)(ne.default,{style:ro.buttonText,children:"Privacy Policy"})}),(0,u.jsx)(pe.default,{style:ro.button,onPress:function(){he.default.alert("Terms of Service","View our terms at https://cienrios.com/potofgold/terms",[{text:"OK"}])},children:(0,u.jsx)(ne.default,{style:ro.buttonText,children:"Terms of Service"})}),(0,u.jsx)(pe.default,{style:[ro.button,ro.reviewButton],onPress:function(){S(!0)},children:(0,u.jsx)(ne.default,{style:ro.buttonText,children:"\ud83d\udccb Review Legal Agreements"})})]}),(0,u.jsxs)(q.default,{style:ro.section,children:[(0,u.jsx)(ne.default,{style:ro.sectionTitle,children:"Support"}),(0,u.jsx)(pe.default,{style:ro.button,onPress:function(){he.default.alert("Support","Contact us at support@cienrios.com",[{text:"OK"}])},children:(0,u.jsx)(ne.default,{style:ro.buttonText,children:"Contact Support"})})]}),(0,u.jsxs)(q.default,{style:ro.footer,children:[(0,u.jsx)(ne.default,{style:ro.versionText,children:"Pot of Gold v1.0.0"}),(0,u.jsx)(ne.default,{style:ro.copyrightText,children:"\xa9 2024 Cien Rios"})]})]})})]})}var ro=K.default.create({container:{flex:1,backgroundColor:"#1a1a1a"},content:{padding:no?40:20,paddingBottom:40},section:{marginBottom:30},sectionTitle:{fontSize:no?20:18,fontWeight:"bold",color:"#FFD700",marginBottom:15},settingRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:12,borderBottomWidth:1,borderBottomColor:"#333"},settingLabel:{fontSize:no?18:16,color:"#fff"},button:{backgroundColor:"#333",paddingVertical:no?15:12,paddingHorizontal:20,borderRadius:8,marginVertical:5},buttonText:{color:"#fff",fontSize:no?18:16,textAlign:"center"},goldButton:{backgroundColor:"#FFD700",paddingVertical:no?20:15,paddingHorizontal:20,borderRadius:12,alignItems:"center"},goldButtonText:{color:"#1a1a1a",fontSize:no?20:18,fontWeight:"bold"},goldButtonSubtext:{color:"#1a1a1a",fontSize:no?16:14,marginTop:5},subscriptionActive:{backgroundColor:"#333",padding:15,borderRadius:12},vipBadge:{color:"#FFD700",fontSize:no?20:18,fontWeight:"bold",marginBottom:5},subscriptionText:{color:"#fff",fontSize:no?16:14,marginBottom:10},footer:{alignItems:"center",marginTop:40},versionText:{color:"#999",fontSize:no?14:12},copyrightText:{color:"#999",fontSize:no?14:12,marginTop:5},reviewButton:{backgroundColor:"#4A90E2",marginTop:10}}),io=re.default.get("window").width,ao=[{id:"alabama",name:"Alabama",price:500,colors:["#FF0000","#FFFFFF"],icon:"\ud83c\udf1f"},{id:"alaska",name:"Alaska",price:500,colors:["#002868","#FFD700"],icon:"\ud83d\udc3b"},{id:"arizona",name:"Arizona",price:500,colors:["#CE1126","#FFC72C"],icon:"\u2600\ufe0f"},{id:"arkansas",name:"Arkansas",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83d\udc8e"},{id:"california",name:"California",price:750,colors:["#FFFFFF","#FF0000"],icon:"\ud83d\udc3b"},{id:"colorado",name:"Colorado",price:500,colors:["#002868","#FFFFFF","#FFD700"],icon:"\u26f0\ufe0f"},{id:"connecticut",name:"Connecticut",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83c\udf33"},{id:"delaware",name:"Delaware",price:500,colors:["#00308F","#FFD700"],icon:"\ud83d\udca0"},{id:"florida",name:"Florida",price:750,colors:["#FF0000","#FFFFFF"],icon:"\u2600\ufe0f"},{id:"georgia",name:"Georgia",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udf51"},{id:"hawaii",name:"Hawaii",price:750,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udf3a"},{id:"idaho",name:"Idaho",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83e\udd54"},{id:"illinois",name:"Illinois",price:500,colors:["#FFFFFF","#FF0000"],icon:"\ud83c\udf06"},{id:"indiana",name:"Indiana",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udfc1"},{id:"iowa",name:"Iowa",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udf3d"},{id:"kansas",name:"Kansas",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udf3b"},{id:"kentucky",name:"Kentucky",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83d\udc0e"},{id:"louisiana",name:"Louisiana",price:500,colors:["#002868","#FFD700","#FFFFFF"],icon:"\u269c\ufe0f"},{id:"maine",name:"Maine",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83e\udd9e"},{id:"maryland",name:"Maryland",price:500,colors:["#FF0000","#FFD700","#000000"],icon:"\ud83e\udd80"},{id:"massachusetts",name:"Massachusetts",price:500,colors:["#FFFFFF","#002868"],icon:"\ud83d\udcda"},{id:"michigan",name:"Michigan",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83d\ude97"},{id:"minnesota",name:"Minnesota",price:500,colors:["#002868","#FFFFFF"],icon:"\u2744\ufe0f"},{id:"mississippi",name:"Mississippi",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udfba"},{id:"missouri",name:"Missouri",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udfdb\ufe0f"},{id:"montana",name:"Montana",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udfd4\ufe0f"},{id:"nebraska",name:"Nebraska",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udf3e"},{id:"nevada",name:"Nevada",price:750,colors:["#002868","#C0C0C0"],icon:"\ud83c\udfb0"},{id:"newhampshire",name:"New Hampshire",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83c\udfd4\ufe0f"},{id:"newjersey",name:"New Jersey",price:500,colors:["#FFC72C","#002868"],icon:"\ud83c\udf0a"},{id:"newmexico",name:"New Mexico",price:500,colors:["#FFD700","#FF0000"],icon:"\u2600\ufe0f"},{id:"newyork",name:"New York",price:1e3,colors:["#002868","#FF6600","#FFFFFF"],icon:"\ud83d\uddfd"},{id:"northcarolina",name:"North Carolina",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\u2708\ufe0f"},{id:"northdakota",name:"North Dakota",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udf3b"},{id:"ohio",name:"Ohio",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udf30"},{id:"oklahoma",name:"Oklahoma",price:500,colors:["#005CAB","#FFFFFF"],icon:"\ud83d\udee2\ufe0f"},{id:"oregon",name:"Oregon",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udf32"},{id:"pennsylvania",name:"Pennsylvania",price:500,colors:["#002868","#FFD700"],icon:"\ud83d\udd14"},{id:"rhodeisland",name:"Rhode Island",price:500,colors:["#FFFFFF","#002868","#FFD700"],icon:"\u2693"},{id:"southcarolina",name:"South Carolina",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83c\udf34"},{id:"southdakota",name:"South Dakota",price:500,colors:["#002868","#FFD700"],icon:"\ud83d\uddff"},{id:"tennessee",name:"Tennessee",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udfb8"},{id:"texas",name:"Texas",price:1e3,colors:["#002868","#FFFFFF","#FF0000"],icon:"\u2b50"},{id:"utah",name:"Utah",price:500,colors:["#002868","#FFFFFF","#FF0000"],icon:"\ud83c\udfd4\ufe0f"},{id:"vermont",name:"Vermont",price:500,colors:["#002868","#FFFFFF","#008000"],icon:"\ud83c\udf41"},{id:"virginia",name:"Virginia",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83c\udfdb\ufe0f"},{id:"washington",name:"Washington",price:500,colors:["#00A651","#FFFFFF"],icon:"\ud83c\udf32"},{id:"westvirginia",name:"West Virginia",price:500,colors:["#002868","#FFFFFF"],icon:"\u26f0\ufe0f"},{id:"wisconsin",name:"Wisconsin",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83e\uddc0"},{id:"wyoming",name:"Wyoming",price:500,colors:["#002868","#FFFFFF","#FF0000"],icon:"\ud83e\uddac"}],so=[{id:"starter",coins:1e3,price:.99,bonus:0,popular:!1},{id:"value",coins:5500,price:4.99,bonus:10,popular:!0},{id:"mega",coins:12e3,price:9.99,bonus:20,popular:!1},{id:"ultra",coins:3e4,price:19.99,bonus:25,popular:!1},{id:"whale",coins:8e4,price:49.99,bonus:30,popular:!1},{id:"ultimate",coins:2e5,price:99.99,bonus:50,popular:!1}],lo=[{id:"magnet",name:"Magnet",duration:"30 seconds",price:100,icon:"magnet",color:"#FFD700"},{id:"shield",name:"Shield",duration:"3 hits",price:150,icon:"shield",color:"#00BFFF"},{id:"2x",name:"2x Multiplier",duration:"60 seconds",price:200,icon:"flash",color:"#FF4500"},{id:"bomb-clear",name:"Bomb Clear",duration:"Instant",price:50,icon:"nuclear",color:"#FF0000"},{id:"continue",name:"Continue Token",duration:"1 use",price:500,icon:"heart",color:"#FF69B4"},{id:"mega-boost",name:"Mega Boost",duration:"5 minutes",price:1e3,icon:"rocket",color:"#9C27B0"}],co=[{id:"size-1",name:"Bigger Cart I",description:"+10% collection area",price:2500,level:1},{id:"size-2",name:"Bigger Cart II",description:"+20% collection area",price:5e3,level:2},{id:"size-3",name:"Bigger Cart III",description:"+30% collection area",price:1e4,level:3},{id:"speed-1",name:"Speed Boost I",description:"+15% movement speed",price:3e3,level:1},{id:"speed-2",name:"Speed Boost II",description:"+30% movement speed",price:6e3,level:2},{id:"luck-1",name:"Lucky Cart",description:"+10% rare item chance",price:8e3,level:1}];function uo(e){var t=e.navigation,n=(0,a.useState)(0),o=(0,i.default)(n,2),s=o[0],l=o[1],d=(0,a.useState)("flags"),f=(0,i.default)(d,2),p=f[0],h=f[1],g=(0,a.useState)([]),m=(0,i.default)(g,2),v=m[0],b=m[1],w=(0,a.useState)(null),k=(0,i.default)(w,2),x=k[0],S=k[1],F=(0,a.useState)(!1),C=(0,i.default)(F,2),_=C[0],j=C[1];(0,a.useEffect)(function(){P()},[]);var P=function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("user_coins"),t=yield c.default.getItem("owned_items");e&&l(parseInt(e,10)),t&&b(JSON.parse(t))}catch(n){console.error("Error loading user data:",n)}});return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,r.default)(function*(e,t){if("coins"===t)he.default.alert("Purchase Coins",`Buy ${e.coins.toLocaleString()} coins for $${e.price}?`,[{text:"Cancel",style:"cancel"},{text:"Buy",onPress:function(){var t=(0,r.default)(function*(){var t=s+e.coins;l(t),yield c.default.setItem("user_coins",t.toString()),he.default.alert("Success!",`You received ${e.coins.toLocaleString()} coins!`)});return function(){return t.apply(this,arguments)}}()}]);else if(s>=e.price){var n=s-e.price;l(n);var o=[].concat((0,y.default)(v),[e.id]);b(o),yield c.default.setItem("user_coins",n.toString()),yield c.default.setItem("owned_items",JSON.stringify(o)),Un.notificationAsync(Un.NotificationFeedbackType.Success),he.default.alert("Success!",`You purchased ${e.name}!`),j(!1)}else he.default.alert("Not Enough Coins","You need more coins to purchase this item.")});return function(t,n){return e.apply(this,arguments)}}();return(0,u.jsxs)(ie.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:fo.container,children:[(0,u.jsxs)(q.default,{style:fo.header,children:[(0,u.jsx)(pe.default,{style:fo.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(cn.default,{name:"arrow-back",size:24,color:"#FFD700"})}),(0,u.jsx)(ne.default,{style:fo.title,children:"Shop"}),(0,u.jsxs)(q.default,{style:fo.coinDisplay,children:[(0,u.jsx)(cn.default,{name:"logo-bitcoin",size:20,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:fo.coinText,children:s.toLocaleString()})]})]}),(0,u.jsxs)(q.default,{style:fo.tabs,children:[(0,u.jsx)(pe.default,{style:[fo.tab,"flags"===p&&fo.activeTab],onPress:function(){return h("flags")},children:(0,u.jsx)(ne.default,{style:[fo.tabText,"flags"===p&&fo.activeTabText],children:"State Flags"})}),(0,u.jsx)(pe.default,{style:[fo.tab,"coins"===p&&fo.activeTab],onPress:function(){return h("coins")},children:(0,u.jsx)(ne.default,{style:[fo.tabText,"coins"===p&&fo.activeTabText],children:"Coins"})}),(0,u.jsx)(pe.default,{style:[fo.tab,"powerups"===p&&fo.activeTab],onPress:function(){return h("powerups")},children:(0,u.jsx)(ne.default,{style:[fo.tabText,"powerups"===p&&fo.activeTabText],children:"Power-ups"})}),(0,u.jsx)(pe.default,{style:[fo.tab,"upgrades"===p&&fo.activeTab],onPress:function(){return h("upgrades")},children:(0,u.jsx)(ne.default,{style:[fo.tabText,"upgrades"===p&&fo.activeTabText],children:"Upgrades"})})]}),(0,u.jsxs)(ge.default,{style:fo.content,showsVerticalScrollIndicator:!1,children:["flags"===p&&(0,u.jsx)(q.default,{style:fo.flagsGrid,children:ao.map(function(e){var t=v.includes(e.id);return(0,u.jsxs)(pe.default,{style:[fo.flagItem,t&&fo.ownedItem],onPress:function(){t||(S(e),j(!0))},disabled:t,children:[(0,u.jsx)(ie.LinearGradient,{colors:e.colors,style:fo.flagGradient,children:(0,u.jsx)(ne.default,{style:fo.flagIcon,children:e.icon})}),(0,u.jsx)(ne.default,{style:fo.flagName,children:e.name}),t?(0,u.jsx)(ne.default,{style:fo.ownedText,children:"OWNED"}):(0,u.jsxs)(q.default,{style:fo.priceContainer,children:[(0,u.jsx)(cn.default,{name:"logo-bitcoin",size:16,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:fo.priceText,children:e.price})]})]},e.id)})}),"coins"===p&&(0,u.jsx)(q.default,{style:fo.coinsGrid,children:so.map(function(e){return(0,u.jsxs)(pe.default,{style:[fo.coinPackage,e.popular&&fo.popularPackage],onPress:function(){return E(e,"coins")},children:[e.popular&&(0,u.jsx)(q.default,{style:fo.popularBadge,children:(0,u.jsx)(ne.default,{style:fo.popularText,children:"BEST VALUE"})}),(0,u.jsx)(cn.default,{name:"logo-bitcoin",size:40,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:fo.coinAmount,children:e.coins.toLocaleString()}),e.bonus>0&&(0,u.jsxs)(ne.default,{style:fo.bonusText,children:["+",e.bonus,"% BONUS"]}),(0,u.jsx)(pe.default,{style:fo.buyButton,children:(0,u.jsxs)(ne.default,{style:fo.buyButtonText,children:["$",e.price]})})]},e.id)})}),"powerups"===p&&(0,u.jsx)(q.default,{style:fo.powerupsList,children:lo.map(function(e){var t=v.includes(e.id);return(0,u.jsxs)(pe.default,{style:[fo.powerupItem,t&&fo.ownedItem],onPress:function(){t||(S(e),j(!0))},children:[(0,u.jsx)(cn.default,{name:e.icon,size:30,color:e.color}),(0,u.jsxs)(q.default,{style:fo.powerupInfo,children:[(0,u.jsx)(ne.default,{style:fo.powerupName,children:e.name}),(0,u.jsx)(ne.default,{style:fo.powerupDuration,children:e.duration})]}),(0,u.jsxs)(q.default,{style:fo.priceContainer,children:[(0,u.jsx)(cn.default,{name:"logo-bitcoin",size:16,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:fo.priceText,children:e.price})]})]},e.id)})}),"upgrades"===p&&(0,u.jsx)(q.default,{style:fo.upgradesList,children:co.map(function(e){var t=v.includes(e.id);return(0,u.jsxs)(pe.default,{style:[fo.upgradeItem,t&&fo.ownedItem],onPress:function(){t||(S(e),j(!0))},disabled:t,children:[(0,u.jsx)(q.default,{style:fo.upgradeIcon,children:(0,u.jsxs)(ne.default,{style:fo.upgradeLevel,children:["Lv.",e.level]})}),(0,u.jsxs)(q.default,{style:fo.upgradeInfo,children:[(0,u.jsx)(ne.default,{style:fo.upgradeName,children:e.name}),(0,u.jsx)(ne.default,{style:fo.upgradeDesc,children:e.description})]}),t?(0,u.jsx)(ne.default,{style:fo.ownedText,children:"ACTIVE"}):(0,u.jsxs)(q.default,{style:fo.priceContainer,children:[(0,u.jsx)(cn.default,{name:"logo-bitcoin",size:16,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:fo.priceText,children:e.price})]})]},e.id)})})]}),(0,u.jsx)(Oe.default,{visible:_,transparent:!0,animationType:"slide",children:(0,u.jsx)(q.default,{style:fo.modalOverlay,children:(0,u.jsxs)(q.default,{style:fo.modalContent,children:[(0,u.jsx)(ne.default,{style:fo.modalTitle,children:"Confirm Purchase"}),(0,u.jsx)(ne.default,{style:fo.modalItem,children:null==x?void 0:x.name}),(0,u.jsxs)(q.default,{style:fo.modalPrice,children:[(0,u.jsx)(cn.default,{name:"logo-bitcoin",size:24,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:fo.modalPriceText,children:null==x?void 0:x.price})]}),(0,u.jsxs)(q.default,{style:fo.modalButtons,children:[(0,u.jsx)(pe.default,{style:fo.cancelButton,onPress:function(){return j(!1)},children:(0,u.jsx)(ne.default,{style:fo.cancelButtonText,children:"Cancel"})}),(0,u.jsx)(pe.default,{style:fo.confirmButton,onPress:function(){return E(x,p)},children:(0,u.jsx)(ne.default,{style:fo.confirmButtonText,children:"Buy"})})]})]})})})]})}var fo=K.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",paddingTop:"ios"===Y.default.OS?50:30,paddingHorizontal:20,paddingBottom:20},backButton:{padding:10},title:{fontSize:28,fontWeight:"bold",color:"#FFD700",flex:1,marginLeft:10},coinDisplay:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 215, 0, 0.2)",paddingHorizontal:15,paddingVertical:8,borderRadius:20},coinText:{color:"#FFD700",fontSize:18,fontWeight:"bold",marginLeft:5},tabs:{flexDirection:"row",paddingHorizontal:20,marginBottom:20},tab:{flex:1,paddingVertical:12,alignItems:"center",borderBottomWidth:2,borderBottomColor:"transparent"},activeTab:{borderBottomColor:"#FFD700"},tabText:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,fontWeight:"600"},activeTabText:{color:"#FFD700"},content:{flex:1,paddingHorizontal:20},flagsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},flagItem:{width:(io-60)/3,marginBottom:20,alignItems:"center"},ownedItem:{opacity:.7},flagGradient:{width:80,height:60,borderRadius:10,justifyContent:"center",alignItems:"center",marginBottom:8},flagIcon:{fontSize:24},flagName:{color:"#FFFFFF",fontSize:12,textAlign:"center",marginBottom:4},priceContainer:{flexDirection:"row",alignItems:"center"},priceText:{color:"#FFD700",fontSize:14,fontWeight:"bold",marginLeft:4},ownedText:{color:"#00FF00",fontSize:12,fontWeight:"bold"},coinsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},coinPackage:{width:(io-60)/2,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:15,padding:20,marginBottom:20,alignItems:"center",position:"relative"},popularPackage:{borderWidth:2,borderColor:"#FFD700"},popularBadge:{position:"absolute",top:-10,backgroundColor:"#FFD700",paddingHorizontal:10,paddingVertical:4,borderRadius:10},popularText:{color:"#000",fontSize:10,fontWeight:"bold"},coinAmount:{color:"#FFFFFF",fontSize:20,fontWeight:"bold",marginVertical:10},bonusText:{color:"#00FF00",fontSize:12,marginBottom:10},buyButton:{backgroundColor:"#FFD700",paddingHorizontal:25,paddingVertical:10,borderRadius:20,marginTop:10},buyButtonText:{color:"#000",fontSize:16,fontWeight:"bold"},powerupsList:{paddingBottom:20},powerupItem:{flexDirection:"row",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:15,padding:15,marginBottom:15,alignItems:"center"},powerupInfo:{flex:1,marginLeft:15},powerupName:{color:"#FFFFFF",fontSize:16,fontWeight:"bold"},powerupDuration:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,marginTop:2},upgradesList:{paddingBottom:20},upgradeItem:{flexDirection:"row",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:15,padding:15,marginBottom:15,alignItems:"center"},upgradeIcon:{width:50,height:50,borderRadius:25,backgroundColor:"#FFD700",justifyContent:"center",alignItems:"center"},upgradeLevel:{color:"#000",fontSize:16,fontWeight:"bold"},upgradeInfo:{flex:1,marginLeft:15},upgradeName:{color:"#FFFFFF",fontSize:16,fontWeight:"bold"},upgradeDesc:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,marginTop:2},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:"#2C1810",borderRadius:20,padding:30,width:io-60,alignItems:"center"},modalTitle:{color:"#FFD700",fontSize:24,fontWeight:"bold",marginBottom:20},modalItem:{color:"#FFFFFF",fontSize:18,marginBottom:20},modalPrice:{flexDirection:"row",alignItems:"center",marginBottom:30},modalPriceText:{color:"#FFD700",fontSize:24,fontWeight:"bold",marginLeft:10},modalButtons:{flexDirection:"row",gap:20},cancelButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",paddingHorizontal:30,paddingVertical:12,borderRadius:25},cancelButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"bold"},confirmButton:{backgroundColor:"#FFD700",paddingHorizontal:30,paddingVertical:12,borderRadius:25},confirmButtonText:{color:"#000",fontSize:16,fontWeight:"bold"}}),po=re.default.get("window"),ho=po.width,go=(po.height,function(e){e.stateId;var t=e.theme,n=e.visualElements;return function(){switch(n.flagPattern){case"bay_state":return(0,u.jsxs)(q.default,{style:[vo.flagContainer,{backgroundColor:t.primaryColor}],children:[(0,u.jsx)(q.default,{style:[vo.flagStripe,{backgroundColor:t.secondaryColor}]}),(0,u.jsx)(q.default,{style:[vo.flagStripe,{backgroundColor:t.accentColor}]}),(0,u.jsx)(q.default,{style:[vo.flagCanton,{backgroundColor:t.primaryColor}]})]});case"empire_state":case"old_dominion":return(0,u.jsxs)(q.default,{style:[vo.flagContainer,{backgroundColor:t.primaryColor}],children:[(0,u.jsx)(q.default,{style:[vo.flagStripe,{backgroundColor:t.secondaryColor}]}),(0,u.jsx)(q.default,{style:[vo.flagStripe,{backgroundColor:t.accentColor}]}),(0,u.jsx)(q.default,{style:[vo.flagStripe,{backgroundColor:t.secondaryColor}]})]});case"old_line_state":return(0,u.jsxs)(q.default,{style:[vo.flagContainer,{backgroundColor:t.primaryColor}],children:[(0,u.jsx)(q.default,{style:[vo.flagCross,{backgroundColor:t.secondaryColor}]}),(0,u.jsx)(q.default,{style:[vo.flagCross,{backgroundColor:t.accentColor}]})]});case"sunshine_state":return(0,u.jsxs)(q.default,{style:[vo.flagContainer,{backgroundColor:t.primaryColor}],children:[(0,u.jsx)(q.default,{style:[vo.flagSun,{backgroundColor:t.secondaryColor}]}),(0,u.jsx)(q.default,{style:[vo.flagStripe,{backgroundColor:t.accentColor}]})]});default:return(0,u.jsx)(q.default,{style:[vo.flagContainer,{backgroundColor:t.primaryColor}],children:(0,u.jsx)(q.default,{style:[vo.flagStripe,{backgroundColor:t.secondaryColor}]})})}}()}),mo=function(e){e.stateId;var t=e.theme,n=e.visualElements;return function(){switch(n.shapeOutline){case"mountain":return(0,u.jsx)(q.default,{style:vo.shapeContainer,children:(0,u.jsx)(q.default,{style:[vo.mountain,{backgroundColor:t.primaryColor}]})});case"anchor":return(0,u.jsx)(q.default,{style:vo.shapeContainer,children:(0,u.jsx)(q.default,{style:[vo.anchor,{backgroundColor:t.primaryColor}]})});case"keystone":return(0,u.jsx)(q.default,{style:vo.shapeContainer,children:(0,u.jsx)(q.default,{style:[vo.keystone,{backgroundColor:t.primaryColor}]})});case"palmetto":return(0,u.jsx)(q.default,{style:vo.shapeContainer,children:(0,u.jsx)(q.default,{style:[vo.palmetto,{backgroundColor:t.primaryColor}]})});default:return null}}()},yo=function(e){e.stateId;var t=e.theme,n=e.visualElements;return function(){switch(n.particleEffect){case"maple_leaves":return(0,u.jsx)(q.default,{style:vo.particleContainer,children:Array.from({length:5}).map(function(e,n){return(0,u.jsx)(q.default,{style:[vo.mapleLeaf,{backgroundColor:t.accentColor,left:Math.random()*ho,animationDelay:200*n+"ms"}]},n)})});case"garden_flowers":return(0,u.jsx)(q.default,{style:vo.particleContainer,children:Array.from({length:6}).map(function(e,n){return(0,u.jsx)(q.default,{style:[vo.flower,{backgroundColor:t.secondaryColor,left:Math.random()*ho,animationDelay:150*n+"ms"}]},n)})});case"pine_needles":return(0,u.jsx)(q.default,{style:vo.particleContainer,children:Array.from({length:8}).map(function(e,n){return(0,u.jsx)(q.default,{style:[vo.pineNeedle,{backgroundColor:t.secondaryColor,left:Math.random()*ho,animationDelay:100*n+"ms"}]},n)})});default:return null}}()},vo=K.default.create({flagContainer:{width:60,height:40,borderRadius:4,overflow:"hidden"},flagStripe:{height:"33.33%",width:"100%"},flagCanton:{position:"absolute",top:0,left:0,width:"40%",height:"50%"},flagCross:{position:"absolute",width:"100%",height:4,backgroundColor:"#FFFFFF"},flagSun:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:10},shapeContainer:{width:60,height:40,justifyContent:"center",alignItems:"center"},mountain:{width:40,height:25,borderTopLeftRadius:20,borderTopRightRadius:20},anchor:{width:30,height:30,borderRadius:15,borderWidth:3,borderColor:"#FFFFFF"},keystone:{width:35,height:25,backgroundColor:"#8B4513"},palmetto:{width:25,height:35,backgroundColor:"#228B22"},particleContainer:{position:"absolute",top:0,left:0,right:0,bottom:0},mapleLeaf:{position:"absolute",width:8,height:8,borderRadius:4,opacity:.7},flower:{position:"absolute",width:6,height:6,borderRadius:3,opacity:.8},pineNeedle:{position:"absolute",width:3,height:12,borderRadius:1,opacity:.6}}),bo=re.default.get("window"),wo=bo.width;bo.height;function ko(e){var t=e.navigation,n=I(),o=(n.unlockedSkins,n.selectedCartSkin),s=n.isSkinUnlocked,l=n.isSeasonalSkinAvailable,c=ct(),d=c.activeSeasonalSkins,f=c.currentEvents,p=(c.isLoading,(0,a.useState)({})),h=(0,i.default)(p,2),g=h[0],m=h[1],y=(0,a.useState)("all"),v=(0,i.default)(y,2),b=v[0],w=v[1],k=(0,a.useState)(null),x=(0,i.default)(k,2),S=x[0],F=x[1],C=o;(0,a.useEffect)(function(){_()},[]);var _=function(){var e=(0,r.default)(function*(){try{m({california:{name:"Golden Bear Flag",type:"flag",unlock:"Collect 1,000 coins",rarity:"rare",asset:"flags/california_flag.png",description:"Golden state flag with bear emblem",theme:{primaryColor:"#FFD700",secondaryColor:"#8B4513",accentColor:"#FFA500"}},texas:{name:"Lone Star Cart",type:"shape",unlock:"Reach Level 5",rarity:"common",asset:"shapes/texas_shape.png",description:"Texas state outline with lone star",theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"}},florida:{name:"Sunshine Splash",type:"trail",unlock:"Invite a friend",asset:"trails/florida_trail.png",description:"Sunshine and palm tree particle trail",theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"}},new_york:{name:"Empire State",type:"flag",unlock:"Score 5000 coins",asset:"flags/new_york_flag.png",description:"Empire State flag pattern",theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"}},hawaii:{name:"Aloha Trail",type:"trail",unlock:"Collect 50 hibiscus items",asset:"trails/hawaii_trail.png",description:"Hibiscus flower particle trail",theme:{primaryColor:"#059669",secondaryColor:"#F59E0B",accentColor:"#EF4444"}}})}catch(e){console.error("Error loading state skins:",e)}});return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,r.default)(function*(e){var t;s(e)?(Un.impactAsync(Un.ImpactFeedbackStyle.Medium),F(g[e]),he.default.alert("Skin Equipped!",`${g[e].name} is now your active skin.`,[{text:"OK"}])):(Un.impactAsync(Un.ImpactFeedbackStyle.Light),he.default.alert("Skin Locked",`Unlock this skin by: ${null==(t=g[e])?void 0:t.unlock}`,[{text:"OK"}]))});return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=g[e];t&&(Un.impactAsync(Un.ImpactFeedbackStyle.Heavy),he.default.alert(t.name,`Type: ${t.type.toUpperCase()}\nUnlock: ${t.unlock}\nRarity: ${t.rarity||"common"}\n\n${t.description}`,[{text:"OK"}]))},E=function(e){return et.getRarityColor(e)};return(0,u.jsxs)(q.default,{style:xo.container,children:[(0,u.jsxs)(q.default,{style:xo.header,children:[(0,u.jsx)(ne.default,{style:xo.title,children:"State Skins"}),(0,u.jsx)(ne.default,{style:xo.subtitle,children:"Unlock and customize your cart"})]}),(0,u.jsxs)(q.default,{style:xo.filterContainer,children:[(0,u.jsx)(pe.default,{style:[xo.filterButton,"all"===b&&xo.filterActive],onPress:function(){return w("all")},children:(0,u.jsx)(ne.default,{style:[xo.filterText,"all"===b&&xo.filterTextActive],children:"All"})}),(0,u.jsx)(pe.default,{style:[xo.filterButton,"flag"===b&&xo.filterActive],onPress:function(){return w("flag")},children:(0,u.jsx)(ne.default,{style:[xo.filterText,"flag"===b&&xo.filterTextActive],children:"Flags"})}),(0,u.jsx)(pe.default,{style:[xo.filterButton,"shape"===b&&xo.filterActive],onPress:function(){return w("shape")},children:(0,u.jsx)(ne.default,{style:[xo.filterText,"shape"===b&&xo.filterTextActive],children:"Shapes"})}),(0,u.jsx)(pe.default,{style:[xo.filterButton,"trail"===b&&xo.filterActive],onPress:function(){return w("trail")},children:(0,u.jsx)(ne.default,{style:[xo.filterText,"trail"===b&&xo.filterTextActive],children:"Trails"})}),(0,u.jsx)(pe.default,{style:[xo.filterButton,"seasonal"===b&&xo.filterActive],onPress:function(){return w("seasonal")},children:(0,u.jsx)(ne.default,{style:[xo.filterText,"seasonal"===b&&xo.filterTextActive],children:"Seasonal"})})]}),S?(0,u.jsxs)(q.default,{style:xo.previewSection,children:[(0,u.jsxs)(ne.default,{style:xo.previewTitle,children:["Preview: ",S.name]}),(0,u.jsx)(q.default,{style:[xo.previewCart,{backgroundColor:S.theme.primaryColor}],children:(0,u.jsxs)(q.default,{style:xo.cartBody,children:["flag"===S.type&&(0,u.jsx)(q.default,{style:xo.flagPreview,children:(0,u.jsx)(ne.default,{style:xo.flagText,children:"\ud83c\udfc1"})}),"shape"===S.type&&(0,u.jsx)(q.default,{style:[xo.shapePreview,{borderColor:S.theme.accentColor}],children:(0,u.jsx)(ne.default,{style:xo.shapeText,children:"\u2605"})}),"trail"===S.type&&(0,u.jsx)(q.default,{style:xo.trailPreview,children:(0,u.jsx)(ne.default,{style:xo.trailText,children:"\u2728"})})]})})]}):null,0===d.length?null:(0,u.jsxs)(q.default,{style:xo.seasonalSection,children:[(0,u.jsxs)(q.default,{style:xo.sectionHeader,children:[(0,u.jsx)(ne.default,{style:xo.sectionTitle,children:"\ud83c\udf89 Limited Time - Seasonal Skins"}),(0,u.jsxs)(ne.default,{style:xo.sectionSubtitle,children:["Available during ",f.join(", ")]})]}),(0,u.jsx)(ge.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:xo.seasonalScrollView,children:d.map(function(e){return(0,u.jsxs)(pe.default,{style:[xo.seasonalCard,{backgroundColor:e.theme.primaryColor,borderColor:e.theme.accentColor}],onPress:function(){return j(e.id)},onLongPress:function(){return P(e.id)},onPressIn:function(){Un.impactAsync(Un.ImpactFeedbackStyle.Light)},activeOpacity:.7,children:[(0,u.jsx)(q.default,{style:[xo.seasonalBadge,{backgroundColor:"#F87171"}],children:(0,u.jsx)(ne.default,{style:xo.seasonalBadgeText,children:"SEASONAL"})}),(0,u.jsxs)(q.default,{style:xo.seasonalCardContent,children:[(0,u.jsx)(ne.default,{style:xo.seasonalCardName,children:e.name}),(0,u.jsx)(ne.default,{style:xo.seasonalCardDescription,children:e.description}),(0,u.jsx)(q.default,{style:[xo.seasonalCardType,{backgroundColor:e.theme.secondaryColor}],children:(0,u.jsx)(ne.default,{style:xo.seasonalCardTypeText,children:e.type.toUpperCase()})})]}),s(e.id)?(0,u.jsx)(q.default,{style:xo.unlockedIndicator,children:(0,u.jsx)(ne.default,{style:xo.unlockedText,children:"\u2713 UNLOCKED"})}):(0,u.jsx)(q.default,{style:xo.lockedIndicator,children:(0,u.jsxs)(ne.default,{style:xo.lockedText,children:["\ud83d\udd12 ",e.unlock]})})]},e.id)})})]}),(0,u.jsx)(ge.default,{style:xo.skinsContainer,showsVerticalScrollIndicator:!1,children:(0,u.jsx)(q.default,{style:xo.skinsGrid,children:function(){var e=Object.entries(g);return"all"===b?e:e.filter(function(e){var t=(0,i.default)(e,2),n=(t[0],t[1]);return"seasonal"===b?"seasonal"===n.rarity:n.type===b})}().map(function(e){var t,n=(0,i.default)(e,2),o=n[0],r=n[1],a=s(o),c=C===o,d=l(o);return(0,u.jsxs)(pe.default,{style:[xo.skinCard,{backgroundColor:a?r.theme.primaryColor:"#2A2A2A",borderColor:c?r.theme.accentColor:"transparent",borderWidth:c?3:1,opacity:a?1:.6}],onPress:function(){return j(o)},onLongPress:function(){return P(o)},onPressIn:function(){Un.impactAsync(Un.ImpactFeedbackStyle.Light)},activeOpacity:.7,children:[(0,u.jsx)(q.default,{style:[xo.rarityBadge,{backgroundColor:E(r.rarity)}],children:(0,u.jsx)(ne.default,{style:xo.rarityBadgeText,children:(null==(t=r.rarity)?void 0:t.toUpperCase())||"COMMON"})}),(0,u.jsxs)(q.default,{style:xo.skinHeader,children:[(0,u.jsx)(ne.default,{style:[xo.skinName,{color:a?"#FFFFFF":"#666666"}],children:r.name}),(0,u.jsx)(q.default,{style:[xo.skinType,{backgroundColor:r.theme.secondaryColor}],children:(0,u.jsx)(ne.default,{style:xo.skinTypeText,children:r.type.toUpperCase()})})]}),(0,u.jsx)(q.default,{style:xo.skinPreview,children:a?(0,u.jsxs)(q.default,{style:xo.previewContainer,children:["flag"===r.type&&(0,u.jsx)(go,{stateId:o,theme:r.theme,visualElements:{flagPattern:o}}),"shape"===r.type&&(0,u.jsx)(mo,{stateId:o,theme:r.theme,visualElements:{shapeOutline:o}}),"trail"===r.type&&(0,u.jsx)(yo,{stateId:o,theme:r.theme,visualElements:{particleEffect:o}})]}):(0,u.jsx)(q.default,{style:xo.lockedPreview,children:(0,u.jsx)(ne.default,{style:xo.lockedText,children:"\ud83d\udd12"})})}),(0,u.jsxs)(q.default,{style:xo.skinInfo,children:[(0,u.jsx)(ne.default,{style:[xo.skinDescription,{color:a?"#FFFFFF":"#999999"}],children:r.description}),(0,u.jsx)(ne.default,{style:[xo.unlockRequirement,{color:a?"#CCCCCC":"#FF6B6B"}],children:a?"\u2713 Unlocked":r.unlock}),d&&(0,u.jsx)(q.default,{style:xo.seasonalIndicator,children:(0,u.jsx)(ne.default,{style:xo.seasonalText,children:"\ud83c\udf89 SEASONAL"})})]}),c&&(0,u.jsx)(q.default,{style:[xo.selectedIndicator,{backgroundColor:r.theme.accentColor}],children:(0,u.jsx)(ne.default,{style:xo.selectedText,children:"\u2713 SELECTED"})})]},o)})})}),(0,u.jsx)(q.default,{style:xo.footer,children:(0,u.jsx)(pe.default,{style:xo.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(ne.default,{style:xo.backButtonText,children:"Back to Game"})})})]})}var xo=K.default.create({container:{flex:1,backgroundColor:"#1A1A1A"},header:{padding:20,paddingTop:60,backgroundColor:"#2A2A2A"},title:{fontSize:28,fontWeight:"bold",color:"#FFFFFF",marginBottom:5},subtitle:{fontSize:16,color:"#CCCCCC"},filterContainer:{flexDirection:"row",padding:15,backgroundColor:"#2A2A2A",borderBottomWidth:1,borderBottomColor:"#333333"},filterButton:{flex:1,paddingVertical:10,paddingHorizontal:15,marginHorizontal:5,borderRadius:20,backgroundColor:"#333333",alignItems:"center"},filterActive:{backgroundColor:"#FFD700"},filterText:{color:"#FFFFFF",fontWeight:"bold"},filterTextActive:{color:"#1A1A1A"},skinsContainer:{flex:1,padding:15},skinsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},skinCard:{width:(wo-45)/2,marginBottom:15,borderRadius:15,padding:15,borderWidth:1,borderColor:"#333333"},rarityBadge:{position:"absolute",top:8,right:8,paddingHorizontal:6,paddingVertical:2,borderRadius:10,zIndex:10},rarityBadgeText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},skinHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},skinName:{fontSize:14,fontWeight:"bold",flex:1},skinType:{paddingHorizontal:8,paddingVertical:4,borderRadius:10},skinTypeText:{fontSize:10,fontWeight:"bold",color:"#FFFFFF"},skinPreview:{height:80,justifyContent:"center",alignItems:"center",marginBottom:10},previewContainer:{width:60,height:40},lockedPreview:{width:60,height:40,justifyContent:"center",alignItems:"center",backgroundColor:"#333333",borderRadius:10},lockedText:{fontSize:24},skinInfo:{marginBottom:10},skinDescription:{fontSize:12,marginBottom:5,lineHeight:16},unlockRequirement:{fontSize:11,fontWeight:"bold"},rarityText:{fontSize:10,fontWeight:"bold",marginTop:2},selectedIndicator:{position:"absolute",top:10,right:10,paddingHorizontal:8,paddingVertical:4,borderRadius:10},selectedText:{fontSize:10,fontWeight:"bold",color:"#FFFFFF"},footer:{padding:20,backgroundColor:"#2A2A2A"},backButton:{backgroundColor:"#FFD700",paddingVertical:15,borderRadius:10,alignItems:"center"},backButtonText:{fontSize:16,fontWeight:"bold",color:"#1A1A1A"},previewSection:{padding:15,backgroundColor:"#2A2A2A",borderBottomWidth:1,borderBottomColor:"#333333"},previewTitle:{fontSize:16,fontWeight:"bold",color:"#FFFFFF",marginBottom:10,textAlign:"center"},previewCart:{height:80,borderRadius:10,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#333333"},cartBody:{width:60,height:40,justifyContent:"center",alignItems:"center"},flagPreview:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},flagText:{fontSize:20},shapePreview:{width:30,height:30,borderWidth:2,borderRadius:15,backgroundColor:"rgba(255, 255, 255, 0.9)",justifyContent:"center",alignItems:"center"},shapeText:{fontSize:16,color:"#000"},trailPreview:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},trailText:{fontSize:18},seasonalIndicator:{backgroundColor:"#F87171",paddingHorizontal:6,paddingVertical:2,borderRadius:8,marginTop:4,alignSelf:"flex-start"},seasonalText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},seasonalSection:{marginBottom:20},sectionHeader:{marginBottom:10,paddingHorizontal:20},sectionTitle:{fontSize:18,fontWeight:"bold",color:"#FFFFFF",marginBottom:4},sectionSubtitle:{fontSize:12,color:"#CCCCCC"},seasonalScrollView:{paddingHorizontal:20},seasonalCard:{width:200,height:120,marginRight:15,borderRadius:12,padding:12,borderWidth:2,position:"relative"},seasonalCardContent:{flex:1,justifyContent:"space-between"},seasonalCardName:{fontSize:14,fontWeight:"bold",color:"#FFFFFF",marginBottom:4},seasonalCardDescription:{fontSize:10,color:"#FFFFFF",opacity:.8,marginBottom:8},seasonalCardType:{paddingHorizontal:6,paddingVertical:2,borderRadius:8,alignSelf:"flex-start"},seasonalCardTypeText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},seasonalBadge:{position:"absolute",top:8,right:8,paddingHorizontal:6,paddingVertical:2,borderRadius:10,zIndex:10},seasonalBadgeText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},unlockedIndicator:{position:"absolute",bottom:8,left:8,backgroundColor:"#10B981",paddingHorizontal:6,paddingVertical:2,borderRadius:8},unlockedText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},lockedIndicator:{position:"absolute",bottom:8,left:8,backgroundColor:"#EF4444",paddingHorizontal:6,paddingVertical:2,borderRadius:8},lockedText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"}}),So=n(7148),Fo=n(3779),Co=function(){function e(){(0,Q.default)(this,e),this.deviceProfile=null,this.qualitySettings=null,this.listeners=new Set,this.initializeDeviceProfile(),this.setupListeners()}return(0,J.default)(e,[{key:"initializeDeviceProfile",value:function(){var e=(0,r.default)(function*(){try{var e,t=re.default.get("window"),n=t.width,o=t.height,r=wn.default.get(),i=wn.default.getFontScale(),a=n>=768?"tablet":"phone",s="tablet"===a;this.deviceProfile={deviceId:Fo.default.sessionId,deviceName:"Web Browser",deviceType:n>1024?"desktop":a,brand:null,manufacturer:null,modelName:null,modelId:null,deviceYearClass:null,platform:"web",osVersion:null,systemVersion:"web",apiLevel:null,screenWidth:n,screenHeight:o,screenScale:r,pixelDensity:i,screenResolution:`${Math.round(n*r)}x${Math.round(o*r)}`,aspectRatio:this.calculateAspectRatio(n,o),orientation:n>o?"landscape":"portrait",isTablet:s,hasNotch:!1,hasDynamicIsland:!1,totalMemory:null,supportedCPUArchitectures:null,performanceTier:"high",graphicsCapability:"advanced",networkType:"unknown",isConnected:!0,isWifi:!1,isCellular:!1,cellularGeneration:null,networkQuality:"good",batteryLevel:null,batteryState:null,isLowPowerMode:!1,hasHaptics:!1,hasAudioSupport:!0,supportsWebP:!0,supportsHEIC:!1,supportsP3ColorSpace:!1,supportsHDR:!1,prefersReducedMotion:!1,prefersHighContrast:!1,textScaleFactor:wn.default.getFontScale(),appVersion:(null==(e=Fo.default.expoConfig)?void 0:e.version)||"1.0.0",buildNumber:"1",isExpoGo:!1,isStandalone:!0},this.qualitySettings=this.calculateQualitySettings(this.deviceProfile),yield this.saveDeviceProfile(),this.notifyListeners()}catch(l){console.error("Error initializing device profile:",l),this.deviceProfile=this.getFallbackProfile()}});return function(){return e.apply(this,arguments)}}()},{key:"calculateAspectRatio",value:function(e,t){var n=function(e,t){return 0===t?e:n(t,e%t)},o=n(e,t);return`${e/o}:${t/o}`}},{key:"calculateQualitySettings",value:function(e){return{imageQuality:"high",maxTextureSize:2048,enableBlurHash:!0,enableProgressive:!0,cacheStrategy:"aggressive",preloadStrategy:"next",compressionLevel:90}}},{key:"getFallbackProfile",value:function(){var e=re.default.get("window"),t=e.width,n=e.height,o=t>=768;return{deviceId:"unknown",deviceName:"Unknown Device",deviceType:o?"tablet":"phone",brand:null,manufacturer:null,modelName:null,modelId:null,deviceYearClass:null,platform:"web",osVersion:null,systemVersion:"web",apiLevel:null,screenWidth:t,screenHeight:n,screenScale:wn.default.get(),pixelDensity:wn.default.getFontScale(),screenResolution:`${t}x${n}`,aspectRatio:"16:9",orientation:t>n?"landscape":"portrait",isTablet:o,hasNotch:!1,hasDynamicIsland:!1,totalMemory:null,supportedCPUArchitectures:null,performanceTier:"medium",graphicsCapability:"standard",networkType:null,isConnected:!0,isWifi:!1,isCellular:!1,cellularGeneration:null,networkQuality:"good",batteryLevel:null,batteryState:null,isLowPowerMode:!1,hasHaptics:!1,hasAudioSupport:!0,supportsWebP:!0,supportsHEIC:!1,supportsP3ColorSpace:!1,supportsHDR:!1,prefersReducedMotion:!1,prefersHighContrast:!1,textScaleFactor:1,appVersion:"1.0.0",buildNumber:"1",isExpoGo:!1,isStandalone:!0}}},{key:"setupListeners",value:function(){var e=this;re.default.addEventListener("change",function(t){var n=t.window;e.deviceProfile&&(e.deviceProfile.screenWidth=n.width,e.deviceProfile.screenHeight=n.height,e.deviceProfile.orientation=n.width>n.height?"landscape":"portrait",e.notifyListeners())})}},{key:"notifyListeners",value:function(){var e=this;this.deviceProfile&&this.listeners.forEach(function(t){return t(e.deviceProfile)})}},{key:"saveDeviceProfile",value:function(){var e=(0,r.default)(function*(){if(this.deviceProfile)try{yield c.default.setItem("@device_profile",JSON.stringify(this.deviceProfile)),yield c.default.setItem("@quality_settings",JSON.stringify(this.qualitySettings))}catch(e){console.error("Error saving device profile:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"loadDeviceProfile",value:function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem("@device_profile");if(e)return JSON.parse(e)}catch(t){console.error("Error loading device profile:",t)}return null});return function(){return e.apply(this,arguments)}}()},{key:"getDeviceProfile",value:function(){return this.deviceProfile||this.getFallbackProfile()}},{key:"getQualitySettings",value:function(){return this.qualitySettings||{imageQuality:"medium",maxTextureSize:2048,enableBlurHash:!0,enableProgressive:!0,cacheStrategy:"balanced",preloadStrategy:"next",compressionLevel:85}}},{key:"isHighEndDevice",value:function(){return!0}},{key:"isLowEndDevice",value:function(){return!1}},{key:"shouldReduceQuality",value:function(){return!1}},{key:"getOptimalImageResolution",value:function(){var e=this.getDeviceProfile();return e.screenScale>=3?"@3x":e.screenScale>=2?"@2x":"@1x"}},{key:"getRecommendedCachePolicy",value:function(){return"memory-disk"}},{key:"subscribe",value:function(e){var t=this;return this.listeners.add(e),function(){t.listeners.delete(e)}}},{key:"refresh",value:function(){var e=(0,r.default)(function*(){yield this.initializeDeviceProfile()});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}(),_o=Co.getInstance();function jo(){return _o.getOptimalImageResolution()}var Po=re.default.get("window"),Eo=(Po.width,Po.height,{cart:"L6H2:g00~q00_3%M%M%M~q00%M%M",trail:"L5H2EC=PM+%M~q%M~q%M%M%M~q%M",badge:"L5H2QC00~q%M~q%M~q%M~q%M~q%M",frame:"L5H2:g00~q00_3%M%M%M~q00%M%M",default:"L6PZfSxt~qt7%Mj[%Mj[~qt7%Mj["}),Do=function(e){var t=e.skinId,n=e.type,o=e.variant,r=void 0===o?"raster":o,s=e.aspectRatio,l=void 0===s?1:s,c=e.contentFit,d=void 0===c?"contain":c,f=e.backgroundColor,p=void 0===f?"transparent":f,h=e.containerStyle,g=e.imageStyle,m=e.onLoad,y=e.onError,v=e.showPlaceholder,b=void 0===v||v,w=e.priority,k=void 0===w?"normal":w,x=e.cachePolicy,S=e.transition,F=void 0===S?200:S,C=(0,a.useState)(function(){return _o.getDeviceProfile()}),_=(0,i.default)(C,1)[0],j=(0,a.useState)(function(){return _o.getQualitySettings()}),P=(0,i.default)(j,1)[0],E=(0,a.useState)(!0),D=(0,i.default)(E,2),A=D[0],I=D[1];(0,a.useEffect)(function(){return _o.subscribe(function(e){console.log("Device profile updated:",e.performanceTier)})},[]);var T=(0,a.useMemo)(function(){return x||_o.getRecommendedCachePolicy()},[x]),O=(0,a.useMemo)(function(){return _o.shouldReduceQuality()?{compressionLevel:.7,maxSize:P.maxTextureSize,enableBlur:!1}:{compressionLevel:P.compressionLevel/100,maxSize:P.maxTextureSize,enableBlur:P.enableBlurHash}},[P]),B=(0,a.useMemo)(function(){var e=`/assets/skins/${t}`;switch(r){case"hero":return`${e}/previews/${"tablet"===_.deviceType?"hero_tablet_1536x2048.png":"hero_phone_1080x1920.png"}`;case"thumbnail":var n=jo();return`${e}/thumbnails/${"@3x"===n?"thumb@3x.png":"@2x"===n?"thumb@2x.png":"thumb.png"}`;case"preview":return`${e}/previews/${P.maxTextureSize>=2048?"tile_1024.png":P.maxTextureSize>=1536?"tile_768.png":"tile_512.png"}`;default:var o=jo();return`${e}/raster/${t}${"@3x"===o?"@3x":"@2x"===o?"@2x":""}.png`}},[t,r,_,P]),U=(0,a.useMemo)(function(){var e,t,n="ultra"===_.performanceTier?1.2:"high"===_.performanceTier?1:"medium"===_.performanceTier?.9:.75;switch(r){case"hero":t="tablet"===_.deviceType?(e=Math.min(.7*_.screenWidth,768*n))*(2048/1536):(e=(_.screenWidth-40)*n)*(1920/1080);break;case"thumbnail":t=e=(_.isTablet?100:80)*n;break;case"preview":t=(e=(_.isTablet?400:300)*n)/l;var o=P.maxTextureSize/4;e>o&&(t=(e=o)/l);break;default:t=(e=(_.isTablet?400:320)*n)/l}return{width:Math.round(e),height:Math.round(t)}},[r,l,_,P]),M=(0,a.useMemo)(function(){if(O.enableBlur)return Eo[n]||Eo.default},[n,O.enableBlur]);return(0,u.jsxs)(q.default,{style:[Ao.container,U,{backgroundColor:p},h],children:[(0,u.jsx)(So.Image,{source:B,placeholder:b?M:void 0,contentFit:d,transition:O.enableBlur?F:0,priority:k,cachePolicy:T,style:[Ao.image,U,g],onLoad:function(){I(!1),null==m||m()},onError:function(e){I(!1),console.warn(`Failed to load image: ${B}`,e),null==y||y(e)},recyclingKey:`${t}-${r}-${_.performanceTier}`,allowDownscaling:!0,autoplay:!_.prefersReducedMotion,resizeMode:d,responsivePolicy:_.isTablet?"live":"initial",accessible:!0,accessibilityLabel:`${n} skin: ${t}`}),A&&!b&&(0,u.jsx)(q.default,{style:Ao.loadingOverlay,children:(0,u.jsx)($.default,{size:"small",color:"#FFD700"})})]})};var Ao=K.default.create({container:{overflow:"hidden",borderRadius:12,alignSelf:"center"},image:{flex:1},loadingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.3)"}});function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Oo=re.default.get("window").width>=768;function Bo(e){var t=e.navigation,n=(0,a.useState)("carts"),s=(0,i.default)(n,2),l=s[0],c=s[1],d=(0,a.useState)(null),f=(0,i.default)(d,2),p=f[0],h=f[1],g=(0,a.useState)({cart:null,trail:null,badge:null,frame:null}),m=(0,i.default)(g,2),y=m[0],v=m[1],b=(0,a.useState)(!1),w=(0,i.default)(b,2),k=w[0],x=w[1],S=(0,a.useState)([]),F=(0,i.default)(S,2),C=F[0],_=F[1];(0,a.useEffect)(function(){j()},[]);var j=function(){var e=(0,r.default)(function*(){x(!0);try{ke.getOwnedSkins(),ke.getEquippedItems();var e,t,n,o,r=[{id:"cart_aurora_gold_v1",type:"cart",name:"Aurora Gold Cart",rarity:"legendary",equipped:!1,unlockDate:"2025-08-01"},{id:"cart_harvest_brass_v1",type:"cart",name:"Harvest Brass Cart",rarity:"epic",equipped:!0,unlockDate:"2025-09-01"},{id:"cart_starlight_chrome_v1",type:"cart",name:"Starlight Chrome",rarity:"rare",equipped:!1,unlockDate:"2025-12-01"},{id:"trail_sunflare_v1",type:"trail",name:"Sunflare Trail",rarity:"rare",equipped:!0,unlockDate:"2025-08-01"},{id:"trail_crystal_snow_v1",type:"trail",name:"Crystal Snow",rarity:"seasonal",equipped:!1,unlockDate:"2025-12-01"},{id:"badge_founders_vault_v1",type:"badge",name:"Founders Badge",rarity:"epic",equipped:!0,unlockDate:"2025-08-01"},{id:"badge_solstice_star_v1",type:"badge",name:"Solstice Star",rarity:"legendary",equipped:!1,unlockDate:"2025-12-01"},{id:"frame_aurum_ribbon_v1",type:"frame",name:"Aurum Ribbon",rarity:"uncommon",equipped:!1,unlockDate:"2025-08-01"},{id:"frame_northern_arc_v1",type:"frame",name:"Northern Arc",rarity:"rare",equipped:!0,unlockDate:"2025-12-01"}];_(r);var i={cart:(null==(e=r.find(function(e){return"cart"===e.type&&e.equipped}))?void 0:e.id)||null,trail:(null==(t=r.find(function(e){return"trail"===e.type&&e.equipped}))?void 0:t.id)||null,badge:(null==(n=r.find(function(e){return"badge"===e.type&&e.equipped}))?void 0:n.id)||null,frame:(null==(o=r.find(function(e){return"frame"===e.type&&e.equipped}))?void 0:o.id)||null};v(i)}catch(a){console.error("Error loading locker data:",a)}finally{x(!1)}});return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,r.default)(function*(e){Un.impactAsync(Un.ImpactFeedbackStyle.Medium);var t=C.map(function(t){return To(To({},t),{},{equipped:t.type===e.type?t.id===e.id:t.equipped})});_(t),v(To(To({},y),{},(0,o.default)({},e.type,e.id))),he.default.alert("Equipped!",`${e.name} is now equipped`,[{text:"OK"}])});return function(t){return e.apply(this,arguments)}}(),E=function(e){switch(e){case"common":default:return"#ccc";case"uncommon":return"#4CAF50";case"rare":return"#2196F3";case"epic":return"#9C27B0";case"legendary":return"#FFD700";case"seasonal":return"#FF6B6B"}},D=function(e){switch(e){case"legendary":return["#FFD700","#FFA500"];case"epic":return["#9C27B0","#E91E63"];case"rare":return["#2196F3","#00BCD4"];case"uncommon":return["#4CAF50","#8BC34A"];case"seasonal":return["#FF6B6B","#FF8E53"];default:return["#757575","#9E9E9E"]}},A={carts:"cart",trails:"trail",badges:"badge",frames:"frame"},I=A[l]||"cart",T=C.filter(function(e){return e.type===I});return k?(0,u.jsxs)(q.default,{style:Uo.container,children:[(0,u.jsx)($.default,{size:"large",color:"#FFD700"}),(0,u.jsx)(ne.default,{style:Uo.loadingText,children:"Loading your collection..."})]}):(0,u.jsxs)(q.default,{style:Uo.container,children:[(0,u.jsxs)(ie.LinearGradient,{colors:["#2a2a2a","#1a1a1a"],style:Uo.header,children:[(0,u.jsx)(ne.default,{style:Uo.headerTitle,children:"\ud83c\udfc6 MY LOCKER"}),(0,u.jsxs)(ne.default,{style:Uo.headerSubtitle,children:[C.length," items collected"]})]}),(0,u.jsxs)(q.default,{style:Uo.loadoutSection,children:[(0,u.jsx)(ne.default,{style:Uo.loadoutTitle,children:"CURRENT LOADOUT"}),(0,u.jsx)(q.default,{style:Uo.loadoutGrid,children:Object.entries(y).map(function(e){var t=(0,i.default)(e,2),n=t[0],o=t[1];return(0,u.jsxs)(q.default,{style:Uo.loadoutItem,children:[(0,u.jsx)(ne.default,{style:Uo.loadoutType,children:n.toUpperCase()}),o?(0,u.jsx)(Do,{skinId:o,type:n,variant:"thumbnail",containerStyle:Uo.loadoutThumbnail,showPlaceholder:!0}):(0,u.jsx)(q.default,{style:[Uo.loadoutThumbnail,Uo.emptySlot],children:(0,u.jsx)(cn.default,{name:"add-circle-outline",size:30,color:"#666"})})]},n)})})]}),(0,u.jsx)(ge.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Uo.categoryScroll,children:["carts","trails","badges","frames"].map(function(e){return(0,u.jsxs)(pe.default,{style:[Uo.categoryTab,l===e&&Uo.categoryTabActive],onPress:function(){return c(e)},children:[(0,u.jsx)(ne.default,{style:[Uo.categoryText,l===e&&Uo.categoryTextActive],children:e.toUpperCase()}),(0,u.jsx)(ne.default,{style:Uo.categoryCount,children:C.filter(function(t){return t.type===A[e]}).length})]},e)})}),(0,u.jsx)(ge.default,{style:Uo.collectionContainer,children:(0,u.jsxs)(q.default,{style:Uo.collectionGrid,children:[T.map(function(e){var t=y[e.type]===e.id;return(0,u.jsx)(pe.default,{style:[Uo.lockerItem,t&&Uo.equippedItem],onPress:function(){return h(e)},activeOpacity:.9,children:(0,u.jsx)(ie.LinearGradient,{colors:D(e.rarity),style:Uo.rarityBorder,children:(0,u.jsxs)(q.default,{style:Uo.itemInner,children:[(0,u.jsxs)(q.default,{style:Uo.itemPreview,children:[(0,u.jsx)(Do,{skinId:e.id,type:e.type,variant:"thumbnail",containerStyle:Uo.itemThumbnail,showPlaceholder:!0}),t&&(0,u.jsx)(q.default,{style:Uo.equippedBadge,children:(0,u.jsx)(ne.default,{style:Uo.equippedText,children:"EQUIPPED"})})]}),(0,u.jsx)(ne.default,{style:Uo.itemName,numberOfLines:1,children:e.name}),(0,u.jsx)(ne.default,{style:[Uo.itemRarity,{color:E(e.rarity)}],children:e.rarity.toUpperCase()}),(0,u.jsxs)(ne.default,{style:Uo.unlockDate,children:["Unlocked: ",new Date(e.unlockDate).toLocaleDateString()]}),!t&&(0,u.jsx)(pe.default,{style:Uo.equipButton,onPress:function(){return P(e)},children:(0,u.jsx)(ne.default,{style:Uo.equipButtonText,children:"EQUIP"})})]})})},e.id)}),0===T.length&&(0,u.jsxs)(q.default,{style:Uo.emptyState,children:[(0,u.jsx)(cn.default,{name:"lock-closed",size:50,color:"#666"}),(0,u.jsxs)(ne.default,{style:Uo.emptyText,children:["No ",l," unlocked yet"]}),(0,u.jsx)(pe.default,{style:Uo.shopButton,onPress:function(){return t.navigate("Shop")},children:(0,u.jsx)(ne.default,{style:Uo.shopButtonText,children:"Visit Shop"})})]})]})}),function(){if(!p)return null;var e=y[p.type]===p.id;return(0,u.jsx)(q.default,{style:Uo.previewSection,children:(0,u.jsxs)(ie.LinearGradient,{colors:["#2a2a2a","#1a1a1a"],style:Uo.previewContainer,children:[(0,u.jsx)(ne.default,{style:Uo.previewTitle,children:"PREVIEW"}),(0,u.jsx)(Do,{skinId:p.id,type:p.type,variant:"preview",containerStyle:Uo.largePreview,showPlaceholder:!0}),(0,u.jsx)(ne.default,{style:Uo.previewName,children:p.name}),(0,u.jsxs)(ne.default,{style:[Uo.previewRarity,{color:E(p.rarity)}],children:[p.rarity.toUpperCase()," ",p.type.toUpperCase()]}),!e&&(0,u.jsx)(pe.default,{style:Uo.equipLargeButton,onPress:function(){return P(p)},children:(0,u.jsx)(ne.default,{style:Uo.equipLargeButtonText,children:"EQUIP NOW"})}),e&&(0,u.jsxs)(q.default,{style:Uo.equippedLargeBadge,children:[(0,u.jsx)(cn.default,{name:"checkmark-circle",size:24,color:"#4CAF50"}),(0,u.jsx)(ne.default,{style:Uo.equippedLargeText,children:"CURRENTLY EQUIPPED"})]}),(0,u.jsx)(pe.default,{style:Uo.closePreview,onPress:function(){return h(null)},children:(0,u.jsx)(cn.default,{name:"close-circle",size:30,color:"#666"})})]})})}(),(0,u.jsxs)(q.default,{style:Uo.navigation,children:[(0,u.jsxs)(pe.default,{style:Uo.navButton,onPress:function(){return t.goBack()},children:[(0,u.jsx)(cn.default,{name:"arrow-back",size:24,color:"#fff"}),(0,u.jsx)(ne.default,{style:Uo.navButtonText,children:"Back"})]}),(0,u.jsxs)(pe.default,{style:Uo.navButton,onPress:function(){return t.navigate("Shop")},children:[(0,u.jsx)(cn.default,{name:"cart",size:24,color:"#fff"}),(0,u.jsx)(ne.default,{style:Uo.navButtonText,children:"Shop"})]})]})]})}var Uo=K.default.create({container:{flex:1,backgroundColor:"#1a1a1a"},header:{paddingTop:50,paddingBottom:20,paddingHorizontal:20,alignItems:"center"},headerTitle:{fontSize:Oo?28:24,fontWeight:"bold",color:"#FFD700"},headerSubtitle:{fontSize:Oo?16:14,color:"#999",marginTop:5},loadoutSection:{padding:15,backgroundColor:"#2a2a2a",marginVertical:10},loadoutTitle:{fontSize:Oo?16:14,fontWeight:"bold",color:"#FFD700",marginBottom:10},loadoutGrid:{flexDirection:"row",justifyContent:"space-around"},loadoutItem:{alignItems:"center"},loadoutType:{fontSize:Oo?12:10,color:"#999",marginBottom:5},loadoutThumbnail:{width:Oo?70:60,height:Oo?70:60,borderRadius:10,overflow:"hidden"},emptySlot:{backgroundColor:"#333",justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#444",borderStyle:"dashed"},categoryScroll:{maxHeight:60,backgroundColor:"#2a2a2a"},categoryTab:{paddingHorizontal:20,paddingVertical:15,alignItems:"center",borderBottomWidth:3,borderBottomColor:"transparent"},categoryTabActive:{borderBottomColor:"#FFD700"},categoryText:{fontSize:Oo?14:12,color:"#999",fontWeight:"600"},categoryTextActive:{color:"#FFD700"},categoryCount:{fontSize:Oo?10:8,color:"#666",marginTop:2},collectionContainer:{flex:1},collectionGrid:{flexDirection:"row",flexWrap:"wrap",padding:10,justifyContent:"space-between"},lockerItem:{width:Oo?"23%":"48%",marginBottom:15,borderRadius:12,overflow:"hidden"},equippedItem:{transform:[{scale:.95}]},rarityBorder:{padding:2,borderRadius:12},itemInner:{backgroundColor:"#2a2a2a",borderRadius:10,padding:10,alignItems:"center"},itemPreview:{width:"100%",aspectRatio:1,marginBottom:8,position:"relative"},itemThumbnail:{width:"100%",height:"100%",borderRadius:8},equippedBadge:{position:"absolute",top:5,right:5,backgroundColor:"#4CAF50",borderRadius:8,paddingHorizontal:6,paddingVertical:2},equippedText:{color:"#fff",fontSize:Oo?10:8,fontWeight:"bold"},itemName:{fontSize:Oo?14:12,color:"#fff",fontWeight:"600",marginBottom:2},itemRarity:{fontSize:Oo?12:10,fontWeight:"600",marginBottom:5},unlockDate:{fontSize:Oo?10:8,color:"#666",marginBottom:8},equipButton:{backgroundColor:"#2196F3",paddingHorizontal:15,paddingVertical:6,borderRadius:15},equipButtonText:{color:"#fff",fontSize:Oo?12:10,fontWeight:"bold"},previewSection:{position:"absolute",bottom:80,left:20,right:20,zIndex:100},previewContainer:{padding:20,borderRadius:20,alignItems:"center",elevation:10,shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.3,shadowRadius:10},previewTitle:{fontSize:Oo?14:12,color:"#999",marginBottom:10},largePreview:{width:Oo?200:150,height:Oo?200:150,borderRadius:16,marginBottom:15},previewName:{fontSize:Oo?18:16,fontWeight:"bold",color:"#fff",marginBottom:5},previewRarity:{fontSize:Oo?14:12,fontWeight:"600",marginBottom:15},equipLargeButton:{backgroundColor:"#4CAF50",paddingHorizontal:30,paddingVertical:12,borderRadius:20},equipLargeButtonText:{color:"#fff",fontSize:Oo?14:12,fontWeight:"bold"},equippedLargeBadge:{flexDirection:"row",alignItems:"center",padding:10},equippedLargeText:{color:"#4CAF50",fontSize:Oo?14:12,fontWeight:"bold",marginLeft:8},closePreview:{position:"absolute",top:10,right:10},emptyState:{flex:1,width:"100%",paddingVertical:50,alignItems:"center"},emptyText:{color:"#666",fontSize:Oo?16:14,marginTop:10,marginBottom:20},shopButton:{backgroundColor:"#FFD700",paddingHorizontal:30,paddingVertical:12,borderRadius:20},shopButtonText:{color:"#1a1a1a",fontSize:Oo?14:12,fontWeight:"bold"},navigation:{flexDirection:"row",padding:15,backgroundColor:"#2a2a2a",justifyContent:"space-around"},navButton:{flexDirection:"row",alignItems:"center",backgroundColor:"#333",paddingHorizontal:20,paddingVertical:10,borderRadius:20},navButtonText:{color:"#fff",fontSize:Oo?14:12,fontWeight:"600",marginLeft:8},loadingText:{color:"#999",fontSize:Oo?16:14,marginTop:20}}),Mo=n(2643),Ro=n.n(Mo);function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var No=function(){function e(){(0,Q.default)(this,e),this.currentUser=null}return(0,J.default)(e,[{key:"createUserProfile",value:function(){var e=(0,r.default)(function*(e,t,n,o,r){var i=r?function(e){return Ro()(e).toString()}(r):void 0,a=Lo(Lo({uid:e,username:t.toLowerCase(),displayName:n,email:o},i?{password:i}:{}),{},{coins:100,highScore:0,gamesPlayed:0,achievements:[],level:1,createdAt:new Date,lastSeen:new Date,isOnline:!0,friends:[],privacySettings:{showOnlineStatus:!0,allowFriendRequests:!0,showInLeaderboards:!0}});try{return yield(0,v.setDoc)((0,v.doc)(z,"users",e),a),yield be.saveOfflineData(e,{coins:a.coins,highScore:a.highScore,gamesPlayed:a.gamesPlayed,achievements:a.achievements}),this.currentUser=a,a}catch(s){throw console.log("Error creating user profile:",s),s}});return function(t,n,o,r,i){return e.apply(this,arguments)}}()},{key:"getUserProfile",value:function(){var e=(0,r.default)(function*(e){try{var t=yield(0,v.getDoc)((0,v.doc)(z,"users",e));if(t.exists())return t.data()}catch(n){console.log("Error getting user profile:",n)}return null});return function(t){return e.apply(this,arguments)}}()},{key:"updateUserProfile",value:function(){var e=(0,r.default)(function*(e,t){try{var n;yield(0,v.updateDoc)((0,v.doc)(z,"users",e),Lo(Lo({},t),{},{lastSeen:new Date})),(null==(n=this.currentUser)?void 0:n.uid)===e&&(this.currentUser=Lo(Lo({},this.currentUser),t))}catch(o){console.log("Error updating user profile:",o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"validateUsername",value:function(){var e=(0,r.default)(function*(e){var t=e.toLowerCase().trim();if(t.length<3||t.length>20)return{isValid:!1,error:"Username must be between 3 and 20 characters"};if(!/^[a-zA-Z0-9_]+$/.test(t))return{isValid:!1,error:"Username can only contain letters, numbers, and underscores"};try{var n=(0,v.collection)(z,"users"),o=(0,v.query)(n,(0,v.where)("username","==",t));if(!(yield(0,v.getDocs)(o)).empty)return{isValid:!1,error:"Username is already taken"}}catch(r){return console.log("Error checking username availability:",r),{isValid:!1,error:"Unable to check username availability"}}return{isValid:!0}});return function(t){return e.apply(this,arguments)}}()},{key:"searchUsers",value:function(){var e=(0,r.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{var n=(0,v.collection)(z,"users"),o=(0,v.query)(n,(0,v.where)("username",">=",e.toLowerCase()),(0,v.where)("username","<=",e.toLowerCase()+"\uf8ff")),r=yield(0,v.getDocs)(o),i=[];return r.forEach(function(e){var t=e.data();t.privacySettings.showInLeaderboards&&i.push(t)}),i.slice(0,t)}catch(a){return console.log("Error searching users:",a),[]}});return function(t){return e.apply(this,arguments)}}()},{key:"getUserByUsername",value:function(){var e=(0,r.default)(function*(e){try{var t=(0,v.collection)(z,"users"),n=(0,v.query)(t,(0,v.where)("username","==",e.toLowerCase())),o=yield(0,v.getDocs)(n);if(!o.empty)return o.docs[0].data()}catch(r){console.log("Error getting user by username:",r)}return null});return function(t){return e.apply(this,arguments)}}()},{key:"addFriend",value:function(){var e=(0,r.default)(function*(e,t){try{var n,o;yield(0,v.updateDoc)((0,v.doc)(z,"users",e),{friends:[].concat((0,y.default)((null==(n=this.currentUser)?void 0:n.friends)||[]),[t])}),yield(0,v.updateDoc)((0,v.doc)(z,"users",t),{friends:[].concat((0,y.default)((null==(o=yield this.getUserProfile(t))?void 0:o.friends)||[]),[e])})}catch(r){console.log("Error adding friend:",r)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"removeFriend",value:function(){var e=(0,r.default)(function*(e,t){try{var n=yield this.getUserProfile(e);n&&(yield(0,v.updateDoc)((0,v.doc)(z,"users",e),{friends:n.friends.filter(function(e){return e!==t})}));var o=yield this.getUserProfile(t);o&&(yield(0,v.updateDoc)((0,v.doc)(z,"users",t),{friends:o.friends.filter(function(t){return t!==e})}))}catch(r){console.log("Error removing friend:",r)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserFriends",value:function(){var e=(0,r.default)(function*(e){try{var t=yield this.getUserProfile(e);if(!t)return[];var n=[];for(var o of t.friends){var r=yield this.getUserProfile(o);r&&n.push(r)}return n}catch(i){return console.log("Error getting user friends:",i),[]}});return function(t){return e.apply(this,arguments)}}()},{key:"updateOnlineStatus",value:function(){var e=(0,r.default)(function*(e,t){try{yield(0,v.updateDoc)((0,v.doc)(z,"users",e),{isOnline:t,lastSeen:new Date})}catch(n){console.log("Error updating online status:",n)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){return this.currentUser}},{key:"setCurrentUser",value:function(e){this.currentUser=e}},{key:"updateUserStats",value:function(){var e=(0,r.default)(function*(e,t){try{var n;yield(0,v.updateDoc)((0,v.doc)(z,"users",e),t),yield be.saveOfflineData(e,t),(null==(n=this.currentUser)?void 0:n.uid)===e&&(this.currentUser=Lo(Lo({},this.currentUser),t))}catch(o){console.log("Error updating user stats:",o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getLeaderboardUsers",value:function(){var e=(0,r.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;try{var t=(0,v.collection)(z,"users"),n=(0,v.query)(t,(0,v.where)("privacySettings.showInLeaderboards","==",!0)),o=yield(0,v.getDocs)(n),r=[];return o.forEach(function(e){r.push(e.data())}),r.sort(function(e,t){return t.highScore-e.highScore}).slice(0,e)}catch(i){return console.log("Error getting leaderboard users:",i),[]}});return function(){return e.apply(this,arguments)}}()},{key:"deleteUserAccount",value:function(){var e=(0,r.default)(function*(e){try{var t;yield(0,v.setDoc)((0,v.doc)(z,"users",e),{deleted:!0}),yield be.clearAllOfflineData(),(null==(t=this.currentUser)?void 0:t.uid)===e&&(this.currentUser=null)}catch(n){console.log("Error deleting user account:",n)}});return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Wo=K.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingTop:60,paddingBottom:20},backButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:20,padding:8},title:{fontSize:24,fontWeight:"bold",color:"white"},refreshButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:20,padding:8},offlineBanner:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 0, 0, 0.2)",paddingHorizontal:20,paddingVertical:8,marginHorizontal:20,borderRadius:8},offlineText:{color:"white",fontSize:12,marginLeft:8},tabContainer:{flexDirection:"row",marginHorizontal:20,marginBottom:20,backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:12,padding:4},tabButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:12,borderRadius:8},activeTab:{backgroundColor:"rgba(255, 255, 255, 0.3)"},tabText:{fontSize:14,fontWeight:"bold",color:"white",marginLeft:4},activeTabText:{color:"#FFD700"},list:{flex:1},listContent:{paddingHorizontal:20,paddingBottom:20},leaderboardItem:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16,marginBottom:12},currentUserItem:{backgroundColor:"rgba(255, 215, 0, 0.3)",borderWidth:2,borderColor:"#FFD700"},topThreeItem:{backgroundColor:"rgba(255, 255, 255, 0.3)"},rankContainer:{width:40,alignItems:"center"},topThreeRank:{width:50},rankText:{fontSize:16,fontWeight:"bold",color:"white"},userInfo:{flex:1,marginLeft:12},username:{fontSize:16,fontWeight:"bold",color:"white",marginBottom:2},userStats:{fontSize:12,color:"white",opacity:.8},scoreContainer:{alignItems:"flex-end"},scoreText:{fontSize:18,fontWeight:"bold",color:"white"},scoreLabel:{fontSize:10,color:"white",opacity:.8},currentUserIndicator:{marginLeft:8},currentUserText:{color:"#FFD700",fontWeight:"bold"},emptyState:{alignItems:"center",justifyContent:"center",paddingVertical:60},emptyStateTitle:{fontSize:18,fontWeight:"bold",color:"white",marginTop:16,marginBottom:8},emptyStateSubtitle:{fontSize:14,color:"white",opacity:.8,textAlign:"center"},currentUserStats:{backgroundColor:"rgba(255, 255, 255, 0.2)",marginHorizontal:20,marginBottom:20,borderRadius:16,padding:16},currentUserStatsTitle:{fontSize:16,fontWeight:"bold",color:"white",marginBottom:12,textAlign:"center"},statsRow:{flexDirection:"row",justifyContent:"space-around"},statItem:{alignItems:"center"},statValue:{fontSize:18,fontWeight:"bold",color:"#FFD700"},statLabel:{fontSize:12,color:"white",opacity:.8,marginTop:2}});const Vo=function(e){var t=e.navigation,n=g().gameState,o=(0,a.useState)([]),s=(0,i.default)(o,2),l=s[0],c=s[1],d=(0,a.useState)([]),f=(0,i.default)(d,2),p=f[0],h=f[1],m=(0,a.useState)(!0),y=(0,i.default)(m,2),v=(y[0],y[1]),b=(0,a.useState)(!1),w=(0,i.default)(b,2),k=w[0],x=w[1],S=(0,a.useState)("global"),F=(0,i.default)(S,2),C=F[0],_=F[1],j=(0,a.useState)(!1),P=(0,i.default)(j,2),E=P[0],D=P[1];(0,a.useEffect)(function(){A()},[]);var A=function(){var e=(0,r.default)(function*(){try{v(!0);var e=be.isConnected();if(D(!e),e){var t=(yield No.getLeaderboardUsers(100)).map(function(e,t){return{rank:t+1,user:e,score:e.highScore,isCurrentUser:e.uid===n.userId}});if(c(t),n.userId){var o=(yield No.getUserFriends(n.userId)).map(function(e,t){return{rank:t+1,user:e,score:e.highScore,isCurrentUser:!1}});h(o)}}else{var r=yield be.getOfflineData(n.userId||"anonymous"),i={rank:1,user:{uid:n.userId||"anonymous",username:"You",displayName:"You (Offline)",coins:r.coins,highScore:r.highScore,gamesPlayed:r.gamesPlayed,achievements:r.achievements,level:1,createdAt:new Date,lastSeen:new Date,isOnline:!1,friends:[],privacySettings:{showOnlineStatus:!0,allowFriendRequests:!0,showInLeaderboards:!0}},score:r.highScore,isCurrentUser:!0};c([i]),h([])}}catch(a){console.log("Error loading leaderboard data:",a),he.default.alert("Error","Unable to load leaderboard data. Please try again.")}finally{v(!1)}});return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,r.default)(function*(){x(!0),yield A(),x(!1)});return function(){return e.apply(this,arguments)}}(),T=function(e){Un.impactAsync(Un.ImpactFeedbackStyle.Light),_(e)};return(0,u.jsxs)(ie.LinearGradient,{colors:["#FFD700","#FFA500","#FF8C00"],style:Wo.container,children:[(0,u.jsx)(sn.default,{barStyle:"light-content",backgroundColor:"transparent",translucent:!0}),(0,u.jsxs)(q.default,{style:Wo.header,children:[(0,u.jsx)(pe.default,{style:Wo.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(cn.default,{name:"arrow-back",size:24,color:"white"})}),(0,u.jsx)(ne.default,{style:Wo.title,children:"Leaderboard"}),(0,u.jsx)(pe.default,{style:Wo.refreshButton,onPress:I,disabled:k,children:(0,u.jsx)(cn.default,{name:k?"sync":"refresh",size:24,color:"white"})})]}),E&&(0,u.jsxs)(q.default,{style:Wo.offlineBanner,children:[(0,u.jsx)(cn.default,{name:"cloud-offline",size:20,color:"white"}),(0,u.jsx)(ne.default,{style:Wo.offlineText,children:"Offline Mode - Showing local scores only"})]}),(0,u.jsxs)(q.default,{style:Wo.tabContainer,children:[(0,u.jsxs)(pe.default,{style:[Wo.tabButton,"global"===C&&Wo.activeTab],onPress:function(){return T("global")},children:[(0,u.jsx)(cn.default,{name:"globe",size:20,color:"global"===C?"#FFD700":"white"}),(0,u.jsx)(ne.default,{style:[Wo.tabText,"global"===C&&Wo.activeTabText],children:"Global"})]}),(0,u.jsxs)(pe.default,{style:[Wo.tabButton,"friends"===C&&Wo.activeTab],onPress:function(){return T("friends")},children:[(0,u.jsx)(cn.default,{name:"people",size:20,color:"friends"===C?"#FFD700":"white"}),(0,u.jsx)(ne.default,{style:[Wo.tabText,"friends"===C&&Wo.activeTabText],children:"Friends"})]})]}),(0,u.jsx)(In.default,{data:"global"===C?l:p,renderItem:function(e){var t=e.item,n=(e.index,t.rank<=3),o=t.isCurrentUser;return(0,u.jsxs)(q.default,{style:[Wo.leaderboardItem,o&&Wo.currentUserItem,n&&Wo.topThreeItem],children:[(0,u.jsx)(q.default,{style:[Wo.rankContainer,n&&Wo.topThreeRank],children:n?(0,u.jsx)(cn.default,{name:1===t.rank?"trophy":2===t.rank?"medal":"ribbon",size:24,color:1===t.rank?"#FFD700":2===t.rank?"#C0C0C0":"#CD7F32"}):(0,u.jsxs)(ne.default,{style:[Wo.rankText,o&&Wo.currentUserText],children:["#",t.rank]})}),(0,u.jsxs)(q.default,{style:Wo.userInfo,children:[(0,u.jsx)(ne.default,{style:[Wo.username,o&&Wo.currentUserText],children:t.user.displayName}),(0,u.jsxs)(ne.default,{style:[Wo.userStats,o&&Wo.currentUserText],children:["Level ",t.user.level," \u2022 ",t.user.gamesPlayed," games"]})]}),(0,u.jsxs)(q.default,{style:Wo.scoreContainer,children:[(0,u.jsx)(ne.default,{style:[Wo.scoreText,o&&Wo.currentUserText],children:t.score.toLocaleString()}),(0,u.jsx)(ne.default,{style:[Wo.scoreLabel,o&&Wo.currentUserText],children:"points"})]}),o&&(0,u.jsx)(q.default,{style:Wo.currentUserIndicator,children:(0,u.jsx)(cn.default,{name:"person",size:16,color:"#FFD700"})})]})},keyExtractor:function(e){return e.user.uid},style:Wo.list,contentContainerStyle:Wo.listContent,refreshControl:(0,u.jsx)(An.default,{refreshing:k,onRefresh:I,tintColor:"white",colors:["white"]}),ListEmptyComponent:function(){return(0,u.jsxs)(q.default,{style:Wo.emptyState,children:[(0,u.jsx)(cn.default,{name:"trophy-outline",size:64,color:"rgba(255, 255, 255, 0.5)"}),(0,u.jsx)(ne.default,{style:Wo.emptyStateTitle,children:"global"===C?"No Global Scores":"No Friends Yet"}),(0,u.jsx)(ne.default,{style:Wo.emptyStateSubtitle,children:"global"===C?"Be the first to set a high score!":"Add friends to see their scores here."})]})},showsVerticalScrollIndicator:!1}),!E&&(0,u.jsxs)(q.default,{style:Wo.currentUserStats,children:[(0,u.jsx)(ne.default,{style:Wo.currentUserStatsTitle,children:"Your Stats"}),(0,u.jsxs)(q.default,{style:Wo.statsRow,children:[(0,u.jsxs)(q.default,{style:Wo.statItem,children:[(0,u.jsx)(ne.default,{style:Wo.statValue,children:n.highScore.toLocaleString()}),(0,u.jsx)(ne.default,{style:Wo.statLabel,children:"High Score"})]}),(0,u.jsxs)(q.default,{style:Wo.statItem,children:[(0,u.jsx)(ne.default,{style:Wo.statValue,children:n.gamesPlayed}),(0,u.jsx)(ne.default,{style:Wo.statLabel,children:"Games Played"})]}),(0,u.jsxs)(q.default,{style:Wo.statItem,children:[(0,u.jsx)(ne.default,{style:Wo.statValue,children:n.coins.toLocaleString()}),(0,u.jsx)(ne.default,{style:Wo.statLabel,children:"Coins"})]})]})]})]})};re.default.get("window").width;var Go=K.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingTop:60,paddingBottom:20},title:{fontSize:24,fontWeight:"bold",color:"white"},backButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:20,padding:8},content:{flex:1,paddingHorizontal:20},section:{marginBottom:30},sectionTitle:{fontSize:18,fontWeight:"bold",color:"white",marginBottom:15,textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:1,height:1},textShadowRadius:2},statsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},statCard:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16,width:"48%",marginBottom:12,alignItems:"center",elevation:4,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},statIcon:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center",marginBottom:8},statValue:{fontSize:20,fontWeight:"bold",color:"white",marginBottom:4},statLabel:{fontSize:12,color:"white",opacity:.8,textAlign:"center"},performanceContainer:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16},performanceItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},performanceLabel:{fontSize:14,color:"white",opacity:.8},performanceValue:{fontSize:16,fontWeight:"bold",color:"white"},upgradesContainer:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16},upgradeItem:{flexDirection:"row",alignItems:"center",paddingVertical:8,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},upgradeLabel:{fontSize:14,color:"white",flex:1,marginLeft:12},upgradeValue:{fontSize:14,fontWeight:"bold",color:"#FFD700"},achievementItem:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:12,padding:12,marginBottom:8},achievementIcon:{width:32,height:32,borderRadius:16,alignItems:"center",justifyContent:"center",marginRight:12},achievementInfo:{flex:1},achievementTitle:{fontSize:14,fontWeight:"bold",marginBottom:2},achievementDescription:{fontSize:12},achievementBadge:{backgroundColor:"#4CAF50",borderRadius:10,padding:4},activityContainer:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16},activityItem:{flexDirection:"row",alignItems:"center",paddingVertical:8,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},activityText:{fontSize:14,color:"white",marginLeft:8}});const Ho=function(e){var t=e.navigation,n=g().gameState,o=function(e,t,n,o){return(0,u.jsxs)(q.default,{style:Go.statCard,children:[(0,u.jsx)(q.default,{style:[Go.statIcon,{backgroundColor:o}],children:(0,u.jsx)(cn.default,{name:n,size:24,color:"white"})}),(0,u.jsx)(ne.default,{style:Go.statValue,children:t}),(0,u.jsx)(ne.default,{style:Go.statLabel,children:e})]})},r=function(e,t,n,o){return(0,u.jsxs)(q.default,{style:[Go.achievementItem,{opacity:n?1:.5}],children:[(0,u.jsx)(q.default,{style:[Go.achievementIcon,{backgroundColor:n?"#4CAF50":"#666"}],children:(0,u.jsx)(cn.default,{name:o,size:20,color:"white"})}),(0,u.jsxs)(q.default,{style:Go.achievementInfo,children:[(0,u.jsx)(ne.default,{style:[Go.achievementTitle,{color:n?"white":"#999"}],children:e}),(0,u.jsx)(ne.default,{style:[Go.achievementDescription,{color:n?"rgba(255,255,255,0.8)":"#666"}],children:t})]}),n&&(0,u.jsx)(q.default,{style:Go.achievementBadge,children:(0,u.jsx)(cn.default,{name:"checkmark",size:16,color:"white"})})]})};return(0,u.jsxs)(ie.LinearGradient,{colors:["#FFD700","#FFA500","#FF8C00"],style:Go.container,children:[(0,u.jsx)(sn.default,{barStyle:"light-content",backgroundColor:"transparent",translucent:!0}),(0,u.jsxs)(q.default,{style:Go.header,children:[(0,u.jsx)(ne.default,{style:Go.title,children:"Statistics"}),(0,u.jsx)(pe.default,{style:Go.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(cn.default,{name:"arrow-back",size:24,color:"white"})})]}),(0,u.jsxs)(ge.default,{style:Go.content,showsVerticalScrollIndicator:!1,children:[(0,u.jsxs)(q.default,{style:Go.section,children:[(0,u.jsx)(ne.default,{style:Go.sectionTitle,children:"Key Statistics"}),(0,u.jsxs)(q.default,{style:Go.statsGrid,children:[o("High Score",n.highScore.toLocaleString(),"trophy","#FFD700"),o("Total Coins",n.totalCoins.toLocaleString(),"coin","#FFD700"),o("Games Played",n.gamesPlayed,"game-controller","#4CAF50"),o("Power-ups Used",n.powerUpsUsed,"flash","#FF6B6B")]})]}),(0,u.jsxs)(q.default,{style:Go.section,children:[(0,u.jsx)(ne.default,{style:Go.sectionTitle,children:"Performance"}),(0,u.jsxs)(q.default,{style:Go.performanceContainer,children:[(0,u.jsxs)(q.default,{style:Go.performanceItem,children:[(0,u.jsx)(ne.default,{style:Go.performanceLabel,children:"Average Score"}),(0,u.jsx)(ne.default,{style:Go.performanceValue,children:(0===n.gamesPlayed?0:Math.round(n.totalCoins/n.gamesPlayed)).toLocaleString()})]}),(0,u.jsxs)(q.default,{style:Go.performanceItem,children:[(0,u.jsx)(ne.default,{style:Go.performanceLabel,children:"Coin Efficiency"}),(0,u.jsxs)(ne.default,{style:Go.performanceValue,children:[0===n.coinsCollected?0:Math.round(n.coinsCollected/n.totalCoins*100),"%"]})]}),(0,u.jsxs)(q.default,{style:Go.performanceItem,children:[(0,u.jsx)(ne.default,{style:Go.performanceLabel,children:"Total Play Time"}),(0,u.jsx)(ne.default,{style:Go.performanceValue,children:function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),o=e%60;return t>0?`${t}h ${n}m`:n>0?`${n}m ${o}s`:`${o}s`}(n.totalPlayTime)})]}),(0,u.jsxs)(q.default,{style:Go.performanceItem,children:[(0,u.jsx)(ne.default,{style:Go.performanceLabel,children:"Current Level"}),(0,u.jsx)(ne.default,{style:Go.performanceValue,children:n.level})]})]})]}),(0,u.jsxs)(q.default,{style:Go.section,children:[(0,u.jsx)(ne.default,{style:Go.sectionTitle,children:"Upgrades"}),(0,u.jsxs)(q.default,{style:Go.upgradesContainer,children:[(0,u.jsxs)(q.default,{style:Go.upgradeItem,children:[(0,u.jsx)(cn.default,{name:"resize",size:20,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:Go.upgradeLabel,children:"Pot Size"}),(0,u.jsxs)(ne.default,{style:Go.upgradeValue,children:["Level ",Math.floor(5*n.potSize)]})]}),(0,u.jsxs)(q.default,{style:Go.upgradeItem,children:[(0,u.jsx)(cn.default,{name:"speedometer",size:20,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:Go.upgradeLabel,children:"Movement Speed"}),(0,u.jsxs)(ne.default,{style:Go.upgradeValue,children:["Level ",Math.floor(3*n.potSpeed)]})]}),(0,u.jsxs)(q.default,{style:Go.upgradeItem,children:[(0,u.jsx)(cn.default,{name:"magnet",size:20,color:"#FFD700"}),(0,u.jsx)(ne.default,{style:Go.upgradeLabel,children:"Magnet Power"}),(0,u.jsxs)(ne.default,{style:Go.upgradeValue,children:["Level ",Math.floor(n.potLevel)]})]})]})]}),(0,u.jsxs)(q.default,{style:Go.section,children:[(0,u.jsx)(ne.default,{style:Go.sectionTitle,children:"Achievements"}),r("First Steps","Play your first game",n.gamesPlayed>0,"footsteps"),r("Coin Collector","Collect 1000 coins",n.totalCoins>=1e3,"coin"),r("High Roller","Score 10,000 points",n.highScore>=1e4,"trophy"),r("Power Player","Use 50 power-ups",n.powerUpsUsed>=50,"flash"),r("Dedicated Player","Play 100 games",n.gamesPlayed>=100,"game-controller"),r("Millionaire","Collect 1,000,000 coins",n.totalCoins>=1e6,"diamond")]}),(0,u.jsxs)(q.default,{style:Go.section,children:[(0,u.jsx)(ne.default,{style:Go.sectionTitle,children:"Recent Activity"}),(0,u.jsxs)(q.default,{style:Go.activityContainer,children:[(0,u.jsxs)(q.default,{style:Go.activityItem,children:[(0,u.jsx)(cn.default,{name:"time",size:16,color:"#FFD700"}),(0,u.jsxs)(ne.default,{style:Go.activityText,children:["Last game: ",n.gamesPlayed>0?"Today":"Never played"]})]}),(0,u.jsxs)(q.default,{style:Go.activityItem,children:[(0,u.jsx)(cn.default,{name:"trending-up",size:16,color:"#4CAF50"}),(0,u.jsxs)(ne.default,{style:Go.activityText,children:["Best streak: ",Math.floor(n.highScore/1e3),"k points"]})]}),(0,u.jsxs)(q.default,{style:Go.activityItem,children:[(0,u.jsx)(cn.default,{name:"star",size:16,color:"#FFD700"}),(0,u.jsxs)(ne.default,{style:Go.activityText,children:["Achievements: ",n.achievements.length,"/6 unlocked"]})]})]})]})]})]})};var qo=new((0,J.default)(function e(){(0,Q.default)(this,e),this.audioContext=null,this.masterVolume=.7,this.sounds=new Map,"undefined"!==typeof window&&window.AudioContext&&(this.audioContext=new window.AudioContext,this.generateAllSounds())},[{key:"generateAllSounds",value:function(){this.sounds.set("coin",this.generateCoinSound()),this.sounds.set("gem",this.generateGemSound()),this.sounds.set("diamond",this.generateDiamondSound()),this.sounds.set("explosion",this.generateExplosionSound()),this.sounds.set("powerup",this.generatePowerUpSound()),this.sounds.set("levelup",this.generateLevelUpSound()),this.sounds.set("combo",this.generateComboSound()),this.sounds.set("gameover",this.generateGameOverSound()),this.sounds.set("tap",this.generateTapSound()),this.sounds.set("pause",this.generatePauseSound()),this.sounds.set("swoosh",this.generateSwooshSound()),this.sounds.set("success",this.generateSuccessSound())}},{key:"generateCoinSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.15*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e;n[o]=(.3*Math.sin(2*Math.PI*1046.5*r)+.2*Math.sin(2*Math.PI*1568*r))*Math.exp(10*-r)}return t}},{key:"generateGemSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.3*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e;n[o]=(.2*Math.sin(2*Math.PI*2093*r)+.15*Math.sin(2*Math.PI*2637*r)+.1*Math.sin(2*Math.PI*3136*r))*Math.exp(5*-r)}return t}},{key:"generateDiamondSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.5*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e,i=1046.5*(1+2*r);n[o]=(.3*Math.sin(2*Math.PI*i*r)+.2*Math.sin(2*Math.PI*i*1.5*r))*Math.exp(3*-r)}return t}},{key:"generateExplosionSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.4*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e;n[o]=(2*Math.random()-1)*Math.exp(8*-r)*(.5*Math.sin(2*Math.PI*50*r)+.5)}return t}},{key:"generatePowerUpSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.6*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e,i=400*Math.exp(3*r);n[o]=.3*Math.sin(2*Math.PI*i*r)*Math.exp(2*-r)}return t}},{key:"generateLevelUpSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.8*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e,i=Math.floor(8*r)%3;n[o]=.3*Math.sin(2*Math.PI*[523.25,659.25,783.99][i]*r)*Math.exp(1.5*-r)}return t}},{key:"generateComboSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.3*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e,i=800+800*r;n[o]=.25*Math.sin(2*Math.PI*i*r)*Math.exp(4*-r)}return t}},{key:"generateGameOverSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,1*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e,i=440*Math.exp(.5*-r);n[o]=.3*Math.sin(2*Math.PI*i*r)*Math.exp(.8*-r)}return t}},{key:"generateTapSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.05*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e;n[o]=.1*Math.sin(2*Math.PI*1e3*r)*Math.exp(100*-r)}return t}},{key:"generatePauseSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.2*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e,i=r<.1?800:600;n[o]=.2*Math.sin(2*Math.PI*i*r)*Math.exp(5*-r)}return t}},{key:"generateSwooshSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.2*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e,i=2*Math.random()-1,a=Math.sin(2*Math.PI*(200+1e3*r)*r);n[o]=i*a*.1*Math.exp(10*-r)}return t}},{key:"generateSuccessSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.4*e,e),n=t.getChannelData(0),o=0;o<t.length;o++){var r=o/e,i=r<.2?880:1318.5;n[o]=.3*Math.sin(2*Math.PI*i*r)*Math.exp(4*-r)}return t}},{key:"playSound",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.audioContext&&this.sounds.has(e)){var n=this.sounds.get(e),o=this.audioContext.createBufferSource(),r=this.audioContext.createGain();o.buffer=n,r.gain.value=t*this.masterVolume,o.connect(r),r.connect(this.audioContext.destination),o.start(0)}}},{key:"createBackgroundMusic",value:function(){if(!this.audioContext)return null;for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(2,8*e,e),n=[261.63,293.66,329.63,349.23,392,349.23,329.63,293.66],o=[130.81,146.83,164.81,174.61],r=0;r<2;r++)for(var i=t.getChannelData(r),a=0;a<t.length;a++){var s=a/e,l=Math.floor(2*s),c=n[l%n.length],u=.1*Math.sin(2*Math.PI*c*s),d=o[Math.floor(l/2)%o.length],f=.15*Math.sin(2*Math.PI*d*s),p=l%4===0?Math.sin(2*Math.PI*60*s)*Math.exp(10*-s)*.3:0,h=l%2===1?(Math.random()-.5)*Math.exp(-s%.5*20)*.05:0;i[a]=u+f+p+h}var g=this.audioContext.createBufferSource(),m=this.audioContext.createGain();return g.buffer=t,g.loop=!0,m.gain.value=.3,g.connect(m),m.connect(this.audioContext.destination),g}},{key:"setMasterVolume",value:function(e){this.masterVolume=Math.max(0,Math.min(1,e))}}])),$o=(0,J.default)(function e(){(0,Q.default)(this,e),this.sounds=new Map,this.backgroundMusic=null,this.backgroundMusicWeb=null,this.isMuted=!1,this.soundVolume=.7,this.musicVolume=.3,this.useProceduralSounds=!0,this.soundFiles={},this.initialize()},[{key:"initialize",value:function(){var e=(0,r.default)(function*(){try{yield tt.Audio.setAudioModeAsync({allowsRecordingIOS:!1,playsInSilentModeIOS:!0,staysActiveInBackground:!0,shouldDuckAndroid:!0}),yield this.preloadSound("coinCollect"),yield this.preloadSound("bombHit"),yield this.preloadSound("levelUp")}catch(e){console.log("Error initializing audio:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"preloadSound",value:function(){var e=(0,r.default)(function*(e){try{if(!this.soundFiles[e]){var t=(yield tt.Audio.Sound.createAsync({uri:"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAAB9AAACABAAZGF0YQAAAAA="},{shouldPlay:!1})).sound;return void this.sounds.set(e,{sound:t,isLoaded:!0})}var n=(yield tt.Audio.Sound.createAsync(this.soundFiles[e],{shouldPlay:!1,volume:this.soundVolume})).sound;this.sounds.set(e,{sound:n,isLoaded:!0})}catch(o){console.log(`Error loading sound ${e}:`,o),this.sounds.set(e,{sound:null,isLoaded:!1})}});return function(t){return e.apply(this,arguments)}}()},{key:"playSound",value:function(){var e=(0,r.default)(function*(e,t){if(!this.isMuted)try{var n;if(null!=t&&t.haptic&&this.playHaptic(e),this.useProceduralSounds||"web"===Y.default.OS){var o,r={coinCollect:"coin",gemCollect:"gem",diamondCollect:"diamond",bombHit:"explosion",powerupCollect:"powerup",levelUp:"levelup",comboIncrease:"combo",gameOver:"gameover",buttonTap:"tap",pause:"pause"}[e]||e;return void qo.playSound(r,null!=(o=null==t?void 0:t.volume)?o:this.soundVolume)}var i,a=this.sounds.get(e);a&&a.isLoaded||(yield this.preloadSound(e),a=this.sounds.get(e)),null!=(n=a)&&n.sound&&(yield a.sound.setPositionAsync(0),yield a.sound.setVolumeAsync(null!=(i=null==t?void 0:t.volume)?i:this.soundVolume),yield a.sound.playAsync())}catch(s){console.log(`Error playing sound ${e}:`,s)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"playHaptic",value:function(e){switch(e){case"coinCollect":case"gemCollect":Xe.impactAsync(Xe.ImpactFeedbackStyle.Light);break;case"diamondCollect":case"powerupCollect":Xe.impactAsync(Xe.ImpactFeedbackStyle.Medium);break;case"bombHit":Xe.impactAsync(Xe.ImpactFeedbackStyle.Heavy);break;case"levelUp":Xe.notificationAsync(Xe.NotificationFeedbackType.Success);break;case"gameOver":Xe.notificationAsync(Xe.NotificationFeedbackType.Error);break;default:Xe.selectionAsync()}}},{key:"startBackgroundMusic",value:function(){var e=(0,r.default)(function*(){if(!this.isMuted)if(this.useProceduralSounds||"web"===Y.default.OS){if(this.backgroundMusicWeb)return;try{this.backgroundMusicWeb=qo.createBackgroundMusic(),this.backgroundMusicWeb&&this.backgroundMusicWeb.start(0)}catch(t){console.log("Error starting procedural background music:",t)}}else if(!this.backgroundMusic)try{var e=(yield tt.Audio.Sound.createAsync(this.soundFiles.bgMusic||{uri:""},{shouldPlay:!0,isLooping:!0,volume:this.musicVolume})).sound;this.backgroundMusic=e}catch(t){console.log("Error starting background music:",t)}});return function(){return e.apply(this,arguments)}}()},{key:"stopBackgroundMusic",value:function(){var e=(0,r.default)(function*(){if(this.backgroundMusic)try{yield this.backgroundMusic.stopAsync(),yield this.backgroundMusic.unloadAsync(),this.backgroundMusic=null}catch(e){console.log("Error stopping background music:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"pauseBackgroundMusic",value:function(){var e=(0,r.default)(function*(){if(this.backgroundMusic)try{yield this.backgroundMusic.pauseAsync()}catch(e){console.log("Error pausing background music:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"resumeBackgroundMusic",value:function(){var e=(0,r.default)(function*(){if(this.backgroundMusic&&!this.isMuted)try{yield this.backgroundMusic.playAsync()}catch(e){console.log("Error resuming background music:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"setMuted",value:function(e){this.isMuted=e,e?this.stopBackgroundMusic():this.startBackgroundMusic()}},{key:"setSoundVolume",value:function(e){this.soundVolume=Math.max(0,Math.min(1,e))}},{key:"setMusicVolume",value:function(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.backgroundMusic&&this.backgroundMusic.setVolumeAsync(this.musicVolume)}},{key:"cleanup",value:function(){var e=(0,r.default)(function*(){for(var e of(yield this.stopBackgroundMusic(),this.sounds)){var t=(0,i.default)(e,2),n=(t[0],t[1]);if(n.sound)try{yield n.sound.unloadAsync()}catch(o){console.log("Error unloading sound:",o)}}this.sounds.clear()});return function(){return e.apply(this,arguments)}}()}]),Ko=new $o;function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Jo="pot_of_gold_session",Xo="pot_of_gold_user_data",Zo="pot_of_gold_onboarding_complete",er="pot_of_gold_legal_accepted",tr="pot_of_gold_user_location";const nr=new((0,J.default)(function e(){(0,Q.default)(this,e),this.SESSION_TIMEOUT=864e5},[{key:"saveSession",value:function(){var e=(0,r.default)(function*(e){try{var t=Qo(Qo(Qo({},yield this.getSession()),e),{},{lastActive:Date.now()});yield c.default.setItem(Jo,JSON.stringify(t)),void 0!==e.hasCompletedOnboarding&&(yield c.default.setItem(Zo,e.hasCompletedOnboarding?"true":"false")),void 0!==e.hasAcceptedLegal&&(yield c.default.setItem(er,JSON.stringify({accepted:e.hasAcceptedLegal,version:e.legalVersion||"2.0",timestamp:Date.now()})))}catch(n){console.error("Error saving session:",n)}});return function(t){return e.apply(this,arguments)}}()},{key:"getSession",value:function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem(Jo);if(!e)return null;var t=JSON.parse(e);return Date.now()-t.lastActive>this.SESSION_TIMEOUT?Qo(Qo({},t),{},{lastActive:Date.now()}):t}catch(n){return console.error("Error getting session:",n),null}});return function(){return e.apply(this,arguments)}}()},{key:"saveLocation",value:function(){var e=(0,r.default)(function*(e){try{yield c.default.setItem(tr,JSON.stringify(Qo(Qo({},e),{},{timestamp:Date.now()})))}catch(t){console.error("Error saving location:",t)}});return function(t){return e.apply(this,arguments)}}()},{key:"getLocation",value:function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem(tr);return e?JSON.parse(e):null}catch(t){return console.error("Error getting location:",t),null}});return function(){return e.apply(this,arguments)}}()},{key:"hasCompletedOnboarding",value:function(){var e=(0,r.default)(function*(){try{if("true"===(yield c.default.getItem(Zo)))return!0;var e=yield this.getSession();return(null==e?void 0:e.hasCompletedOnboarding)||!1}catch(t){return console.error("Error checking onboarding status:",t),!1}});return function(){return e.apply(this,arguments)}}()},{key:"hasAcceptedLegal",value:function(){var e=(0,r.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2.0";try{var t=yield c.default.getItem(er);if(!t)return!1;var n=JSON.parse(t);return n.accepted&&n.version===e}catch(o){return console.error("Error checking legal status:",o),!1}});return function(){return e.apply(this,arguments)}}()},{key:"completeOnboarding",value:function(){var e=(0,r.default)(function*(){try{yield c.default.setItem(Zo,"true");var e=yield this.getSession();e&&(yield this.saveSession(Qo(Qo({},e),{},{hasCompletedOnboarding:!0})))}catch(t){console.error("Error marking onboarding complete:",t)}});return function(){return e.apply(this,arguments)}}()},{key:"acceptLegal",value:function(){var e=(0,r.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2.0";try{yield c.default.setItem(er,JSON.stringify({accepted:!0,version:e,timestamp:Date.now()}));var t=yield this.getSession();t&&(yield this.saveSession(Qo(Qo({},t),{},{hasAcceptedLegal:!0,legalVersion:e})))}catch(n){console.error("Error accepting legal:",n)}});return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){var e=(0,r.default)(function*(){try{var e=yield this.hasCompletedOnboarding(),t=(yield this.hasAcceptedLegal(),yield this.getLocation());yield c.default.removeItem(Jo),e&&(yield c.default.setItem(Zo,"true")),t&&(yield this.saveLocation(t))}catch(n){console.error("Error clearing session:",n)}});return function(){return e.apply(this,arguments)}}()},{key:"updateLastActive",value:function(){var e=(0,r.default)(function*(){try{var e=yield this.getSession();e&&(yield this.saveSession(Qo(Qo({},e),{},{lastActive:Date.now()})))}catch(t){console.error("Error updating last active:",t)}});return function(){return e.apply(this,arguments)}}()},{key:"saveUserData",value:function(){var e=(0,r.default)(function*(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{yield this.saveSession({userId:e,email:t,displayName:n,isGuest:o,lastActive:Date.now()}),yield c.default.setItem(Xo,JSON.stringify({userId:e,email:t,displayName:n,isGuest:o,timestamp:Date.now()}))}catch(r){console.error("Error saving user data:",r)}});return function(t,n,o){return e.apply(this,arguments)}}()},{key:"getSavedUserData",value:function(){var e=(0,r.default)(function*(){try{var e=yield c.default.getItem(Xo);return e?JSON.parse(e):null}catch(t){return console.error("Error getting saved user data:",t),null}});return function(){return e.apply(this,arguments)}}()}]));var or=re.default.get("window"),rr=or.width;or.height;function ir(e){var t=e.route,n=(0,Ln.useNavigation)(),o=(0,a.useState)(0),s=(0,i.default)(o,2),l=s[0],d=s[1],f=(0,a.useRef)(new oe.default.Value(0)).current,p=(0,a.useRef)(new oe.default.Value(0)).current,h=(0,a.useRef)(new oe.default.Value(.9)).current,g=(0,a.useRef)(new oe.default.Value(0)).current,m=(0,a.useRef)(new oe.default.Value(1)).current,y=[{id:0,title:"Welcome to Pot of Gold!",description:"Collect falling treasures and become the richest miner!",icon:"trophy"},{id:1,title:"Move Your Cart",description:"Tap anywhere on the screen to move your cart instantly",icon:"finger-print",action:"tap"},{id:2,title:"Collect Treasures",description:"Catch coins, gems, and diamonds to earn points",icon:"diamond"},{id:3,title:"Avoid Bombs",description:"Watch out for bombs! They damage your cart",icon:"warning"},{id:4,title:"Build Combos",description:"Collect items consecutively for huge multipliers",icon:"flame"},{id:5,title:"Use Power-Ups",description:"Grab special power-ups for temporary advantages",icon:"flash"},{id:6,title:"Clear Blockages",description:"Missed items create blockages - clear them quickly!",icon:"cube"},{id:7,title:"Let's Play!",description:"Start collecting treasures and climb the leaderboard!",icon:"rocket"}];(0,a.useEffect)(function(){oe.default.parallel([oe.default.timing(f,{toValue:1,duration:500,useNativeDriver:!0}),oe.default.spring(h,{toValue:1,friction:8,tension:40,useNativeDriver:!0})]).start(),oe.default.loop(oe.default.sequence([oe.default.timing(m,{toValue:1.1,duration:1e3,useNativeDriver:!0}),oe.default.timing(m,{toValue:1,duration:1e3,useNativeDriver:!0})])).start(),oe.default.loop(oe.default.timing(g,{toValue:1,duration:3e3,useNativeDriver:!0})).start()},[]);var v=function(){var e=(0,r.default)(function*(){console.log("Skip button pressed");try{Ko.playSound("buttonTap")}catch(e){console.log("Sound error:",e)}try{"web"!==Y.default.OS&&Un.impactAsync(Un.ImpactFeedbackStyle.Medium)}catch(e){console.log("Haptics error:",e)}yield b()});return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.default)(function*(){var e;console.log("Completing onboarding...");try{yield nr.completeOnboarding(),yield ee(),yield c.default.setItem("hasSeenOnboarding","true"),yield c.default.setItem("onboarding_completed","true"),yield c.default.setItem("onboarding_date",(new Date).toISOString()),console.log("Onboarding data saved with session persistence and device tracking")}catch(o){console.error("Error saving onboarding data:",o)}try{Ko.playSound("levelUp")}catch(r){console.log("Sound error in complete:",r)}if(null!=t&&null!=(e=t.params)&&e.onComplete){console.log("Calling onComplete callback from route params");try{t.params.onComplete()}catch(o){console.error("Error calling onComplete:",o),n.replace("Home")}}else console.log("No onComplete callback, using navigation.replace to Home"),n.replace("Home")});return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(ie.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:ar.container,children:[(0,u.jsx)(q.default,{style:ar.progressContainer,children:y.map(function(e,t){return(0,u.jsx)(q.default,{style:[ar.progressDot,t===l&&ar.progressDotActive,t<l&&ar.progressDotCompleted]},t)})}),l<y.length-1&&(0,u.jsx)(pe.default,{style:ar.skipButton,onPress:v,children:(0,u.jsx)(ne.default,{style:ar.skipText,children:"Skip"})}),(0,u.jsx)(ge.default,{contentContainerStyle:ar.scrollContent,showsVerticalScrollIndicator:!1,children:function(e){var t=g.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return(0,u.jsxs)(oe.default.View,{style:[ar.stepContainer,{transform:[{translateX:p},{scale:h}],opacity:f}],children:[(0,u.jsx)(oe.default.View,{style:[ar.iconContainer,0===e.id&&{transform:[{rotate:t},{scale:m}]}],children:(0,u.jsx)(cn.default,{name:e.icon,size:80,color:"#FFD700"})}),(0,u.jsx)(ne.default,{style:ar.title,children:e.title}),(0,u.jsx)(ne.default,{style:ar.description,children:e.description}),1===e.id&&(0,u.jsxs)(q.default,{style:ar.demoContainer,children:[(0,u.jsx)(oe.default.View,{style:[ar.demoCart,{transform:[{scale:m}]}]}),(0,u.jsx)(ne.default,{style:ar.demoText,children:"\ud83d\udc46 Tap to move here"})]}),2===e.id&&(0,u.jsxs)(q.default,{style:ar.itemsDemo,children:[(0,u.jsxs)(q.default,{style:ar.demoItem,children:[(0,u.jsx)(ne.default,{style:ar.itemEmoji,children:"\ud83e\ude99"}),(0,u.jsx)(ne.default,{style:ar.itemLabel,children:"Coin"}),(0,u.jsx)(ne.default,{style:ar.itemValue,children:"+10"})]}),(0,u.jsxs)(q.default,{style:ar.demoItem,children:[(0,u.jsx)(ne.default,{style:ar.itemEmoji,children:"\ud83d\udc8e"}),(0,u.jsx)(ne.default,{style:ar.itemLabel,children:"Gem"}),(0,u.jsx)(ne.default,{style:ar.itemValue,children:"+25"})]}),(0,u.jsxs)(q.default,{style:ar.demoItem,children:[(0,u.jsx)(ne.default,{style:ar.itemEmoji,children:"\ud83d\udca0"}),(0,u.jsx)(ne.default,{style:ar.itemLabel,children:"Diamond"}),(0,u.jsx)(ne.default,{style:ar.itemValue,children:"+50"})]})]}),5===e.id&&(0,u.jsxs)(q.default,{style:ar.powerUpsDemo,children:[(0,u.jsxs)(q.default,{style:ar.powerUpItem,children:[(0,u.jsx)(ne.default,{style:ar.powerUpEmoji,children:"\ud83e\uddf2"}),(0,u.jsx)(ne.default,{style:ar.powerUpLabel,children:"Magnet"})]}),(0,u.jsxs)(q.default,{style:ar.powerUpItem,children:[(0,u.jsx)(ne.default,{style:ar.powerUpEmoji,children:"\ud83d\udee1\ufe0f"}),(0,u.jsx)(ne.default,{style:ar.powerUpLabel,children:"Shield"})]}),(0,u.jsxs)(q.default,{style:ar.powerUpItem,children:[(0,u.jsx)(ne.default,{style:ar.powerUpEmoji,children:"\u26a1"}),(0,u.jsx)(ne.default,{style:ar.powerUpLabel,children:"2x Points"})]}),(0,u.jsxs)(q.default,{style:ar.powerUpItem,children:[(0,u.jsx)(ne.default,{style:ar.powerUpEmoji,children:"\u23f0"}),(0,u.jsx)(ne.default,{style:ar.powerUpLabel,children:"Slow Time"})]})]})]})}(y[l])}),(0,u.jsxs)(q.default,{style:ar.navigationContainer,children:[l>0&&(0,u.jsx)(pe.default,{style:[ar.navButton,ar.previousButton],onPress:function(){if(console.log("Previous button pressed, current step:",l),l>0){try{Ko.playSound("buttonTap")}catch(e){console.log("Sound error:",e)}try{"web"!==Y.default.OS&&Un.impactAsync(Un.ImpactFeedbackStyle.Light)}catch(e){console.log("Haptics error:",e)}oe.default.timing(p,{toValue:rr,duration:300,useNativeDriver:!0}).start(function(){d(l-1),p.setValue(-rr),oe.default.spring(p,{toValue:0,friction:8,tension:40,useNativeDriver:!0}).start()})}},children:(0,u.jsx)(cn.default,{name:"arrow-back",size:24,color:"#FFFFFF"})}),(0,u.jsx)(pe.default,{style:[ar.navButton,ar.nextButton,l===y.length-1&&ar.startButton],onPress:function(){console.log("Next button pressed, current step:",l);try{Ko.playSound("buttonTap")}catch(e){console.log("Sound error:",e)}try{"web"!==Y.default.OS&&Un.impactAsync(Un.ImpactFeedbackStyle.Light)}catch(e){console.log("Haptics error:",e)}l<y.length-1?oe.default.timing(p,{toValue:-rr,duration:300,useNativeDriver:!0}).start(function(){d(l+1),p.setValue(rr),oe.default.spring(p,{toValue:0,friction:8,tension:40,useNativeDriver:!0}).start()}):b()},children:l===y.length-1?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ne.default,{style:ar.startButtonText,children:"Start Playing"}),(0,u.jsx)(cn.default,{name:"play",size:24,color:"#FFFFFF"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ne.default,{style:ar.nextButtonText,children:"Next"}),(0,u.jsx)(cn.default,{name:"arrow-forward",size:24,color:"#000000"})]})})]})]})}var ar=K.default.create({container:{flex:1},scrollContent:{flexGrow:1,justifyContent:"center",paddingHorizontal:20},progressContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:"ios"===Y.default.OS?60:40,paddingBottom:20},progressDot:{width:8,height:8,borderRadius:4,backgroundColor:"rgba(255, 255, 255, 0.3)",marginHorizontal:4},progressDotActive:{width:24,backgroundColor:"#FFD700"},progressDotCompleted:{backgroundColor:"#4CAF50"},skipButton:{position:"absolute",top:"ios"===Y.default.OS?60:40,right:20,zIndex:1},skipText:{color:"rgba(255, 255, 255, 0.7)",fontSize:16},stepContainer:{alignItems:"center",paddingVertical:40},iconContainer:{width:120,height:120,borderRadius:60,backgroundColor:"rgba(255, 215, 0, 0.1)",justifyContent:"center",alignItems:"center",marginBottom:30,borderWidth:2,borderColor:"rgba(255, 215, 0, 0.3)"},title:{fontSize:28,fontWeight:"bold",color:"#FFFFFF",textAlign:"center",marginBottom:15},description:{fontSize:18,color:"rgba(255, 255, 255, 0.8)",textAlign:"center",lineHeight:26,paddingHorizontal:20},demoContainer:{marginTop:40,alignItems:"center"},demoCart:{width:60,height:40,backgroundColor:"#8B4513",borderRadius:5,marginBottom:10,borderWidth:2,borderColor:"#D2691E"},demoText:{color:"rgba(255, 255, 255, 0.6)",fontSize:14},itemsDemo:{flexDirection:"row",justifyContent:"space-around",marginTop:30,width:"100%"},demoItem:{alignItems:"center"},itemEmoji:{fontSize:40,marginBottom:5},itemLabel:{color:"rgba(255, 255, 255, 0.7)",fontSize:12,marginBottom:2},itemValue:{color:"#4CAF50",fontSize:14,fontWeight:"bold"},powerUpsDemo:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginTop:30},powerUpItem:{alignItems:"center",margin:10},powerUpEmoji:{fontSize:36,marginBottom:5},powerUpLabel:{color:"rgba(255, 255, 255, 0.7)",fontSize:11},navigationContainer:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:20,paddingBottom:"ios"===Y.default.OS?40:20,paddingTop:20},navButton:{flexDirection:"row",alignItems:"center",paddingVertical:12,paddingHorizontal:20,borderRadius:25,minWidth:100,justifyContent:"center"},previousButton:{backgroundColor:"rgba(255, 255, 255, 0.2)"},nextButton:{backgroundColor:"#FFD700"},startButton:{backgroundColor:"#4CAF50",paddingHorizontal:30},nextButtonText:{color:"#000000",fontSize:16,fontWeight:"bold",marginRight:5},startButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"bold",marginRight:5}}),sr=n(9831);oe.default.createAnimatedComponent(sr.default);function lr(e){var t=e.size,n=void 0===t?40:t,o=e.isAnimated,r=void 0===o||o,i=(0,a.useRef)(new oe.default.Value(0)).current,s=(0,a.useRef)(new oe.default.Value(0)).current;(0,a.useEffect)(function(){r&&(oe.default.loop(oe.default.timing(i,{toValue:1,duration:3e3,useNativeDriver:!0})).start(),oe.default.loop(oe.default.sequence([oe.default.timing(s,{toValue:1,duration:2e3,useNativeDriver:!0}),oe.default.timing(s,{toValue:0,duration:1e3,useNativeDriver:!0})])).start())},[r]);var l=i.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return(0,u.jsx)(oe.default.View,{style:{transform:[{rotateY:l}]},children:(0,u.jsxs)(sr.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsxs)(sr.Defs,{children:[(0,u.jsxs)(sr.RadialGradient,{id:"goldCoin",cx:"50%",cy:"40%",children:[(0,u.jsx)(sr.Stop,{offset:"0%",stopColor:"#FFEF94"}),(0,u.jsx)(sr.Stop,{offset:"50%",stopColor:"#FFD700"}),(0,u.jsx)(sr.Stop,{offset:"100%",stopColor:"#B8860B"})]}),(0,u.jsxs)(sr.LinearGradient,{id:"goldShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,u.jsx)(sr.Stop,{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.6"}),(0,u.jsx)(sr.Stop,{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0"})]})]}),(0,u.jsx)(sr.Circle,{cx:"20",cy:"20",r:"18",fill:"url(#goldCoin)"}),(0,u.jsx)(sr.Circle,{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#B8860B",strokeWidth:"1"}),(0,u.jsx)(sr.Circle,{cx:"20",cy:"20",r:"15",fill:"none",stroke:"#DAA520",strokeWidth:"0.5"}),(0,u.jsx)(sr.Path,{d:"M 20 10 L 20 30 M 15 15 Q 15 13, 20 13 Q 25 13, 25 17 Q 25 20, 20 20 Q 15 20, 15 23 Q 15 27, 20 27 Q 25 27, 25 25",fill:"none",stroke:"#8B6914",strokeWidth:"2",strokeLinecap:"round"}),(0,u.jsx)(oe.default.Ellipse,{cx:"15",cy:"15",rx:"8",ry:"4",fill:"url(#goldShine)",opacity:s})]})})}function cr(e){var t=e.size,n=void 0===t?40:t,o=e.isAnimated,r=void 0===o||o,i=(0,a.useRef)(new oe.default.Value(0)).current;return(0,a.useEffect)(function(){r&&oe.default.loop(oe.default.sequence([oe.default.timing(i,{toValue:1,duration:1500,useNativeDriver:!0}),oe.default.timing(i,{toValue:0,duration:1500,useNativeDriver:!0})])).start()},[r]),(0,u.jsx)(q.default,{children:(0,u.jsxs)(sr.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(sr.Defs,{children:(0,u.jsxs)(sr.LinearGradient,{id:"diamondGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,u.jsx)(sr.Stop,{offset:"0%",stopColor:"#E6F3FF"}),(0,u.jsx)(sr.Stop,{offset:"50%",stopColor:"#87CEEB"}),(0,u.jsx)(sr.Stop,{offset:"100%",stopColor:"#4169E1"})]})}),(0,u.jsx)(sr.Path,{d:"M 20 5 L 30 15 L 20 35 L 10 15 Z",fill:"url(#diamondGrad)",stroke:"#1E90FF",strokeWidth:"1"}),(0,u.jsx)(sr.Path,{d:"M 20 5 L 15 15 L 20 35",fill:"none",stroke:"#B0E0E6",strokeWidth:"0.5"}),(0,u.jsx)(sr.Path,{d:"M 20 5 L 25 15 L 20 35",fill:"none",stroke:"#B0E0E6",strokeWidth:"0.5"}),(0,u.jsx)(sr.Path,{d:"M 10 15 L 30 15",fill:"none",stroke:"#B0E0E6",strokeWidth:"0.5"}),(0,u.jsxs)(oe.default.G,{opacity:i,children:[(0,u.jsx)(sr.Circle,{cx:"18",cy:"12",r:"1.5",fill:"#FFFFFF"}),(0,u.jsx)(sr.Circle,{cx:"25",cy:"18",r:"1",fill:"#FFFFFF"}),(0,u.jsx)(sr.Circle,{cx:"15",cy:"20",r:"0.8",fill:"#FFFFFF"})]})]})})}function ur(e){var t=e.size,n=void 0===t?40:t,o=e.isAnimated,r=void 0===o||o,i=(0,a.useRef)(new oe.default.Value(0)).current;return(0,a.useEffect)(function(){r&&oe.default.loop(oe.default.sequence([oe.default.timing(i,{toValue:-3,duration:1e3,useNativeDriver:!0}),oe.default.timing(i,{toValue:3,duration:1e3,useNativeDriver:!0})])).start()},[r]),(0,u.jsx)(oe.default.View,{style:{transform:[{translateY:i}]},children:(0,u.jsxs)(sr.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(sr.Defs,{children:(0,u.jsxs)(sr.RadialGradient,{id:"nuggetGrad",cx:"40%",cy:"40%",children:[(0,u.jsx)(sr.Stop,{offset:"0%",stopColor:"#FFEF94"}),(0,u.jsx)(sr.Stop,{offset:"60%",stopColor:"#FFD700"}),(0,u.jsx)(sr.Stop,{offset:"100%",stopColor:"#B8860B"})]})}),(0,u.jsx)(sr.Path,{d:"M 15 12 Q 10 15, 12 20 Q 14 25, 20 27 Q 26 28, 30 25 Q 32 20, 28 15 Q 24 10, 18 11 Q 15 11, 15 12",fill:"url(#nuggetGrad)",stroke:"#B8860B",strokeWidth:"1"}),(0,u.jsx)(sr.Circle,{cx:"18",cy:"18",r:"2",fill:"#DAA520",opacity:"0.6"}),(0,u.jsx)(sr.Circle,{cx:"25",cy:"20",r:"1.5",fill:"#DAA520",opacity:"0.5"}),(0,u.jsx)(sr.Circle,{cx:"22",cy:"23",r:"1",fill:"#FFA500",opacity:"0.4"}),(0,u.jsx)(sr.Ellipse,{cx:"20",cy:"16",rx:"4",ry:"2",fill:"#FFFFFF",opacity:"0.4"})]})})}function dr(e){var t=e.size,n=void 0===t?40:t,o=e.isAnimated,r=void 0===o||o,i=(0,a.useRef)(new oe.default.Value(1)).current;return(0,a.useEffect)(function(){r&&oe.default.loop(oe.default.sequence([oe.default.timing(i,{toValue:1.1,duration:1e3,useNativeDriver:!0}),oe.default.timing(i,{toValue:1,duration:1e3,useNativeDriver:!0})])).start()},[r]),(0,u.jsx)(oe.default.View,{style:{transform:[{scale:i}]},children:(0,u.jsxs)(sr.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(sr.Defs,{children:(0,u.jsxs)(sr.LinearGradient,{id:"emeraldGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,u.jsx)(sr.Stop,{offset:"0%",stopColor:"#90EE90"}),(0,u.jsx)(sr.Stop,{offset:"50%",stopColor:"#50C878"}),(0,u.jsx)(sr.Stop,{offset:"100%",stopColor:"#228B22"})]})}),(0,u.jsx)(sr.Rect,{x:"10",y:"12",width:"20",height:"16",rx:"2",fill:"url(#emeraldGrad)"}),(0,u.jsx)(sr.Path,{d:"M 10 14 L 12 10 L 28 10 L 30 14 M 10 26 L 12 30 L 28 30 L 30 26",fill:"#50C878",stroke:"#228B22",strokeWidth:"0.5"}),(0,u.jsx)(sr.Path,{d:"M 15 12 L 15 28",stroke:"#90EE90",strokeWidth:"0.5",opacity:"0.6"}),(0,u.jsx)(sr.Path,{d:"M 20 12 L 20 28",stroke:"#90EE90",strokeWidth:"0.5",opacity:"0.6"}),(0,u.jsx)(sr.Path,{d:"M 25 12 L 25 28",stroke:"#90EE90",strokeWidth:"0.5",opacity:"0.6"}),(0,u.jsx)(sr.Ellipse,{cx:"20",cy:"15",rx:"6",ry:"3",fill:"#FFFFFF",opacity:"0.3"})]})})}function fr(e){var t=e.size,n=void 0===t?40:t,o=e.isAnimated,r=void 0===o||o,i=(0,a.useRef)(new oe.default.Value(0)).current,s=(0,a.useRef)(new oe.default.Value(0)).current;return(0,a.useEffect)(function(){r&&(oe.default.loop(oe.default.sequence([oe.default.timing(i,{toValue:1,duration:500,useNativeDriver:!0}),oe.default.timing(i,{toValue:0,duration:500,useNativeDriver:!0})])).start(),oe.default.loop(oe.default.sequence([oe.default.timing(s,{toValue:-2,duration:100,useNativeDriver:!0}),oe.default.timing(s,{toValue:2,duration:100,useNativeDriver:!0})])).start())},[r]),(0,u.jsx)(oe.default.View,{style:{transform:[{translateX:s}]},children:(0,u.jsxs)(sr.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(sr.Defs,{children:(0,u.jsxs)(sr.RadialGradient,{id:"bombGrad",cx:"40%",cy:"40%",children:[(0,u.jsx)(sr.Stop,{offset:"0%",stopColor:"#4A4A4A"}),(0,u.jsx)(sr.Stop,{offset:"100%",stopColor:"#1C1C1C"})]})}),(0,u.jsx)(sr.Circle,{cx:"20",cy:"22",r:"12",fill:"url(#bombGrad)"}),(0,u.jsx)(sr.Circle,{cx:"20",cy:"22",r:"12",fill:"none",stroke:"#000000",strokeWidth:"1"}),(0,u.jsx)(sr.Circle,{cx:"20",cy:"20",r:"3",fill:"#FFFFFF"}),(0,u.jsx)(sr.Rect,{x:"18",y:"23",width:"4",height:"4",fill:"#FFFFFF"}),(0,u.jsx)(sr.Circle,{cx:"17",cy:"20",r:"1",fill:"#000000"}),(0,u.jsx)(sr.Circle,{cx:"23",cy:"20",r:"1",fill:"#000000"}),(0,u.jsx)(sr.Path,{d:"M 25 15 Q 28 10, 30 8",fill:"none",stroke:"#8B4513",strokeWidth:"2",strokeLinecap:"round"}),(0,u.jsxs)(oe.default.G,{opacity:i,children:[(0,u.jsx)(sr.Circle,{cx:"30",cy:"8",r:"2",fill:"#FF4500"}),(0,u.jsx)(sr.Circle,{cx:"30",cy:"8",r:"3",fill:"#FFFF00",opacity:"0.5"})]})]})})}function pr(e){var t=e.size,n=void 0===t?40:t,o=e.isAnimated,r=void 0===o||o,i=(e.powerType,(0,a.useRef)(new oe.default.Value(1)).current),s=(0,a.useRef)(new oe.default.Value(0)).current;(0,a.useEffect)(function(){r&&oe.default.loop(oe.default.parallel([oe.default.sequence([oe.default.timing(i,{toValue:1.2,duration:800,useNativeDriver:!0}),oe.default.timing(i,{toValue:1,duration:800,useNativeDriver:!0})]),oe.default.timing(s,{toValue:1,duration:4e3,useNativeDriver:!0})])).start()},[r]);var l=s.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return(0,u.jsx)(oe.default.View,{style:{transform:[{scale:i},{rotate:l}]},children:(0,u.jsxs)(sr.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(sr.Defs,{children:(0,u.jsxs)(sr.RadialGradient,{id:"powerGrad",cx:"50%",cy:"50%",children:[(0,u.jsx)(sr.Stop,{offset:"0%",stopColor:"#FFD700"}),(0,u.jsx)(sr.Stop,{offset:"50%",stopColor:"#FFA500"}),(0,u.jsx)(sr.Stop,{offset:"100%",stopColor:"#FF6347"})]})}),(0,u.jsx)(sr.Polygon,{points:"20,5 24,16 35,16 26,24 30,35 20,27 10,35 14,24 5,16 16,16",fill:"url(#powerGrad)",stroke:"#FF4500",strokeWidth:"1"}),(0,u.jsx)(sr.Circle,{cx:"20",cy:"20",r:"5",fill:"#FFFFFF",opacity:"0.6"}),(0,u.jsx)(sr.Path,{d:"M 20 17 L 20 23 M 17 19 L 23 19",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round"})]})})}function hr(e){var t=e.size,n=void 0===t?40:t,o=e.isAnimated,r=void 0===o||o,i=(0,a.useRef)(new oe.default.Value(0)).current,s=(0,a.useRef)(new oe.default.Value(.5)).current;return(0,a.useEffect)(function(){r&&oe.default.loop(oe.default.parallel([oe.default.sequence([oe.default.timing(i,{toValue:-5,duration:1e3,useNativeDriver:!0}),oe.default.timing(i,{toValue:0,duration:1e3,useNativeDriver:!0})]),oe.default.sequence([oe.default.timing(s,{toValue:1,duration:1500,useNativeDriver:!0}),oe.default.timing(s,{toValue:.5,duration:1500,useNativeDriver:!0})])])).start()},[r]),(0,u.jsx)(oe.default.View,{style:{transform:[{translateY:i}]},children:(0,u.jsxs)(sr.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(sr.Defs,{children:(0,u.jsxs)(sr.LinearGradient,{id:"boxGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,u.jsx)(sr.Stop,{offset:"0%",stopColor:"#9B59B6"}),(0,u.jsx)(sr.Stop,{offset:"100%",stopColor:"#8E44AD"})]})}),(0,u.jsx)(sr.Rect,{x:"8",y:"15",width:"24",height:"20",fill:"url(#boxGrad)"}),(0,u.jsx)(sr.Rect,{x:"8",y:"15",width:"24",height:"20",fill:"none",stroke:"#6C3483",strokeWidth:"1"}),(0,u.jsx)(sr.Path,{d:"M 8 15 L 12 10 L 28 10 L 32 15",fill:"#8E44AD",stroke:"#6C3483",strokeWidth:"1"}),(0,u.jsx)(oe.default.Text,{x:"20",y:"28",fontSize:"14",fontWeight:"bold",fill:"#FFFFFF",textAnchor:"middle",opacity:s,children:"?"}),(0,u.jsxs)(oe.default.G,{opacity:s,children:[(0,u.jsx)(sr.Circle,{cx:"10",cy:"12",r:"1",fill:"#FFFF00"}),(0,u.jsx)(sr.Circle,{cx:"30",cy:"13",r:"1",fill:"#FFFF00"}),(0,u.jsx)(sr.Circle,{cx:"35",cy:"20",r:"0.8",fill:"#FFFFFF"}),(0,u.jsx)(sr.Circle,{cx:"5",cy:"25",r:"0.8",fill:"#FFFFFF"})]})]})})}function gr(e){var t=e.type,n=e.size,o=void 0===n?40:n,r=e.isAnimated,i=void 0===r||r;switch(t){case"coin":default:return(0,u.jsx)(lr,{size:o,isAnimated:i});case"diamond":return(0,u.jsx)(cr,{size:o,isAnimated:i});case"gem":return(0,u.jsx)(dr,{size:o,isAnimated:i});case"nugget":return(0,u.jsx)(ur,{size:o,isAnimated:i});case"bomb":return(0,u.jsx)(fr,{size:o,isAnimated:i});case"powerup":return(0,u.jsx)(pr,{size:o,isAnimated:i});case"mystery":return(0,u.jsx)(hr,{size:o,isAnimated:i})}}re.default.get("window").width;function mr(e){var t=e.navigation;return(0,u.jsxs)(ie.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:yr.container,children:[(0,u.jsxs)(q.default,{style:yr.header,children:[(0,u.jsx)(pe.default,{style:yr.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(cn.default,{name:"arrow-back",size:24,color:"#FFD700"})}),(0,u.jsx)(ne.default,{style:yr.title,children:"How to Play"})]}),(0,u.jsxs)(ge.default,{style:yr.content,showsVerticalScrollIndicator:!1,children:[(0,u.jsxs)(q.default,{style:yr.section,children:[(0,u.jsx)(ne.default,{style:yr.sectionTitle,children:"\ud83c\udfaf Game Objective"}),(0,u.jsx)(ne.default,{style:yr.description,children:"Control your mine cart to collect falling treasures while avoiding bombs! Build combos, collect power-ups, and survive as long as possible to achieve the highest score!"})]}),(0,u.jsxs)(q.default,{style:yr.section,children:[(0,u.jsx)(ne.default,{style:yr.sectionTitle,children:"\ud83c\udfae Controls"}),(0,u.jsxs)(q.default,{style:yr.controlItem,children:[(0,u.jsx)(cn.default,{name:"hand-left",size:30,color:"#FFD700"}),(0,u.jsxs)(ne.default,{style:yr.controlText,children:[(0,u.jsx)(ne.default,{style:yr.bold,children:"Tap"})," anywhere on the screen to move the cart"]})]}),(0,u.jsxs)(q.default,{style:yr.controlItem,children:[(0,u.jsx)(cn.default,{name:"move",size:30,color:"#FFD700"}),(0,u.jsxs)(ne.default,{style:yr.controlText,children:[(0,u.jsx)(ne.default,{style:yr.bold,children:"Swipe"})," left or right for smooth movement"]})]})]}),(0,u.jsxs)(q.default,{style:yr.section,children:[(0,u.jsx)(ne.default,{style:yr.sectionTitle,children:"\ud83d\udc8e Collectibles"}),(0,u.jsxs)(q.default,{style:yr.itemRow,children:[(0,u.jsx)(q.default,{style:yr.itemDisplay,children:(0,u.jsx)(gr,{type:"coin",size:40,isAnimated:!1})}),(0,u.jsxs)(q.default,{style:yr.itemInfo,children:[(0,u.jsx)(ne.default,{style:yr.itemName,children:"Gold Coin"}),(0,u.jsx)(ne.default,{style:yr.itemDesc,children:"+10 points, +1 coin"})]})]}),(0,u.jsxs)(q.default,{style:yr.itemRow,children:[(0,u.jsx)(q.default,{style:yr.itemDisplay,children:(0,u.jsx)(gr,{type:"gem",size:40,isAnimated:!1})}),(0,u.jsxs)(q.default,{style:yr.itemInfo,children:[(0,u.jsx)(ne.default,{style:yr.itemName,children:"Emerald"}),(0,u.jsx)(ne.default,{style:yr.itemDesc,children:"+50 points, +5 coins"})]})]}),(0,u.jsxs)(q.default,{style:yr.itemRow,children:[(0,u.jsx)(q.default,{style:yr.itemDisplay,children:(0,u.jsx)(gr,{type:"diamond",size:40,isAnimated:!1})}),(0,u.jsxs)(q.default,{style:yr.itemInfo,children:[(0,u.jsx)(ne.default,{style:yr.itemName,children:"Diamond"}),(0,u.jsx)(ne.default,{style:yr.itemDesc,children:"+100 points, +10 coins"})]})]}),(0,u.jsxs)(q.default,{style:yr.itemRow,children:[(0,u.jsx)(q.default,{style:yr.itemDisplay,children:(0,u.jsx)(gr,{type:"nugget",size:40,isAnimated:!1})}),(0,u.jsxs)(q.default,{style:yr.itemInfo,children:[(0,u.jsx)(ne.default,{style:yr.itemName,children:"Gold Nugget"}),(0,u.jsx)(ne.default,{style:yr.itemDesc,children:"+25 points, +3 coins"})]})]}),(0,u.jsxs)(q.default,{style:yr.itemRow,children:[(0,u.jsx)(q.default,{style:yr.itemDisplay,children:(0,u.jsx)(gr,{type:"mystery",size:40,isAnimated:!1})}),(0,u.jsxs)(q.default,{style:yr.itemInfo,children:[(0,u.jsx)(ne.default,{style:yr.itemName,children:"Mystery Box"}),(0,u.jsx)(ne.default,{style:yr.itemDesc,children:"Random reward or power-up"})]})]})]}),(0,u.jsxs)(q.default,{style:yr.section,children:[(0,u.jsx)(ne.default,{style:yr.sectionTitle,children:"\u26a0\ufe0f Dangers"}),(0,u.jsxs)(q.default,{style:yr.itemRow,children:[(0,u.jsx)(q.default,{style:yr.itemDisplay,children:(0,u.jsx)(gr,{type:"bomb",size:40,isAnimated:!1})}),(0,u.jsxs)(q.default,{style:yr.itemInfo,children:[(0,u.jsx)(ne.default,{style:yr.itemName,children:"Bomb"}),(0,u.jsx)(ne.default,{style:yr.itemDesc,children:"-1 life, resets combo"})]})]}),(0,u.jsxs)(q.default,{style:yr.warningBox,children:[(0,u.jsx)(cn.default,{name:"warning",size:24,color:"#FF6347"}),(0,u.jsx)(ne.default,{style:yr.warningText,children:"Missing items creates blockages on the track that limit your movement!"})]})]}),(0,u.jsxs)(q.default,{style:yr.section,children:[(0,u.jsx)(ne.default,{style:yr.sectionTitle,children:"\u26a1 Power-ups"}),(0,u.jsxs)(q.default,{style:yr.powerupItem,children:[(0,u.jsx)(cn.default,{name:"magnet",size:30,color:"#FFD700"}),(0,u.jsxs)(q.default,{style:yr.powerupInfo,children:[(0,u.jsx)(ne.default,{style:yr.powerupName,children:"Magnet"}),(0,u.jsx)(ne.default,{style:yr.powerupDesc,children:"Attracts nearby items for 10 seconds"})]})]}),(0,u.jsxs)(q.default,{style:yr.powerupItem,children:[(0,u.jsx)(cn.default,{name:"shield",size:30,color:"#00BFFF"}),(0,u.jsxs)(q.default,{style:yr.powerupInfo,children:[(0,u.jsx)(ne.default,{style:yr.powerupName,children:"Shield"}),(0,u.jsx)(ne.default,{style:yr.powerupDesc,children:"Protects from one bomb hit"})]})]}),(0,u.jsxs)(q.default,{style:yr.powerupItem,children:[(0,u.jsx)(cn.default,{name:"flash",size:30,color:"#FF4500"}),(0,u.jsxs)(q.default,{style:yr.powerupInfo,children:[(0,u.jsx)(ne.default,{style:yr.powerupName,children:"2x Multiplier"}),(0,u.jsx)(ne.default,{style:yr.powerupDesc,children:"Double points and coins for 15 seconds"})]})]})]}),(0,u.jsxs)(q.default,{style:yr.section,children:[(0,u.jsx)(ne.default,{style:yr.sectionTitle,children:"\ud83d\udca1 Pro Tips"}),(0,u.jsxs)(q.default,{style:yr.tipsList,children:[(0,u.jsx)(ne.default,{style:yr.tip,children:"\u2022 Build combos by collecting items consecutively"}),(0,u.jsx)(ne.default,{style:yr.tip,children:"\u2022 Clear blockages with power-ups or special abilities"}),(0,u.jsx)(ne.default,{style:yr.tip,children:"\u2022 Higher levels mean faster falling items"}),(0,u.jsx)(ne.default,{style:yr.tip,children:"\u2022 Save coins to buy continues and upgrades"}),(0,u.jsx)(ne.default,{style:yr.tip,children:"\u2022 Complete daily challenges for bonus rewards"})]})]}),(0,u.jsxs)(q.default,{style:yr.section,children:[(0,u.jsx)(ne.default,{style:yr.sectionTitle,children:"\u2764\ufe0f Lives System"}),(0,u.jsx)(ne.default,{style:yr.description,children:"You start with 5 lives. Lives regenerate 1 every 20 minutes. Watch ads or use coins to get extra lives instantly!"})]}),(0,u.jsx)(pe.default,{style:yr.playButton,onPress:function(){return t.navigate("Game")},children:(0,u.jsx)(ie.LinearGradient,{colors:["#FFD700","#FFA500"],style:yr.playButtonGradient,children:(0,u.jsx)(ne.default,{style:yr.playButtonText,children:"Start Playing!"})})}),(0,u.jsx)(q.default,{style:{height:50}})]})]})}var yr=K.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",paddingTop:50,paddingHorizontal:20,paddingBottom:20},backButton:{padding:10},title:{fontSize:28,fontWeight:"bold",color:"#FFD700",marginLeft:20},content:{flex:1,paddingHorizontal:20},section:{marginBottom:30,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:15,padding:20},sectionTitle:{fontSize:22,fontWeight:"bold",color:"#FFD700",marginBottom:15},description:{fontSize:16,color:"#FFFFFF",lineHeight:24,opacity:.9},controlItem:{flexDirection:"row",alignItems:"center",marginBottom:15},controlText:{fontSize:16,color:"#FFFFFF",marginLeft:15,flex:1},bold:{fontWeight:"bold",color:"#FFD700"},itemRow:{flexDirection:"row",alignItems:"center",marginBottom:15,paddingVertical:10,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},itemDisplay:{width:50,alignItems:"center"},itemInfo:{marginLeft:20,flex:1},itemName:{fontSize:16,fontWeight:"bold",color:"#FFFFFF"},itemDesc:{fontSize:14,color:"#FFD700",marginTop:2},warningBox:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 99, 71, 0.2)",borderRadius:10,padding:15,marginTop:10},warningText:{fontSize:14,color:"#FF6347",marginLeft:10,flex:1},powerupItem:{flexDirection:"row",alignItems:"center",marginBottom:15},powerupInfo:{marginLeft:15,flex:1},powerupName:{fontSize:16,fontWeight:"bold",color:"#FFFFFF"},powerupDesc:{fontSize:14,color:"rgba(255, 255, 255, 0.8)",marginTop:2},tipsList:{marginTop:5},tip:{fontSize:15,color:"#FFFFFF",marginBottom:8,lineHeight:22},playButton:{marginVertical:20},playButtonGradient:{paddingVertical:18,borderRadius:30,alignItems:"center"},playButtonText:{fontSize:20,fontWeight:"bold",color:"#2C1810"}}),vr=re.default.get("window");vr.width,vr.height;function br(e){var t=e.visible,n=e.gameData,o=e.onRetry,s=e.onExit,l=e.onUpgrade,c=(0,a.useState)(!1),d=(0,i.default)(c,2),f=d[0],p=d[1],h=(0,a.useState)(!1),g=(0,i.default)(h,2),m=g[0],y=g[1],v=(0,a.useState)([]),b=(0,i.default)(v,2),w=b[0],k=b[1],x=(0,a.useState)(new oe.default.Value(0)),S=(0,i.default)(x,1)[0],F=(0,a.useState)(new oe.default.Value(100)),C=(0,i.default)(F,1)[0],_=(0,a.useState)(new oe.default.Value(.8)),j=(0,i.default)(_,1)[0],P=(0,a.useState)(new oe.default.Value(0)),E=(0,i.default)(P,1)[0],D=(0,a.useState)(new oe.default.Value(0)),A=(0,i.default)(D,1)[0];(0,a.useEffect)(function(){t?(O(),I()):T()},[t]);var I=function(){oe.default.parallel([oe.default.timing(S,{toValue:1,duration:500,useNativeDriver:!0}),oe.default.spring(C,{toValue:0,tension:50,friction:7,useNativeDriver:!0}),oe.default.spring(j,{toValue:1,tension:100,friction:8,useNativeDriver:!0})]).start(),oe.default.timing(E,{toValue:n.score,duration:2e3,useNativeDriver:!1}).start(),oe.default.timing(A,{toValue:n.coins,duration:1500,useNativeDriver:!1}).start()},T=function(){oe.default.parallel([oe.default.timing(S,{toValue:0,duration:300,useNativeDriver:!0}),oe.default.timing(C,{toValue:100,duration:300,useNativeDriver:!0}),oe.default.timing(j,{toValue:.8,duration:300,useNativeDriver:!0})]).start()},O=function(){var e=(0,r.default)(function*(){try{var e=yield Ie.checkAdAvailability();y(e.available);var t=yield B();k(t),yield Ue.playSound("game_over")}catch(n){console.log("Error loading game over data:",n)}});return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.default)(function*(){var e=[];return n.blockagePercentage>=100&&e.push({type:"pot_upgrade",title:"Upgrade Your Pot",description:"A larger pot can catch more coins!",cost:100,icon:"\ud83d\udd3c"}),n.timeSurvived<60&&e.push({type:"speed_upgrade",title:"Increase Speed",description:"Move faster to avoid obstacles!",cost:150,icon:"\u26a1"}),n.combo<5&&e.push({type:"combo_upgrade",title:"Combo Multiplier",description:"Build longer combos for bonus points!",cost:200,icon:"\ud83d\udd25"}),e});return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.default)(function*(){yield Ue.playSound("ui_tap"),o()});return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,r.default)(function*(){try{var e=yield Ie.showRewardedAd();e.success?(yield Ue.playSound("bonus_collected"),he.default.alert("Bonus Earned!",`You earned ${e.reward} coins!`),p(!0)):he.default.alert("Ad Failed","Could not load ad. Please try again.")}catch(t){he.default.alert("Error","Failed to show ad")}});return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.default)(function*(e){try{(yield ke.purchaseUpgrade(e.type)).success?(yield Ue.playSound("upgrade_success"),he.default.alert("Upgrade Successful!",e.title),l()):he.default.alert("Upgrade Failed","Not enough coins")}catch(t){he.default.alert("Error","Failed to purchase upgrade")}});return function(t){return e.apply(this,arguments)}}(),z=function(e,t,n){return(0,u.jsxs)(q.default,{style:wr.statItem,children:[(0,u.jsx)(ne.default,{style:wr.statIcon,children:n}),(0,u.jsx)(ne.default,{style:wr.statLabel,children:e}),(0,u.jsx)(ne.default,{style:wr.statValue,children:t})]})};return(0,u.jsxs)(oe.default.View,{style:[wr.container,{opacity:S,transform:[{translateY:C},{scale:j}]}],children:[(0,u.jsxs)(q.default,{style:wr.header,children:[(0,u.jsx)(ne.default,{style:wr.gameOverTitle,children:"Game Over"}),(0,u.jsx)(ne.default,{style:wr.gameOverReason,children:function(){switch(n.reason){case"blockage":return"Your pot was blocked by coins!";case"time_limit":return"Time ran out!";case"manual_exit":return"Game ended";default:return"Game Over!"}}()}),(0,u.jsx)(q.default,{style:wr.performanceRating,children:(0,u.jsxs)(ne.default,{style:wr.ratingText,children:["Performance: ",function(){var e=n.score,t=n.timeSurvived,o=n.combo;return e>1e3&&t>120&&o>10?"S":e>500&&t>60&&o>5?"A":e>200&&t>30&&o>3?"B":e>100&&t>15?"C":"D"}()]})})]}),(0,u.jsx)(ge.default,{style:wr.statsContainer,showsVerticalScrollIndicator:!1,children:(0,u.jsxs)(q.default,{style:wr.statsGrid,children:[z("Score",Math.floor(E),"\ud83c\udfc6"),z("Coins",Math.floor(A),"\ud83d\udcb0"),z("Time",`${n.timeSurvived}s`,"\u23f1\ufe0f"),z("Combo",n.combo,"\ud83d\udd25"),z("Obstacles",n.obstaclesAvoided,"\ud83d\udeab"),z("Power-ups",n.powerUpsUsed,"\u26a1")]})}),w.length>0&&(0,u.jsxs)(q.default,{style:wr.suggestionsContainer,children:[(0,u.jsx)(ne.default,{style:wr.suggestionsTitle,children:"Upgrade Suggestions"}),(0,u.jsx)(ge.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:w.map(function(e){return(0,u.jsxs)(pe.default,{style:wr.suggestionCard,onPress:function(){return R(e)},children:[(0,u.jsx)(ne.default,{style:wr.suggestionIcon,children:e.icon}),(0,u.jsx)(ne.default,{style:wr.suggestionTitle,children:e.title}),(0,u.jsx)(ne.default,{style:wr.suggestionDescription,children:e.description}),(0,u.jsxs)(ne.default,{style:wr.suggestionCost,children:[e.cost," coins"]})]},e.type)})})]}),(0,u.jsxs)(q.default,{style:wr.actionButtons,children:[m&&(0,u.jsx)(pe.default,{style:wr.adButton,onPress:M,children:(0,u.jsx)(ne.default,{style:wr.adButtonText,children:"\ud83c\udfac Watch Ad for Bonus"})}),(0,u.jsx)(pe.default,{style:wr.retryButton,onPress:U,children:(0,u.jsx)(ne.default,{style:wr.retryButtonText,children:"\ud83d\udd04 Retry"})}),(0,u.jsx)(pe.default,{style:wr.exitButton,onPress:s,children:(0,u.jsx)(ne.default,{style:wr.exitButtonText,children:"\u274c Exit"})})]}),f&&(0,u.jsx)(q.default,{style:wr.rewardsOverlay,children:(0,u.jsxs)(q.default,{style:wr.rewardsModal,children:[(0,u.jsx)(ne.default,{style:wr.rewardsTitle,children:"\ud83c\udf89 Bonus Earned!"}),(0,u.jsx)(ne.default,{style:wr.rewardsText,children:"You earned extra coins!"}),(0,u.jsx)(pe.default,{style:wr.rewardsButton,onPress:function(){return p(!1)},children:(0,u.jsx)(ne.default,{style:wr.rewardsButtonText,children:"Continue"})})]})})]})}var wr=K.default.create({container:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.9)",justifyContent:"center",alignItems:"center",padding:20},header:{alignItems:"center",marginBottom:30},gameOverTitle:{fontSize:32,fontWeight:"bold",color:"#FF6B6B",marginBottom:10},gameOverReason:{fontSize:18,color:"#fff",textAlign:"center",marginBottom:15},performanceRating:{backgroundColor:"#FFD700",paddingHorizontal:20,paddingVertical:8,borderRadius:20},ratingText:{color:"#1a1a1a",fontSize:16,fontWeight:"bold"},statsContainer:{maxHeight:200,marginBottom:20},statsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},statItem:{alignItems:"center",backgroundColor:"#2a2a2a",padding:15,borderRadius:10,margin:5,minWidth:100,borderWidth:1,borderColor:"#444"},statIcon:{fontSize:24,marginBottom:5},statLabel:{color:"#ccc",fontSize:12,marginBottom:5},statValue:{color:"#FFD700",fontSize:18,fontWeight:"bold"},suggestionsContainer:{marginBottom:20},suggestionsTitle:{color:"#fff",fontSize:18,fontWeight:"bold",marginBottom:10,textAlign:"center"},suggestionCard:{backgroundColor:"#2a2a2a",padding:15,borderRadius:10,marginRight:10,minWidth:150,borderWidth:1,borderColor:"#FFD700"},suggestionIcon:{fontSize:24,textAlign:"center",marginBottom:5},suggestionTitle:{color:"#fff",fontSize:14,fontWeight:"bold",textAlign:"center",marginBottom:5},suggestionDescription:{color:"#ccc",fontSize:12,textAlign:"center",marginBottom:5},suggestionCost:{color:"#FFD700",fontSize:12,fontWeight:"bold",textAlign:"center"},actionButtons:{flexDirection:"row",justifyContent:"space-around",width:"100%"},adButton:{backgroundColor:"#FF6B6B",paddingVertical:12,paddingHorizontal:20,borderRadius:10},adButtonText:{color:"#fff",fontSize:14,fontWeight:"bold"},retryButton:{backgroundColor:"#4CAF50",paddingVertical:12,paddingHorizontal:20,borderRadius:10},retryButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"},exitButton:{backgroundColor:"#666",paddingVertical:12,paddingHorizontal:20,borderRadius:10},exitButtonText:{color:"#fff",fontSize:14,fontWeight:"bold"},rewardsOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center"},rewardsModal:{backgroundColor:"#2a2a2a",padding:30,borderRadius:20,alignItems:"center",borderWidth:2,borderColor:"#FFD700"},rewardsTitle:{color:"#FFD700",fontSize:24,fontWeight:"bold",marginBottom:10},rewardsText:{color:"#fff",fontSize:16,marginBottom:20},rewardsButton:{backgroundColor:"#4CAF50",paddingVertical:12,paddingHorizontal:30,borderRadius:10},rewardsButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"}}),kr=null;if("web"===Y.default.OS)kr=n(1463).default;else try{kr=n(7599)}catch(Pr){console.log("Sentry not available"),kr=n(1463).default}var xr=new((0,J.default)(function e(){(0,Q.default)(this,e),this.initialized=!1},[{key:"initialize",value:function(){if(!this.initialized&&"web"!==Y.default.OS&&kr)try{kr.init({dsn:"YOUR_SENTRY_DSN_HERE",debug:!1,environment:"production",tracesSampleRate:.2,attachStacktrace:!0,attachScreenshot:!0,attachViewHierarchy:!0,beforeSend:function(e,t){return e.user&&delete e.user.ip_address,e},integrations:[new kr.ReactNativeTracing({tracingOrigins:["localhost",/^\//],routingInstrumentation:new kr.ReactNavigationInstrumentation})]}),this.initialized=!0,console.log("Crash reporting initialized successfully")}catch(Pr){console.error("Failed to initialize crash reporting:",Pr)}else console.log("Crash reporting disabled for web platform")}},{key:"logEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;this.initialized&&kr&&(kr.captureMessage(e,t),n&&kr.setContext("extra_data",n))}},{key:"logException",value:function(e,t){this.initialized&&kr?(t&&kr.setContext("error_context",t),kr.captureException(e)):console.error("Error:",e,t)}},{key:"setUser",value:function(e){this.initialized&&kr&&(e?kr.setUser({id:e.id,email:e.email,username:e.username}):kr.setUser(null))}},{key:"addBreadcrumb",value:function(e,t,n){this.initialized&&kr&&kr.addBreadcrumb({message:e,category:t||"default",level:"info",timestamp:Date.now()/1e3,data:n})}},{key:"startTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"navigation";return this.initialized&&kr?kr.startTransaction({name:e,op:t}):null}},{key:"trackAppPerformance",value:function(){var e=n.g.appStartTime;if(e){var t,o=Date.now()-e;this.logEvent("app_launch","info",{launch_time_ms:o,platform:Y.default.OS,version:null==(t=Fo.default.manifest)?void 0:t.version})}}},{key:"setCurrentScreen",value:function(e){this.addBreadcrumb(`Navigated to ${e}`,"navigation",{screen:e})}}]));xr.initialize();const Sr=xr;function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var Cr=(0,l.default)();function _r(){var e=(0,a.useState)(!0),t=(0,i.default)(e,2),n=t[0],o=t[1],l=(0,a.useState)(!0),d=(0,i.default)(l,2),f=d[0],p=d[1],h=(0,a.useState)(!1),g=(0,i.default)(h,2),y=g[0],v=g[1],b=(0,a.useState)(!1),k=(0,i.default)(b,2),x=k[0],S=k[1],C=(0,a.useState)(!1),_=(0,i.default)(C,2),j=_[0],P=_[1],E=(0,a.useState)(""),D=(0,i.default)(E,2),I=D[0],T=D[1],O=(0,a.useState)(!1),B=(0,i.default)(O,2),U=B[0],M=B[1];(0,a.useEffect)(function(){R()},[]);var R=function(){var e=(0,r.default)(function*(){try{Sr.initialize(),Sr.trackAppPerformance();var e=yield c.default.getItem("legal_accepted"),t=yield c.default.getItem("legal_version_accepted");P(!(!e||"2.0"!==t)),T("2.0");var n=yield Z();S(n);var i=yield te();console.log("Device analytics:",i);var a=(0,w.onAuthStateChanged)(F,function(){var e=(0,r.default)(function*(e){if(e){v(!0),yield Bn.loadUserProfile(e.uid);var t=yield Bn.checkAdminStatus();M(t),Sr.setUser({id:e.uid,email:e.email||void 0,username:e.displayName||void 0}),yield Bn.syncOfflineUpdates()}else v(!1),M(!1),Sr.setUser(null);o(!1)});return function(t){return e.apply(this,arguments)}}());return function(){return a()}}catch(Pr){console.error("App initialization error:",Pr),Sr.logException(Pr,{context:"app_initialization"}),o(!1)}});return function(){return e.apply(this,arguments)}}();return f?(0,u.jsx)(de,{onComplete:function(){return p(!1)},duration:2500}):n?(0,u.jsx)(q.default,{style:jr.loadingContainer,children:(0,u.jsx)($.default,{size:"large",color:"#FFD700"})}):(0,u.jsx)(q.default,{style:jr.appContainer,children:(0,u.jsx)(s.default,{children:(0,u.jsx)(H,{children:(0,u.jsx)(A,{children:(0,u.jsx)(m,{children:(0,u.jsx)(Cr.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!0,cardStyleInterpolator:function(e){return{cardStyle:{opacity:e.current.progress}}}},children:j?x?y?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cr.Screen,{name:"Home",component:yn}),(0,u.jsx)(Cr.Screen,{name:"Game",component:an}),(0,u.jsx)(Cr.Screen,{name:"GameOver",component:br}),(0,u.jsx)(Cr.Screen,{name:"Settings",component:oo}),(0,u.jsx)(Cr.Screen,{name:"Shop",component:uo}),(0,u.jsx)(Cr.Screen,{name:"SkinShop",component:ko}),(0,u.jsx)(Cr.Screen,{name:"Locker",component:Bo}),(0,u.jsx)(Cr.Screen,{name:"Leaderboard",component:Vo}),(0,u.jsx)(Cr.Screen,{name:"Stats",component:Ho}),(0,u.jsx)(Cr.Screen,{name:"HowToPlay",component:mr}),U&&(0,u.jsx)(Cr.Screen,{name:"AdminPanel",component:Mn})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cr.Screen,{name:"Home",component:yn}),(0,u.jsx)(Cr.Screen,{name:"Game",component:an}),(0,u.jsx)(Cr.Screen,{name:"GameOver",component:br}),(0,u.jsx)(Cr.Screen,{name:"Auth",component:En}),(0,u.jsx)(Cr.Screen,{name:"Shop",component:uo}),(0,u.jsx)(Cr.Screen,{name:"HowToPlay",component:mr})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cr.Screen,{name:"Onboarding",component:ir,initialParams:{onComplete:function(){var e=(0,r.default)(function*(){yield c.default.setItem("hasSeenOnboarding","true"),S(!0)});return function(){return e.apply(this,arguments)}}()}}),(0,u.jsx)(Cr.Screen,{name:"Home",component:yn})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cr.Screen,{name:"LegalAgreement",component:to,initialParams:{onAccept:function(){var e=(0,r.default)(function*(){yield c.default.setItem("legal_accepted","true"),yield c.default.setItem("legal_version_accepted",I),P(!0)});return function(){return e.apply(this,arguments)}}(),onDecline:function(){alert("You must accept the legal agreements to use Pot of Gold.")}}}),(0,u.jsx)(Cr.Screen,{name:"Onboarding",component:ir}),(0,u.jsx)(Cr.Screen,{name:"Home",component:yn}),(0,u.jsx)(Cr.Screen,{name:"Game",component:an})]})})})})})})})}"undefined"!==typeof globalThis&&(globalThis.appStartTime=Date.now());var jr=K.default.create({appContainer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({flex:1,width:"100%",height:"100%",backgroundColor:"#1a1a2e"},Y.default.select({web:{height:"100vh",overflow:"hidden"}})),loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a2e"}})},6947:()=>{},7267:()=>{},7599:()=>{},8233:(e,t,n)=>{"use strict";n.r(t);var o,r=n(9444);if("web"===n(6794).default.OS)try{o=n(4708).default,console.log("Using App.web.tsx for web platform")}catch(i){console.log("App.web.tsx not found, using main App.tsx"),o=n(4708).default}else o=n(4708).default;(0,r.default)(o)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,i)=>{if(!o){var a=1/0;for(u=0;u<e.length;u++){for(var[o,r,i]=e[u],s=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every(e=>n.O[e](o[l]))?o.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,r,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&o;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>o[e]);return a.default=()=>o,n.d(i,a),i}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,i,[a,s,l]=o,c=0;if(a.some(t=>0!==e[t])){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)var u=l(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[674],()=>n(8233));o=n.O(o)})();