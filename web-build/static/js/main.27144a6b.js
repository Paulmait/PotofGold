(()=>{var e={477:()=>{},528:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/pot_of_gold_logo.1d9a870e366f20d97b78.png"},1250:()=>{},1463:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ReactNativeTracing:()=>p,ReactNavigationInstrumentation:()=>g,addBreadcrumb:()=>u,captureException:()=>i,captureMessage:()=>l,configureScope:()=>d,default:()=>h,init:()=>a,setContext:()=>c,setUser:()=>s,withScope:()=>f});var r=n(6212),o=n(6786),a=function(){},i=function(){},l=function(){},s=function(){},c=function(){},u=function(){},d=function(){},f=function(){},p=(0,r.default)(function e(){(0,o.default)(this,e)}),g=(0,r.default)(function e(){(0,o.default)(this,e)});const h={init:a,captureException:i,captureMessage:l,setUser:s,setContext:c,addBreadcrumb:u,configureScope:d,withScope:f,ReactNativeTracing:p,ReactNavigationInstrumentation:g}},2430:()=>{},2790:()=>{},4363:()=>{},7599:()=>{},8233:(e,t,n)=>{"use strict";n.r(t);var r,o=n(5268);if("web"===n(6794).default.OS)try{r=n(9162).default,console.log("Using App.web.tsx for web platform")}catch(a){console.log("App.web.tsx not found, using main App.tsx"),r=n(9162).default}else r=n(9162).default;(0,o.default)(r)},9162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>hr});var r=n(908),o=n(4980),a=n(3842),i=n(5678),l=n(7943),s=n(3709),c=n(4316),u=n(9918);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={coins:100,totalCoins:100,highScore:0,currentScore:0,level:1,potLevel:1,potSpeed:1,potSize:1,magnetActive:!1,slowMotionActive:!1,doublePointsActive:!1,goldRushActive:!1,magnetDuration:0,slowMotionDuration:0,doublePointsDuration:0,goldRushDuration:0,isPlaying:!1,isPaused:!1,gameSpeed:1,ownedSkins:["default"],currentSkin:"default",soundEnabled:!0,vibrationEnabled:!0,tiltControlsEnabled:!1,gamesPlayed:0,totalPlayTime:0,coinsCollected:0,powerUpsUsed:0,achievements:[]},g=(0,i.createContext)(void 0),h=function(){var e=(0,i.useContext)(g);if(!e)throw new Error("useGameContext must be used within a GameProvider");return e},m=function(e){var t=e.children,n=(0,i.useState)(p),l=(0,a.default)(n,2),s=l[0],d=l[1],h=(0,i.useRef)({}),m=function(){var e=(0,o.default)(function*(){try{yield c.default.setItem("gameData",JSON.stringify(s))}catch(e){console.error("Error saving game data:",e)}});return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem("gameData");if(e){var t=JSON.parse(e);d(function(e){return f(f({},e),t)})}}catch(n){console.error("Error loading game data:",n)}});return function(){return e.apply(this,arguments)}}();(0,i.useEffect)(function(){m()},[s]),(0,i.useEffect)(function(){y()},[]);var v={gameState:s,updateGameState:function(e){d(function(t){return f(f({},t),e)})},addCoins:function(e){d(function(t){return f(f({},t),{},{coins:t.coins+e,totalCoins:t.totalCoins+e,coinsCollected:t.coinsCollected+e})})},addScore:function(e){d(function(t){var n=t.currentScore+e,r=Math.max(t.highScore,n);return f(f({},t),{},{currentScore:n,highScore:r})})},activatePowerUp:function(e,t){d(function(n){return f(f({},n),{},(0,r.default)((0,r.default)({powerUpsUsed:n.powerUpsUsed+1},`${e}Active`,!0),`${e}Duration`,t))});var n=setTimeout(function(){d(function(t){return f(f({},t),{},(0,r.default)((0,r.default)({},`${e}Active`,!1),`${e}Duration`,0))})},t);h.current[e]=n},resetGame:function(){d(function(e){return f(f({},e),{},{currentScore:0,level:1,isPlaying:!1,isPaused:!1,gameSpeed:1,magnetActive:!1,slowMotionActive:!1,doublePointsActive:!1,goldRushActive:!1,magnetDuration:0,slowMotionDuration:0,doublePointsDuration:0,goldRushDuration:0})})},saveGameData:m,loadGameData:y};return(0,u.jsx)(g.Provider,{value:v,children:t})},y=n(8840),v=n(2377),b=n(1165),x=n(3461),w={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_API_KEY||"AIzaSyBJSp7vX2-SOWCpjbgTEAPj_T9QQL72JX4",authDomain:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN||"potofgold-production.firebaseapp.com",projectId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_PROJECT_ID||"potofgold-production",storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET||"potofgold-production.firebasestorage.app",messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"511446280789",appId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_APP_ID||"1:511446280789:web:f52cfd9a863631ad0b82dc",measurementId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-GFP64LBLZ3"};w.apiKey&&w.authDomain&&w.projectId||console.error("Missing required Firebase configuration. Using fallback values.");var F=0===(0,b.getApps)().length?(0,b.initializeApp)(w):(0,b.getApps)()[0],S=(0,v.getFirestore)(F),j=(0,x.getAuth)(F);var k={black_history_month:{start:"02-01",end:"02-28"},hispanic_heritage:{start:"09-15",end:"10-15"},winter_holidays:{start:"12-20",end:"01-05"},independence_day:{start:"07-01",end:"07-05"},spring_festival:{start:"04-01",end:"04-14"},pride_month:{start:"06-01",end:"06-30"},presidents_day:{start:"02-15",end:"02-22"},thanksgiving:{start:"11-20",end:"11-30"},valentines_day:{start:"02-10",end:"02-16"},st_patricks_day:{start:"03-15",end:"03-18"},memorial_day:{start:"05-25",end:"05-31"},labor_day:{start:"09-01",end:"09-07"},veterans_day:{start:"11-10",end:"11-12"},christmas:{start:"12-20",end:"12-26"},new_year:{start:"12-30",end:"01-03"},easter:{start:"04-01",end:"04-15"},halloween:{start:"10-25",end:"11-02"},summer_solstice:{start:"06-20",end:"06-22"},winter_solstice:{start:"12-21",end:"12-23"},earth_day:{start:"04-20",end:"04-24"}};function C(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=`${((t=n).getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`,o=k[e],a=o.start,i=o.end;return a>i?r>=a||r<=i:r>=a&&r<=i}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Object.keys(k).filter(function(t){return C(t,e)})}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=(0,i.createContext)(void 0);function _(e){var t=e.children,n=(0,i.useState)({unlockedSkins:[],selectedCartSkin:null,lastUpdated:new Date}),r=(0,a.default)(n,2),l=r[0],s=r[1],c=(0,i.useState)(!0),d=(0,a.default)(c,2),f=d[0],p=d[1];(0,i.useEffect)(function(){var e=j.onAuthStateChanged(function(){var e=(0,o.default)(function*(e){e?yield g(e.uid):s({unlockedSkins:[],selectedCartSkin:null,lastUpdated:new Date}),p(!1)});return function(t){return e.apply(this,arguments)}}());return e},[]);var g=function(){var e=(0,o.default)(function*(e){try{p(!0);var t=yield(0,v.getDoc)((0,v.doc)(S,"users",e));if(t.exists()){var n,r=t.data(),o=r.unlocks||[],a=(null==(n=r.profile)?void 0:n.skin)||null;s({unlockedSkins:o,selectedCartSkin:a,lastUpdated:new Date})}else s({unlockedSkins:[],selectedCartSkin:null,lastUpdated:new Date})}catch(i){console.error("Error loading user unlocks:",i),s({unlockedSkins:[],selectedCartSkin:null,lastUpdated:new Date})}finally{p(!1)}});return function(t){return e.apply(this,arguments)}}(),h=function(e){return l.unlockedSkins.includes(e)},m=function(){var e=(0,o.default)(function*(e){try{var t=j.currentUser;return!!t&&(h(e)?(console.log(`Skin ${e} is already unlocked`),!0):(yield(0,v.updateDoc)((0,v.doc)(S,"users",t.uid),{unlocks:(0,v.arrayUnion)(e),lastUpdated:new Date}),s(function(t){return A(A({},t),{},{unlockedSkins:[].concat((0,y.default)(t.unlockedSkins),[e]),lastUpdated:new Date})}),console.log(`Successfully unlocked skin: ${e}`),!0))}catch(n){return console.error("Error unlocking skin:",n),!1}});return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.default)(function*(e){try{var t=j.currentUser;return!!t&&(h(e)?(yield(0,v.updateDoc)((0,v.doc)(S,"users",t.uid),{"profile.skin":e,lastUpdated:new Date}),s(function(t){return A(A({},t),{},{selectedCartSkin:e,lastUpdated:new Date})}),console.log(`Successfully selected skin: ${e}`),!0):(console.error(`Cannot select locked skin: ${e}`),!1))}catch(n){return console.error("Error selecting cart skin:",n),!1}});return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.default)(function*(){var e=j.currentUser;e&&(yield g(e.uid))});return function(){return e.apply(this,arguments)}}(),w=function(e){return{georgia_bhm:{rarity:"seasonal",season:"black_history_month"},texas_hispanic:{rarity:"seasonal",season:"hispanic_heritage"},california_hispanic:{rarity:"seasonal",season:"hispanic_heritage"}}[e]},F={userUnlocks:l,isLoading:f,isSkinUnlocked:h,getSelectedCartSkin:function(){return l.selectedCartSkin},unlockSkin:m,selectCartSkin:b,refreshUnlocks:x,isSeasonalSkinAvailable:function(e){try{var t=w(e);return!(!t||"seasonal"!==t.rarity||!t.season)&&C(t.season)}catch(n){return console.error("Error checking seasonal skin availability:",n),!1}}};return(0,u.jsx)(I.Provider,{value:F,children:t})}var E=n(1193),T=n(9840),B=n(6901),O={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_API_KEY||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_API_KEY||"",authDomain:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_AUTH_DOMAIN||"",projectId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_PROJECT_ID||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_PROJECT_ID||"",storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_STORAGE_BUCKET||"",messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_MESSAGING_SENDER_ID||"",appId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_APP_ID||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_APP_ID||"",measurementId:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MEASUREMENT_ID||{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_MEASUREMENT_ID||""};O.apiKey&&O.authDomain&&O.projectId||console.error("Firebase configuration is incomplete. Please check your environment variables.");var U=0===(0,b.getApps)().length?(0,b.initializeApp)(O):(0,b.getApps)()[0],L=(0,x.getAuth)(U),z=(0,v.getFirestore)(U),R=z;(0,E.getStorage)(U),(0,B.getFunctions)(U);"undefined"!==typeof window&&(0,T.isSupported)().then(function(e){e&&(0,T.getAnalytics)(U)});function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=(0,i.createContext)(void 0),W=function(e){var t=e.children,n=(0,i.useState)(null),r=(0,a.default)(n,2),l=r[0],s=r[1],d=(0,i.useState)(!0),f=(0,a.default)(d,2),p=f[0],g=f[1],h=(0,i.useState)(null),m=(0,a.default)(h,2),b=m[0],w=m[1],F=(0,i.useState)(null),S=(0,a.default)(F,2),j=S[0],k=S[1],C=(0,i.useState)(null),P=(0,a.default)(C,2),D=P[0],A=P[1];(0,i.useEffect)(function(){var e=(0,x.onAuthStateChanged)(L,function(){var e=(0,o.default)(function*(e){k(e),e?(yield I(e.uid),_(e.uid)):(s(null),D&&D()),g(!1)});return function(t){return e.apply(this,arguments)}}());return function(){e(),D&&D()}},[]);var I=function(){var e=(0,o.default)(function*(e){try{g(!0),w(null);var t=yield c.default.getItem(`unlocks_${e}`);t&&s(JSON.parse(t));var n=(0,v.doc)(R,"users",e,"unlocks","data"),r=yield new Promise(function(e){var t=(0,v.onSnapshot)(n,function(t){return e(t.exists()?t.data():void 0)},function(t){console.error("Error loading unlocks:",t),w("Failed to load unlocks"),e(void 0)});A(function(){return t})});if(r){var o=T(e,r);s(o),yield c.default.setItem(`unlocks_${e}`,JSON.stringify(o))}else yield E(e)}catch(a){console.error("Error in loadUserUnlocks:",a),w("Failed to load user unlocks")}finally{g(!1)}});return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=(0,v.doc)(R,"users",e,"unlocks","data"),n=(0,v.onSnapshot)(t,function(){var t=(0,o.default)(function*(t){if(t.exists()){var n=T(e,t.data());s(n),yield c.default.setItem(`unlocks_${e}`,JSON.stringify(n))}});return function(e){return t.apply(this,arguments)}}(),function(e){console.error("Error in unlocks subscription:",e),w("Failed to sync unlocks")});A(function(){return n})},E=function(){var e=(0,o.default)(function*(e){var t={uid:e,cartSkins:[{id:"default",name:"Classic Cart",state:"default",rarity:"common",unlockedAt:new Date,equipped:!0}],trails:[{id:"sparkle",name:"Sparkle Trail",effect:"sparkle",color:"#FFD700",particleType:"star",unlockedAt:new Date,equipped:!0}],stateFlags:[],powerUps:[{id:"magnet",name:"Coin Magnet",level:1,maxLevel:5,effect:"attract_coins",duration:5e3,unlockedAt:new Date}],achievements:[],statistics:{totalUnlocks:3,totalStatesUnlocked:0,totalSkinsUnlocked:1,totalTrailsUnlocked:1,lastUnlock:new Date}};try{var n=(0,v.doc)(R,"users",e,"unlocks","data");yield(0,v.setDoc)(n,V(V({},t),{},{createdAt:(0,v.serverTimestamp)(),updatedAt:(0,v.serverTimestamp)()})),s(t),yield c.default.setItem(`unlocks_${e}`,JSON.stringify(t))}catch(r){console.error("Error initializing default unlocks:",r),w("Failed to initialize unlocks")}});return function(t){return e.apply(this,arguments)}}(),T=function(e,t){return{uid:e,cartSkins:t.cartSkins||[],trails:t.trails||[],stateFlags:t.stateFlags||[],powerUps:t.powerUps||[],achievements:t.achievements||[],statistics:t.statistics||{totalUnlocks:0,totalStatesUnlocked:0,totalSkinsUnlocked:0,totalTrailsUnlocked:0}}},B=function(){var e=(0,o.default)(function*(e){if(j&&l){var t={id:e,name:Y(e),state:X(e),rarity:J(e),unlockedAt:new Date,equipped:!1},n=V(V({},l),{},{cartSkins:[].concat((0,y.default)(l.cartSkins),[t]),statistics:V(V({},l.statistics),{},{totalSkinsUnlocked:l.statistics.totalSkinsUnlocked+1,totalUnlocks:l.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.default)(function*(e){if(j&&l){var t=l.cartSkins.map(function(t){return V(V({},t),{},{equipped:t.id===e})}),n=V(V({},l),{},{cartSkins:t});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,o.default)(function*(e){if(j&&l){var t={id:e,name:Z(e),effect:ee(e),color:te(e),particleType:ne(e),unlockedAt:new Date,equipped:!1},n=V(V({},l),{},{trails:[].concat((0,y.default)(l.trails),[t]),statistics:V(V({},l.statistics),{},{totalTrailsUnlocked:l.statistics.totalTrailsUnlocked+1,totalUnlocks:l.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,o.default)(function*(e){if(j&&l){var t=l.trails.map(function(t){return V(V({},t),{},{equipped:t.id===e})}),n=V(V({},l),{},{trails:t});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,o.default)(function*(e){if(j&&l){var t={id:e,stateName:re(e),abbreviation:oe(e),capitalCity:ae(e),unlockedAt:new Date,progress:0,rewards:ie(e)},n=V(V({},l),{},{stateFlags:[].concat((0,y.default)(l.stateFlags),[t]),statistics:V(V({},l.statistics),{},{totalStatesUnlocked:l.statistics.totalStatesUnlocked+1,totalUnlocks:l.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.default)(function*(e,t){if(j&&l){var n=l.stateFlags.map(function(n){return n.id===e?V(V({},n),{},{progress:Math.min(100,Math.max(0,t))}):n}),r=V(V({},l),{},{stateFlags:n});yield $(r)}});return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=(0,o.default)(function*(e){if(j&&l){var t={id:e,name:le(e),level:1,maxLevel:5,effect:se(e),duration:ce(e),unlockedAt:new Date},n=V(V({},l),{},{powerUps:[].concat((0,y.default)(l.powerUps),[t]),statistics:V(V({},l.statistics),{},{totalUnlocks:l.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,o.default)(function*(e){if(j&&l){var t=l.powerUps.map(function(t){return t.id===e&&t.level<t.maxLevel?V(V({},t),{},{level:t.level+1}):t}),n=V(V({},l),{},{powerUps:t});yield $(n)}});return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,o.default)(function*(e,t){if(j&&l){var n={id:e,name:ue(e),description:de(e),icon:fe(e),unlockedAt:new Date,reward:t},r=V(V({},l),{},{achievements:[].concat((0,y.default)(l.achievements),[n]),statistics:V(V({},l.statistics),{},{totalUnlocks:l.statistics.totalUnlocks+1,lastUnlock:new Date})});yield $(r)}});return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=(0,o.default)(function*(e){if(j)try{var t=(0,v.doc)(R,"users",j.uid,"unlocks","data");yield(0,v.updateDoc)(t,V(V({},e),{},{updatedAt:(0,v.serverTimestamp)()})),s(e),yield c.default.setItem(`unlocks_${j.uid}`,JSON.stringify(e))}catch(n){console.error("Error updating unlocks:",n),w("Failed to update unlocks")}});return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,o.default)(function*(){j&&(yield I(j.uid))});return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,o.default)(function*(){j&&(yield E(j.uid))});return function(){return e.apply(this,arguments)}}(),Y=function(e){return{texas:"Texas Ranger",california:"Golden State",florida:"Sunshine Express",newyork:"Empire Cart",arizona:"Desert Runner"}[e]||"Mystery Cart"},X=function(e){return e},J=function(e){return{default:"common",texas:"rare",california:"epic",florida:"rare",newyork:"epic",arizona:"rare"}[e]||"common"},Z=function(e){return{sparkle:"Sparkle Trail",rainbow:"Rainbow Trail",fire:"Fire Trail",ice:"Ice Trail",golden:"Golden Trail"}[e]||"Mystery Trail"},ee=function(e){return e},te=function(e){return{sparkle:"#FFD700",rainbow:"#FF69B4",fire:"#FF4500",ice:"#00BFFF",golden:"#FFD700"}[e]||"#FFFFFF"},ne=function(e){return{sparkle:"star",rainbow:"rainbow",fire:"flame",ice:"snowflake",golden:"coin"}[e]||"star"},re=function(e){return{texas:"Texas",california:"California",florida:"Florida",newyork:"New York",arizona:"Arizona"}[e]||"Unknown State"},oe=function(e){return{texas:"TX",california:"CA",florida:"FL",newyork:"NY",arizona:"AZ"}[e]||"XX"},ae=function(e){return{texas:"Austin",california:"Sacramento",florida:"Tallahassee",newyork:"Albany",arizona:"Phoenix"}[e]||"Unknown"},ie=function(e){return{coins:1e3,gems:50,specialItem:`${e}_special`}},le=function(e){return{magnet:"Coin Magnet",shield:"Golden Shield",multiplier:"Score Multiplier",slowtime:"Time Slower"}[e]||"Mystery Power"},se=function(e){return`${e}_effect`},ce=function(e){return 1e4},ue=function(e){return`Achievement: ${e}`},de=function(e){return`Complete ${e} to unlock rewards`},fe=function(e){return"\ud83c\udfc6"},pe={unlocks:l,loading:p,error:b,unlockCartSkin:B,equipCartSkin:O,getEquippedCartSkin:function(){return null==l?void 0:l.cartSkins.find(function(e){return e.equipped})},unlockTrail:U,equipTrail:z,getEquippedTrail:function(){return null==l?void 0:l.trails.find(function(e){return e.equipped})},unlockStateFlag:M,updateStateProgress:W,getStateFlag:function(e){return null==l?void 0:l.stateFlags.find(function(t){return t.id===e})},unlockPowerUp:G,upgradePowerUp:H,unlockAchievement:q,syncUnlocks:K,resetUnlocks:Q,getTotalUnlocksCount:function(){return(null==l?void 0:l.statistics.totalUnlocks)||0}};return(0,u.jsx)(N.Provider,{value:pe,children:t})};var G=n(3932),H=n(9457),q=n(6529),$=n(6794),K=n(6786),Q=n(6212),Y=new((0,Q.default)(function e(){(0,K.default)(this,e),this.deviceId=null},[{key:"getDeviceId",value:function(){var e=(0,o.default)(function*(){try{if(this.deviceId)return this.deviceId;var e=yield c.default.getItem("device_id");if(e)return this.deviceId=e,e;var t=yield this.generateDeviceId();return yield c.default.setItem("device_id",t),yield c.default.setItem("device_first_seen",(new Date).toISOString()),this.deviceId=t,t}catch(r){console.error("Error getting device ID:",r);var n=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return this.deviceId=n,n}});return function(){return e.apply(this,arguments)}}()},{key:"generateDeviceId",value:function(){var e=(0,o.default)(function*(){return`${$.default.OS}_${this.generateUUID()}`});return function(){return e.apply(this,arguments)}}()},{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{key:"hasCompletedOnboarding",value:function(){var e=(0,o.default)(function*(){try{var e=yield this.getDeviceId(),t=yield c.default.getItem("hasSeenOnboarding"),n=yield c.default.getItem("onboarding_device_id");return"true"===t&&n===e}catch(r){return console.error("Error checking onboarding status:",r),"true"===(yield c.default.getItem("hasSeenOnboarding"))}});return function(){return e.apply(this,arguments)}}()},{key:"markOnboardingCompleted",value:function(){var e=(0,o.default)(function*(){try{var e=yield this.getDeviceId();yield c.default.multiSet([["hasSeenOnboarding","true"],["onboarding_device_id",e],["onboarding_completed_at",(new Date).toISOString()]]),console.log(`Onboarding marked as completed for device: ${e}`)}catch(t){console.error("Error marking onboarding as completed:",t),yield c.default.setItem("hasSeenOnboarding","true")}});return function(){return e.apply(this,arguments)}}()},{key:"getDeviceAnalytics",value:function(){var e=(0,o.default)(function*(){try{var e=yield this.getDeviceId(),t=yield c.default.getItem("device_first_seen"),n=(new Date).toISOString();yield c.default.setItem("device_last_seen",n);var r=yield c.default.getItem("device_session_count"),o=r?parseInt(r,10)+1:1;return yield c.default.setItem("device_session_count",o.toString()),{deviceId:e,platform:$.default.OS,firstSeen:t,lastSeen:n,sessionCount:o,screenWidth:"web"===$.default.OS?window.innerWidth:void 0,screenHeight:"web"===$.default.OS?window.innerHeight:void 0}}catch(a){return console.error("Error getting device analytics:",a),null}});return function(){return e.apply(this,arguments)}}()},{key:"clearDeviceData",value:function(){var e=(0,o.default)(function*(){try{yield c.default.multiRemove(["device_id","device_first_seen","device_last_seen","device_session_count","hasSeenOnboarding","onboarding_device_id","onboarding_completed_at"]),this.deviceId=null,console.log("Device tracking data cleared")}catch(e){console.error("Error clearing device data:",e)}});return function(){return e.apply(this,arguments)}}()}])),X=function(){return Y.hasCompletedOnboarding()},J=function(){return Y.markOnboardingCompleted()},Z=function(){return Y.getDeviceAnalytics()},ee=n(8830),te=n(7081),ne=n(100),re=n(1590);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ie=ne.default.get("window"),le=ie.width,se=ie.height;function ce(e){var t=e.onComplete,r=e.duration,o=void 0===r?2500:r,a=(0,i.useRef)(new te.default.Value(0)).current,l=(0,i.useRef)(new te.default.Value(.8)).current,s=(0,i.useRef)(new te.default.Value(0)).current,c=(0,i.useRef)(new te.default.Value(0)).current,d=(0,i.useRef)(new te.default.Value(0)).current;(0,i.useEffect)(function(){te.default.parallel([te.default.timing(a,{toValue:1,duration:500,useNativeDriver:!0}),te.default.spring(l,{toValue:1,friction:4,tension:40,useNativeDriver:!0}),te.default.loop(te.default.sequence([te.default.timing(s,{toValue:1,duration:2e3,useNativeDriver:!0}),te.default.timing(s,{toValue:0,duration:2e3,useNativeDriver:!0})])),te.default.timing(c,{toValue:1,duration:o-500,useNativeDriver:!1}),te.default.loop(te.default.sequence([te.default.timing(d,{toValue:1,duration:1500,useNativeDriver:!0}),te.default.timing(d,{toValue:0,duration:1500,useNativeDriver:!0})]))]).start();var e=setTimeout(function(){te.default.timing(a,{toValue:0,duration:300,useNativeDriver:!0}).start(function(){null==t||t()})},o);return function(){return clearTimeout(e)}},[]);var f=s.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]}),p=d.interpolate({inputRange:[0,1],outputRange:[-le,le]});return(0,u.jsxs)(te.default.View,{style:[ue.container,{opacity:a}],children:[(0,u.jsx)(re.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:q.default.absoluteFillObject}),(0,u.jsx)(G.default,{style:ue.particlesContainer,children:(0,y.default)(Array(20)).map(function(e,t){return(0,u.jsx)(te.default.View,{style:[ue.particle,{left:Math.random()*le,top:Math.random()*se,opacity:d,transform:[{translateY:te.default.multiply(d,100*Math.random()-50)}]}]},t)})}),(0,u.jsxs)(te.default.View,{style:[ue.content,{transform:[{scale:l}]}],children:[(0,u.jsxs)(G.default,{style:ue.logoContainer,children:[(0,u.jsx)(te.default.Image,{source:n(528),style:[ue.logo,{transform:[{rotate:f},{scale:l}]}],resizeMode:"contain"}),(0,u.jsx)(te.default.View,{style:[ue.shimmer,{transform:[{translateX:p}]}],children:(0,u.jsx)(re.LinearGradient,{colors:["transparent","rgba(255, 215, 0, 0.3)","transparent"],style:ue.shimmerGradient,start:{x:0,y:0},end:{x:1,y:0}})})]}),(0,u.jsxs)(te.default.View,{style:ue.titleContainer,children:[(0,u.jsx)(ee.default,{style:ue.title,children:"POT OF GOLD"}),(0,u.jsx)(ee.default,{style:ue.subtitle,children:"Catch the Fortune!"})]}),(0,u.jsxs)(G.default,{style:ue.loadingContainer,children:[(0,u.jsx)(G.default,{style:ue.progressBarBg,children:(0,u.jsx)(te.default.View,{style:[ue.progressBar,{width:c.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}],children:(0,u.jsx)(re.LinearGradient,{colors:["#FFD700","#FFA500","#FFD700"],style:q.default.absoluteFillObject,start:{x:0,y:0},end:{x:1,y:0}})})}),(0,u.jsx)(te.default.Text,{style:[ue.loadingText,{opacity:te.default.multiply(a,d)}],children:"Loading Game Assets..."})]}),(0,u.jsx)(te.default.View,{style:[ue.tipsContainer,{opacity:d}],children:(0,u.jsx)(ee.default,{style:ue.tipText,children:"\ud83d\udca1 Tip: Swipe left and right to move your cart!"})})]}),(0,u.jsx)(G.default,{style:ue.versionContainer,children:(0,u.jsx)(ee.default,{style:ue.versionText,children:"v1.0.0"})})]})}var ue=q.default.create({container:ae(ae({},q.default.absoluteFillObject),{},{justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a2e",zIndex:9999}),particlesContainer:ae({},q.default.absoluteFillObject),particle:{position:"absolute",width:4,height:4,backgroundColor:"#FFD700",borderRadius:2},content:{alignItems:"center",justifyContent:"center"},logoContainer:{width:180,height:180,marginBottom:20,position:"relative",overflow:"hidden"},logo:{width:"100%",height:"100%"},shimmer:{position:"absolute",top:0,bottom:0,width:100},shimmerGradient:{flex:1},titleContainer:{alignItems:"center",marginBottom:40},title:{fontSize:42,fontWeight:"bold",color:"#FFD700",textShadowColor:"rgba(255, 215, 0, 0.5)",textShadowOffset:{width:0,height:0},textShadowRadius:20,letterSpacing:3},subtitle:{fontSize:18,color:"#FFA500",marginTop:8,fontStyle:"italic"},loadingContainer:{width:.7*le,alignItems:"center"},progressBarBg:{width:"100%",height:8,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:4,overflow:"hidden",marginBottom:16},progressBar:{height:"100%",borderRadius:4},loadingText:{color:"#FFD700",fontSize:14,marginTop:8},tipsContainer:{marginTop:40,paddingHorizontal:40},tipText:{color:"rgba(255, 255, 255, 0.7)",fontSize:14,textAlign:"center"},versionContainer:{position:"absolute",bottom:20,right:20},versionText:{color:"rgba(255, 255, 255, 0.3)",fontSize:12}}),de=n(4881),fe=n(6003);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function he(e){e.position,e.size;var t=e.isTurboActive,n=void 0!==t&&t,r=e.isMoving,o=void 0!==r&&r,a=e.skin,l=void 0===a?"default":a,s=e.level,c=void 0===s?1:s,d=(0,i.useRef)(new te.default.Value(0)).current,f=(0,i.useRef)(new te.default.Value(0)).current,p=(0,i.useRef)(new te.default.Value(.8)).current;(0,i.useEffect)(function(){if(o||n){var e=n?100:300;te.default.loop(te.default.timing(d,{toValue:1,duration:e,useNativeDriver:!0})).start()}else d.setValue(0)},[o,n]),(0,i.useEffect)(function(){o?te.default.loop(te.default.sequence([te.default.timing(f,{toValue:-2,duration:150,useNativeDriver:!0}),te.default.timing(f,{toValue:2,duration:150,useNativeDriver:!0})])).start():f.setValue(0)},[o]),(0,i.useEffect)(function(){n&&te.default.loop(te.default.sequence([te.default.timing(p,{toValue:1,duration:500,useNativeDriver:!0}),te.default.timing(p,{toValue:.3,duration:500,useNativeDriver:!0})])).start()},[n]);var g=function(){switch(l){case"golden":return{body:"#FFD700",trim:"#FFA500",wheels:"#B8860B"};case"diamond":return{body:"#B9F2FF",trim:"#87CEEB",wheels:"#4169E1"};case"emerald":return{body:"#50C878",trim:"#228B22",wheels:"#006400"};case"ruby":return{body:"#E0115F",trim:"#DC143C",wheels:"#8B0000"};default:return{body:"#8B4513",trim:"#654321",wheels:"#2C2C2C"}}}(),h=d.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return(0,u.jsxs)(te.default.View,{style:[me.container,{transform:[{translateY:f}]}],children:[n&&(0,u.jsx)(te.default.View,{style:[me.glowEffect,{opacity:p,transform:[{scale:p.interpolate({inputRange:[.3,1],outputRange:[1,1.5]})}]}]}),(0,u.jsxs)(G.default,{style:[me.cartBody,{backgroundColor:g.body}],children:[(0,u.jsx)(G.default,{style:[me.cartRim,{backgroundColor:g.trim}]}),(0,u.jsx)(G.default,{style:[me.cartFront,{backgroundColor:g.trim}]}),(0,u.jsx)(G.default,{style:[me.cartBack,{backgroundColor:g.trim}]}),(0,u.jsx)(G.default,{style:[me.metalBand,me.metalBandTop]}),(0,u.jsx)(G.default,{style:[me.metalBand,me.metalBandBottom]}),c>1&&(0,u.jsxs)(G.default,{style:me.goldContainer,children:[(0,u.jsx)(G.default,{style:me.goldPile}),(0,u.jsx)(G.default,{style:[me.goldCoin,{left:15,top:5}]}),(0,u.jsx)(G.default,{style:[me.goldCoin,{left:25,top:3}]}),(0,u.jsx)(G.default,{style:[me.goldCoin,{left:35,top:7}]})]}),c>0&&(0,u.jsx)(G.default,{style:me.levelStars,children:(0,y.default)(Array(Math.min(c,5))).map(function(e,t){return(0,u.jsx)(G.default,{style:me.star},t)})})]}),(0,u.jsxs)(te.default.View,{style:[me.wheel,me.leftWheel,{backgroundColor:g.wheels,transform:[{rotate:h}]}],children:[(0,u.jsx)(G.default,{style:me.wheelSpoke}),(0,u.jsx)(G.default,{style:[me.wheelSpoke,{transform:[{rotate:"90deg"}]}]}),(0,u.jsx)(G.default,{style:me.wheelCenter})]}),(0,u.jsxs)(te.default.View,{style:[me.wheel,me.rightWheel,{backgroundColor:g.wheels,transform:[{rotate:h}]}],children:[(0,u.jsx)(G.default,{style:me.wheelSpoke}),(0,u.jsx)(G.default,{style:[me.wheelSpoke,{transform:[{rotate:"90deg"}]}]}),(0,u.jsx)(G.default,{style:me.wheelCenter})]}),(0,u.jsx)(G.default,{style:me.railConnector}),n&&(0,u.jsxs)(G.default,{style:me.turboFlames,children:[(0,u.jsx)(te.default.View,{style:[me.flame,{opacity:p,transform:[{scaleY:p}]}]}),(0,u.jsx)(te.default.View,{style:[me.flame,me.flameRight,{opacity:p,transform:[{scaleY:p}]}]})]})]})}var me=q.default.create({container:{width:100,height:80,alignItems:"center",justifyContent:"center"},glowEffect:ge({position:"absolute",width:120,height:120,borderRadius:60,backgroundColor:"#FFD700"},$.default.select({ios:{shadowColor:"#FFD700",shadowOffset:{width:0,height:0},shadowOpacity:.8,shadowRadius:20},android:{elevation:10},web:{boxShadow:"0 0 40px rgba(255, 215, 0, 0.8)"}})),cartBody:ge(ge({width:80,height:50,borderRadius:5,position:"relative"},$.default.select({ios:{shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:3},android:{elevation:5},web:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"}})),{},{transform:[{perspective:100},{rotateX:"-5deg"}]}),cartRim:{position:"absolute",top:0,left:0,right:0,height:4,borderTopLeftRadius:5,borderTopRightRadius:5},cartFront:{position:"absolute",left:-5,top:5,bottom:5,width:8,backgroundColor:"#654321",transform:[{skewY:"10deg"}]},cartBack:{position:"absolute",right:-5,top:5,bottom:5,width:8,backgroundColor:"#654321",transform:[{skewY:"-10deg"}]},metalBand:{position:"absolute",left:0,right:0,height:3,backgroundColor:"#4A4A4A"},metalBandTop:{top:12},metalBandBottom:{bottom:12},goldContainer:{position:"absolute",top:10,left:10,right:10,height:20},goldPile:{position:"absolute",bottom:0,left:0,right:0,height:15,backgroundColor:"#FFD700",borderRadius:10,opacity:.8},goldCoin:{position:"absolute",width:10,height:10,borderRadius:5,backgroundColor:"#FFD700",borderWidth:1,borderColor:"#B8860B"},levelStars:{position:"absolute",top:-15,flexDirection:"row",alignSelf:"center"},star:{width:8,height:8,backgroundColor:"#FFD700",marginHorizontal:2,transform:[{rotate:"45deg"}]},wheel:{position:"absolute",width:20,height:20,borderRadius:10,bottom:-5,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#1C1C1C"},leftWheel:{left:15},rightWheel:{right:15},wheelSpoke:{position:"absolute",width:2,height:16,backgroundColor:"#888888"},wheelCenter:{width:6,height:6,borderRadius:3,backgroundColor:"#4A4A4A"},railConnector:{position:"absolute",bottom:-3,left:10,right:10,height:4,backgroundColor:"#2C2C2C"},turboFlames:{position:"absolute",bottom:-15,flexDirection:"row",alignItems:"center"},flame:{width:12,height:20,backgroundColor:"#FF4500",borderTopLeftRadius:10,borderTopRightRadius:10,marginHorizontal:2},flameRight:{backgroundColor:"#FFD700"}});function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var be=ne.default.get("window"),xe=be.width,we=be.height,Fe=Math.min(xe,450),Se=Math.min(we,700),je=xe>450?(xe-450)/2:0,ke=function(){if("web"===$.default.OS){return Math.min(Fe/375,1.2)}return 1}(),Ce=function(e){return e*ke},Pe=function(e){return e*ke},De=function(e){return e*ke};function Ae(e){var t=e.navigation,n=(0,i.useState)(!1),r=(0,a.default)(n,2),l=r[0],s=r[1],d=(0,i.useState)(!1),f=(0,a.default)(d,2),p=f[0],g=f[1],h=(0,i.useState)(0),m=(0,a.default)(h,2),v=m[0],b=m[1],x=(0,i.useState)(0),w=(0,a.default)(x,2),F=w[0],S=w[1],j=(0,i.useState)(5),k=(0,a.default)(j,2),C=k[0],P=k[1],D=(0,i.useState)(1),A=(0,a.default)(D,2),I=A[0],_=A[1],E=(0,i.useState)(!0),T=(0,a.default)(E,2),B=T[0],O=T[1],U=(0,i.useState)("default"),L=(0,a.default)(U,2),z=L[0],R=L[1],M=(0,i.useState)(!1),V=(0,a.default)(M,2),N=V[0],W=V[1],H=(0,i.useState)(Fe/2-Ce(35)),q=(0,a.default)(H,2),K=q[0],Q=q[1],Y=Ce(12),X=Ce(70),J=(0,i.useState)([]),Z=(0,a.default)(J,2),te=Z[0],ne=Z[1],oe=Ce(30),ae=Pe(3),ie=(0,i.useRef)(null),le=(0,i.useRef)(null);(0,i.useEffect)(function(){se()},[]);var se=function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem("selected_cart_skin");e&&R(e)}catch(t){console.error("Error loading cart skin:",t)}});return function(){return e.apply(this,arguments)}}();(0,i.useEffect)(function(){var e=function(e){l&&!p&&("ArrowLeft"===e.key||"a"===e.key||"A"===e.key?pe("left"):"ArrowRight"===e.key||"d"===e.key||"D"===e.key?pe("right"):" "!==e.key&&"Escape"!==e.key||(p?me():ge()))};return"web"===$.default.OS&&window.addEventListener("keydown",e),function(){ie.current&&cancelAnimationFrame(ie.current),le.current&&clearInterval(le.current),"web"===$.default.OS&&window.removeEventListener("keydown",e)}},[l,p]);var ce=function(){var e=["gold","diamond","ruby","rock"],t=e[Math.floor(Math.random()*e.length)],n=Math.random()*(Fe-oe);ne(function(e){return[].concat((0,y.default)(e),[{id:Date.now()+Math.random(),type:t,x:n,y:-oe,value:"gold"===t?10:"diamond"===t?50:"ruby"===t?30:-10}])})},ue=(0,i.useCallback)(function(){ne(function(e){return e.map(function(e){return ve(ve({},e),{},{y:e.y+ae})}).filter(function(e){return e.y+oe>Se-Ce(110)&&e.y<Se-Ce(70)&&e.x+oe>K&&e.x<K+X?("rock"!==e.type?(b(function(t){return t+e.value}),S(function(t){return t+("gold"===e.type?1:0)})):P(function(e){return Math.max(0,e-1)}),!1):e.y<Se})}),l&&!p&&(ie.current=requestAnimationFrame(ue))},[l,p,K,Se,oe,X,ae]),pe=function(e){W(!0),Q(function(t){var n="left"===e?t-Y:t+Y;return Math.max(0,Math.min(Fe-X,n))}),setTimeout(function(){return W(!1)},150)},ge=function(){g(!0)},me=function(){g(!1)},ye=function(){var e=(0,o.default)(function*(){s(!1),ie.current&&cancelAnimationFrame(ie.current),le.current&&clearInterval(le.current);try{var e=yield c.default.getItem("guest_high_score");(!e||v>parseInt(e,10))&&(yield c.default.setItem("guest_high_score",v.toString())),yield c.default.setItem("guest_coins",F.toString())}catch(n){console.error("Error saving score:",n)}t.navigate("Home")});return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)(function(){C<=0&&l&&ye()},[C]),(0,i.useEffect)(function(){var e=Math.floor(v/100)+1;e>I&&_(e)},[v]),(0,i.useEffect)(function(){return l&&!p?(le.current=setInterval(ce,1500),ue()):(le.current&&clearInterval(le.current),ie.current&&cancelAnimationFrame(ie.current)),function(){le.current&&clearInterval(le.current),ie.current&&cancelAnimationFrame(ie.current)}},[l,p,ue]),B?(0,u.jsx)(re.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:Ie.container,children:(0,u.jsxs)(G.default,{style:Ie.startScreen,children:[(0,u.jsx)(ee.default,{style:Ie.title,children:"Pot of Gold"}),(0,u.jsx)(ee.default,{style:Ie.subtitle,children:"Catch the treasures, avoid the rocks!"}),(0,u.jsx)(de.default,{style:Ie.startButton,onPress:function(){O(!1),b(0),P(5),_(1),ne([]),s(!0)},children:(0,u.jsx)(re.LinearGradient,{colors:["#FFD700","#FFA500"],style:Ie.startButtonGradient,children:(0,u.jsx)(ee.default,{style:Ie.startButtonText,children:"START GAME"})})}),(0,u.jsx)(de.default,{style:Ie.backButton,onPress:function(){return t.navigate("Home")},children:(0,u.jsx)(ee.default,{style:Ie.backButtonText,children:"Back to Menu"})})]})}):(0,u.jsxs)(G.default,{style:Ie.outerContainer,children:[(0,u.jsxs)(G.default,{style:[Ie.gameContainer,{width:Fe,height:Se}],onTouchStart:function(e){if(l&&!p){var t=(e.nativeEvent.locationX||e.nativeEvent.pageX)-je;pe(t<Fe/2?"left":"right")}},children:[(0,u.jsx)(re.LinearGradient,{colors:["#87CEEB","#4682B4","#1E90FF"],style:Ie.skyBackground}),(0,u.jsxs)(G.default,{style:Ie.hud,children:[(0,u.jsxs)(G.default,{style:Ie.hudItem,children:[(0,u.jsx)(fe.default,{name:"star",size:Ce(20),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Ie.hudText,children:v})]}),(0,u.jsxs)(G.default,{style:Ie.hudItem,children:[(0,u.jsx)(fe.default,{name:"cash",size:Ce(20),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Ie.hudText,children:F})]}),(0,u.jsxs)(G.default,{style:Ie.hudItem,children:[(0,u.jsx)(fe.default,{name:"heart",size:Ce(20),color:"#FF6B6B"}),(0,u.jsx)(ee.default,{style:Ie.hudText,children:C})]}),(0,u.jsx)(de.default,{style:Ie.pauseButton,onPress:p?me:ge,children:(0,u.jsx)(fe.default,{name:p?"play":"pause",size:Ce(24),color:"#FFF"})})]}),te.map(function(e){return(0,u.jsx)(G.default,{style:[Ie.fallingItem,{left:e.x,top:e.y,width:oe,height:oe,backgroundColor:"gold"===e.type?"#FFD700":"diamond"===e.type?"#B9F2FF":"ruby"===e.type?"#DC143C":"#808080"}]},e.id)}),(0,u.jsx)(G.default,{style:[Ie.cartContainer,{left:K,bottom:Ce(60)}],children:(0,u.jsx)(he,{position:0,size:X,skin:z,isMoving:N,level:Math.min(I,5)})}),(0,u.jsx)(G.default,{style:Ie.ground}),p&&(0,u.jsx)(G.default,{style:Ie.pauseOverlay,children:(0,u.jsxs)(G.default,{style:Ie.pauseModal,children:[(0,u.jsx)(ee.default,{style:Ie.pauseTitle,children:"Game Paused"}),(0,u.jsx)(de.default,{style:Ie.resumeButton,onPress:me,children:(0,u.jsx)(ee.default,{style:Ie.resumeButtonText,children:"Resume"})}),(0,u.jsx)(de.default,{style:Ie.quitButton,onPress:ye,children:(0,u.jsx)(ee.default,{style:Ie.quitButtonText,children:"Quit Game"})})]})}),(0,u.jsxs)(G.default,{style:Ie.touchIndicators,children:[(0,u.jsx)(G.default,{style:[Ie.touchZone,Ie.leftZone],children:(0,u.jsx)(fe.default,{name:"arrow-back",size:Ce(30),color:"rgba(255,255,255,0.3)"})}),(0,u.jsx)(G.default,{style:[Ie.touchZone,Ie.rightZone],children:(0,u.jsx)(fe.default,{name:"arrow-forward",size:Ce(30),color:"rgba(255,255,255,0.3)"})})]})]}),l&&!p&&(0,u.jsx)(G.default,{style:Ie.instructions,children:(0,u.jsx)(ee.default,{style:Ie.instructionText,children:"web"===$.default.OS?"\u2328\ufe0f Arrow Keys or A/D to move \u2022 Space/Esc to pause \u2022 \ud83d\uddb1\ufe0f Click sides to move":"Tap left or right side to move cart"})})]})}var Ie=q.default.create({outerContainer:{flex:1,backgroundColor:"#0a0a0a",justifyContent:"center",alignItems:"center"},gameContainer:{position:"relative",overflow:"hidden",borderRadius:Ce(20),shadowColor:"#000",shadowOffset:{width:0,height:10},shadowOpacity:.5,shadowRadius:20,elevation:20,backgroundColor:"#000"},skyBackground:{position:"absolute",top:0,left:0,right:0,bottom:0},startScreen:{flex:1,justifyContent:"center",alignItems:"center",padding:Ce(20)},title:{fontSize:De(48),fontWeight:"bold",color:"#FFD700",marginBottom:Pe(10),textShadowColor:"rgba(0,0,0,0.5)",textShadowOffset:{width:2,height:2},textShadowRadius:5},subtitle:{fontSize:De(18),color:"#FFF",marginBottom:Pe(40)},startButton:{marginBottom:Pe(20)},startButtonGradient:{paddingVertical:Pe(15),paddingHorizontal:Ce(40),borderRadius:Ce(30)},startButtonText:{fontSize:De(20),fontWeight:"bold",color:"#FFF"},backButton:{padding:Ce(10)},backButtonText:{fontSize:De(16),color:"#AAA"},hud:{position:"absolute",top:Pe(40),left:Ce(20),right:Ce(20),flexDirection:"row",justifyContent:"space-between",alignItems:"center",zIndex:100},hudItem:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)",paddingHorizontal:Ce(10),paddingVertical:Pe(5),borderRadius:Ce(15)},hudText:{color:"#FFF",fontSize:De(16),fontWeight:"bold",marginLeft:Ce(5)},pauseButton:{backgroundColor:"rgba(0,0,0,0.5)",padding:Ce(10),borderRadius:Ce(20)},fallingItem:{position:"absolute",borderRadius:Ce(5)},cartContainer:{position:"absolute",zIndex:10},ground:{position:"absolute",bottom:0,left:0,right:0,height:Ce(60),backgroundColor:"#654321"},pauseOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",justifyContent:"center",alignItems:"center",zIndex:200},pauseModal:{backgroundColor:"#2a2a3e",padding:Ce(30),borderRadius:Ce(20),alignItems:"center"},pauseTitle:{fontSize:De(24),fontWeight:"bold",color:"#FFD700",marginBottom:Pe(20)},resumeButton:{backgroundColor:"#4CAF50",paddingVertical:Pe(10),paddingHorizontal:Ce(30),borderRadius:Ce(20),marginBottom:Pe(10)},resumeButtonText:{color:"#FFF",fontSize:De(16),fontWeight:"bold"},quitButton:{paddingVertical:Pe(10),paddingHorizontal:Ce(30)},quitButtonText:{color:"#FF6B6B",fontSize:De(16)},touchIndicators:{position:"absolute",top:0,left:0,right:0,bottom:0,flexDirection:"row",pointerEvents:"none"},touchZone:{flex:1,justifyContent:"center",alignItems:"center"},leftZone:{alignItems:"flex-start",paddingLeft:Ce(20)},rightZone:{alignItems:"flex-end",paddingRight:Ce(20)},instructions:{position:"absolute",bottom:Ce(20),backgroundColor:"rgba(0,0,0,0.7)",paddingHorizontal:Ce(20),paddingVertical:Ce(10),borderRadius:Ce(20)},instructionText:{color:"#FFF",fontSize:De(14),textAlign:"center"}}),_e=n(3604),Ee=n(9910),Te=n(8205),Be=ne.default.get("window"),Oe=Be.width,Ue=(Be.height,function(){if("web"===$.default.OS){return Math.min(Oe/375,1.5)}return 1}()),Le=function(e){return e*Ue},ze=function(e){return e*Ue},Re=function(e){return e*Ue},Me=q.default.create({container:{flex:1,width:"100%",height:"100%"},mainContent:{flex:1,justifyContent:"center",alignItems:"center",width:"100%",maxWidth:"web"===$.default.OS?600:"100%",alignSelf:"center",paddingHorizontal:Le(20)},content:{width:"100%",alignItems:"center"},header:{alignItems:"center",marginBottom:ze(20)},logo:{width:Le(80),height:Le(80),marginBottom:ze(10)},title:{fontSize:Re(32),fontWeight:"bold",color:"#FFD700",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:2,height:2},textShadowRadius:5},subtitle:{fontSize:Re(14),color:"#FFA500",marginTop:ze(5)},userStatus:{flexDirection:"row",alignItems:"center",marginTop:ze(10),backgroundColor:"rgba(255, 255, 255, 0.1)",paddingHorizontal:Le(12),paddingVertical:ze(6),borderRadius:Le(20)},userName:{color:"#FFF",fontSize:Re(13),marginLeft:Le(6)},signUpBadge:{marginLeft:Le(8),backgroundColor:"#4CAF50",paddingHorizontal:Le(8),paddingVertical:ze(3),borderRadius:Le(10)},signUpBadgeText:{color:"#FFF",fontSize:Re(11),fontWeight:"bold"},statsContainer:{flexDirection:"row",justifyContent:"center",marginBottom:ze(20),gap:Le(10)},statCard:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:Le(12),padding:Le(12),alignItems:"center",minWidth:Le(80)},statValue:{fontSize:Re(18),fontWeight:"bold",color:"#FFF",marginTop:ze(4)},statLabel:{fontSize:Re(11),color:"#AAA",marginTop:ze(2)},playButton:{marginBottom:ze(20),width:"100%",maxWidth:Le(280)},playButtonGradient:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:ze(18),paddingHorizontal:Le(30),borderRadius:Le(30),elevation:5,shadowColor:"#FFD700",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5},playButtonText:{fontSize:Re(22),fontWeight:"bold",color:"#FFF",marginLeft:Le(10),letterSpacing:1},menuGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",gap:Le(10),marginBottom:ze(15),width:"100%"},menuButton:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:Le(12),padding:Le(12),alignItems:"center",minWidth:Le(100),flex:"web"===$.default.OS?0:1,flexBasis:"web"===$.default.OS?"auto":"45%"},menuButtonText:{fontSize:Re(12),color:"#FFF",marginTop:ze(4)},guestBenefits:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:Le(12),padding:Le(15),width:"100%",maxWidth:Le(400)},benefitsTitle:{fontSize:Re(16),fontWeight:"bold",color:"#FFD700",marginBottom:ze(8),textAlign:"center"},benefitsRow:{flexDirection:"row",justifyContent:"space-around",marginBottom:ze(10)},benefitsText:{fontSize:Re(12),color:"#FFF"},signUpButton:{marginTop:ze(10)},signUpButtonGradient:{padding:Le(12),borderRadius:Le(20),alignItems:"center"},signUpButtonText:{fontSize:Re(14),fontWeight:"bold",color:"#FFF"}});const Ve=function(e){var t=e.navigation,r=h().gameState,l=(0,i.useState)(!0),s=(0,a.default)(l,2),d=s[0],f=s[1],p=(0,i.useState)("Guest Player"),g=(0,a.default)(p,2),m=g[0],y=g[1],v=(0,i.useState)(0),b=(0,a.default)(v,2),x=b[0],w=b[1],F=(0,i.useState)(0),S=(0,a.default)(F,2),k=S[0],C=S[1],P=new te.default.Value(0),D=new te.default.Value(.8);(0,i.useEffect)(function(){A(),I(),te.default.parallel([te.default.timing(P,{toValue:1,duration:1e3,useNativeDriver:!0}),te.default.spring(D,{toValue:1,tension:50,friction:7,useNativeDriver:!0})]).start()},[]);var A=function(){var e=j.currentUser;e&&(f(!1),y(e.displayName||e.email||"Player"))},I=function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem("guest_high_score"),t=yield c.default.getItem("guest_coins");e&&w(parseInt(e,10)),t&&C(parseInt(t,10))}catch(n){console.log("Error loading guest data:",n)}});return function(){return e.apply(this,arguments)}}(),_=function(){t.navigate("Auth")};return(0,u.jsxs)(re.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:Me.container,children:[(0,u.jsx)(_e.default,{barStyle:"light-content",backgroundColor:"transparent",translucent:!0}),(0,u.jsx)(G.default,{style:Me.mainContent,children:(0,u.jsxs)(te.default.View,{style:[Me.content,{opacity:P,transform:[{scale:D}]}],children:[(0,u.jsxs)(G.default,{style:Me.header,children:[(0,u.jsx)(Ee.default,{source:n(528),style:Me.logo,resizeMode:"contain"}),(0,u.jsx)(ee.default,{style:Me.title,children:"Pot of Gold"}),(0,u.jsx)(ee.default,{style:Me.subtitle,children:"Catch the falling treasure!"}),(0,u.jsxs)(G.default,{style:Me.userStatus,children:[(0,u.jsx)(fe.default,{name:d?"person-outline":"person",size:Le(20),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Me.userName,children:m}),d&&(0,u.jsx)(de.default,{onPress:_,style:Me.signUpBadge,children:(0,u.jsx)(ee.default,{style:Me.signUpBadgeText,children:"Sign Up"})})]})]}),(0,u.jsxs)(G.default,{style:Me.statsContainer,children:[(0,u.jsxs)(G.default,{style:Me.statCard,children:[(0,u.jsx)(fe.default,{name:"star",size:Le(24),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Me.statValue,children:d?x.toLocaleString():r.highScore.toLocaleString()}),(0,u.jsx)(ee.default,{style:Me.statLabel,children:"High Score"})]}),(0,u.jsxs)(G.default,{style:Me.statCard,children:[(0,u.jsx)(fe.default,{name:"cash",size:Le(24),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Me.statValue,children:d?k.toLocaleString():r.coins.toLocaleString()}),(0,u.jsx)(ee.default,{style:Me.statLabel,children:"Coins"})]}),(0,u.jsxs)(G.default,{style:Me.statCard,children:[(0,u.jsx)(fe.default,{name:"trophy",size:Le(24),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Me.statValue,children:r.gamesPlayed}),(0,u.jsx)(ee.default,{style:Me.statLabel,children:"Games"})]})]}),(0,u.jsx)(de.default,{style:Me.playButton,onPress:function(){console.log("Play button pressed - navigating to Game"),t.navigate("Game")},activeOpacity:.8,children:(0,u.jsxs)(re.LinearGradient,{colors:["#FFD700","#FFA500","#FF8C00"],style:Me.playButtonGradient,children:[(0,u.jsx)(fe.default,{name:"play",size:Le(40),color:"#FFF"}),(0,u.jsx)(ee.default,{style:Me.playButtonText,children:"PLAY NOW"})]})}),(0,u.jsxs)(G.default,{style:Me.menuGrid,children:[(0,u.jsxs)(de.default,{style:Me.menuButton,onPress:function(){d?"web"===$.default.OS?window.confirm("Create an account to save your purchases and progress across devices!\n\nContinue as guest?")?t.navigate("Shop"):t.navigate("Auth"):Te.default.alert("Sign Up Recommended","Create an account to save your purchases and progress across devices!",[{text:"Sign Up",onPress:function(){return t.navigate("Auth")}},{text:"Continue as Guest",onPress:function(){return t.navigate("Shop")}}]):t.navigate("Shop")},children:[(0,u.jsx)(fe.default,{name:"cart",size:Le(24),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Me.menuButtonText,children:"Shop"})]}),(0,u.jsxs)(de.default,{style:Me.menuButton,onPress:function(){d?"web"===$.default.OS?(window.alert("You need an account to compete on the leaderboard!"),t.navigate("Auth")):Te.default.alert("Sign Up Required","You need an account to compete on the leaderboard!",[{text:"Sign Up",onPress:function(){return t.navigate("Auth")}},{text:"Cancel",style:"cancel"}]):t.navigate("Leaderboard")},children:[(0,u.jsx)(fe.default,{name:"podium",size:Le(24),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Me.menuButtonText,children:"Leaderboard"})]}),(0,u.jsxs)(de.default,{style:Me.menuButton,onPress:function(){t.navigate("Stats")},children:[(0,u.jsx)(fe.default,{name:"stats-chart",size:Le(24),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Me.menuButtonText,children:"Stats"})]}),(0,u.jsxs)(de.default,{style:Me.menuButton,onPress:function(){t.navigate("HowToPlay")},children:[(0,u.jsx)(fe.default,{name:"help-circle",size:Le(24),color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Me.menuButtonText,children:"How to Play"})]})]}),d&&(0,u.jsxs)(G.default,{style:Me.guestBenefits,children:[(0,u.jsx)(ee.default,{style:Me.benefitsTitle,children:"Playing as Guest"}),(0,u.jsxs)(G.default,{style:Me.benefitsRow,children:[(0,u.jsx)(ee.default,{style:Me.benefitsText,children:"\u2713 Full game access"}),(0,u.jsx)(ee.default,{style:Me.benefitsText,children:"\u2717 Progress not saved"})]}),(0,u.jsx)(de.default,{style:Me.signUpButton,onPress:_,children:(0,u.jsx)(re.LinearGradient,{colors:["#4CAF50","#45a049"],style:Me.signUpButtonGradient,children:(0,u.jsx)(ee.default,{style:Me.signUpButtonText,children:"Sign Up to Save Progress"})})})]})]})})]})};var Ne=n(8474),We=n(146),Ge=n(1147),He=n(2650);var qe=ne.default.get("window"),$e=qe.width,Ke=qe.height,Qe=($.default.OS,function(e){var t=e*($e/414);return Math.round(He.default.roundToNearestPixel(t))}),Ye=function(e){var t=e*(Ke/896);return Math.round(He.default.roundToNearestPixel(t))},Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return e+(Qe(e)-e)*t},Je=function(e){var t=Xe(e,.3),n=.8*e,r=1.2*e;return Math.min(Math.max(t,n),r)};$.default.OS,$.default.OS,$.default.OS,Qe(80),Ye(60),Qe(40),Qe(40),Qe(40),Qe(50),Qe(60);var Ze=ne.default.get("window");Ze.width,Ze.height;function et(e){var t=e.navigation,n=(0,i.useState)(!0),r=(0,a.default)(n,2),l=r[0],s=r[1],d=(0,i.useState)(""),f=(0,a.default)(d,2),p=f[0],g=f[1],h=(0,i.useState)(""),m=(0,a.default)(h,2),y=m[0],b=m[1],w=(0,i.useState)(""),F=(0,a.default)(w,2),S=F[0],k=F[1],C=(0,i.useState)(!1),P=(0,a.default)(C,2),D=P[0],A=P[1],I=(0,i.useState)(!1),_=(0,a.default)(I,2),E=_[0],T=_[1],B=function(){var e=(0,o.default)(function*(){if(p&&y&&S){A(!0),console.log("Starting sign up process...");try{var e=(yield(0,x.createUserWithEmailAndPassword)(j,p,y)).user;console.log("User created:",e.uid),yield(0,x.updateProfile)(e,{displayName:S}),yield(0,v.setDoc)((0,v.doc)(R,"users",e.uid),{uid:e.uid,email:e.email,displayName:S,createdAt:(new Date).toISOString(),coins:0,highScore:0,gamesPlayed:0,achievements:[],purchasedSkins:[],selectedSkin:"default"}),console.log("User profile created in Firestore"),yield c.default.setItem("user_uid",e.uid),yield c.default.setItem("user_name",S),"web"===$.default.OS?alert("Account created successfully!"):Te.default.alert("Success!","Account created successfully!"),t.replace("Home")}catch(r){console.error("Sign up error:",r);var n="Sign up failed. Please try again.";"auth/email-already-in-use"===r.code?n="This email is already registered.":"auth/weak-password"===r.code?n="Password should be at least 6 characters.":"auth/invalid-email"===r.code&&(n="Invalid email address."),"web"===$.default.OS?alert(n):Te.default.alert("Error",n)}finally{A(!1)}}else"web"===$.default.OS?alert("Please fill in all fields"):Te.default.alert("Error","Please fill in all fields")});return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.default)(function*(){if(p&&y){A(!0),console.log("Starting sign in process...");try{var e=(yield(0,x.signInWithEmailAndPassword)(j,p,y)).user;console.log("User signed in:",e.uid);var n=yield(0,v.getDoc)((0,v.doc)(R,"users",e.uid));if(n.exists()){var r,o,a=n.data();yield c.default.setItem("user_coins",(null==(r=a.coins)?void 0:r.toString())||"0"),yield c.default.setItem("user_high_score",(null==(o=a.highScore)?void 0:o.toString())||"0")}yield c.default.setItem("user_uid",e.uid),yield c.default.setItem("user_name",e.displayName||e.email||"Player"),"web"===$.default.OS?console.log("Sign in successful!"):Te.default.alert("Success!","Welcome back!"),t.replace("Home")}catch(l){console.error("Sign in error:",l);var i="Sign in failed. Please try again.";"auth/user-not-found"===l.code?i="No account found with this email.":"auth/wrong-password"===l.code?i="Incorrect password.":"auth/invalid-email"===l.code&&(i="Invalid email address."),"web"===$.default.OS?alert(i):Te.default.alert("Error",i)}finally{A(!1)}}else"web"===$.default.OS?alert("Please fill in all fields"):Te.default.alert("Error","Please fill in all fields")});return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,o.default)(function*(){A(!0),console.log("Starting guest play...");try{yield c.default.setItem("is_guest","true"),yield c.default.setItem("guest_started_at",(new Date).toISOString()),console.log("Guest mode activated"),t.replace("Home")}catch(e){console.error("Guest play error:",e),"web"===$.default.OS?alert("Failed to start guest mode. Please try again."):Te.default.alert("Error","Failed to start guest mode. Please try again.")}finally{A(!1)}});return function(){return e.apply(this,arguments)}}();return(0,u.jsx)(re.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:tt.container,children:(0,u.jsx)(We.default,{style:tt.keyboardView,behavior:"ios"===$.default.OS?"padding":"height",children:(0,u.jsxs)(Ge.default,{contentContainerStyle:tt.scrollContent,showsVerticalScrollIndicator:!1,children:[(0,u.jsxs)(G.default,{style:tt.header,children:[(0,u.jsx)(ee.default,{style:tt.logo,children:"\ud83d\udcb0"}),(0,u.jsx)(ee.default,{style:tt.title,children:"Pot of Gold"}),(0,u.jsx)(ee.default,{style:tt.subtitle,children:l?"Welcome Back!":"Create Your Account"})]}),(0,u.jsxs)(G.default,{style:tt.form,children:[!l&&(0,u.jsxs)(G.default,{style:tt.inputContainer,children:[(0,u.jsx)(fe.default,{name:"person-outline",size:Qe(20),color:"#888",style:tt.inputIcon}),(0,u.jsx)(Ne.default,{style:tt.input,placeholder:"Display Name",placeholderTextColor:"#888",value:S,onChangeText:k,autoCapitalize:"words"})]}),(0,u.jsxs)(G.default,{style:tt.inputContainer,children:[(0,u.jsx)(fe.default,{name:"mail-outline",size:Qe(20),color:"#888",style:tt.inputIcon}),(0,u.jsx)(Ne.default,{style:tt.input,placeholder:"Email",placeholderTextColor:"#888",value:p,onChangeText:g,keyboardType:"email-address",autoCapitalize:"none"})]}),(0,u.jsxs)(G.default,{style:tt.inputContainer,children:[(0,u.jsx)(fe.default,{name:"lock-closed-outline",size:Qe(20),color:"#888",style:tt.inputIcon}),(0,u.jsx)(Ne.default,{style:tt.input,placeholder:"Password",placeholderTextColor:"#888",value:y,onChangeText:b,secureTextEntry:!E}),(0,u.jsx)(de.default,{onPress:function(){return T(!E)},style:tt.eyeIcon,children:(0,u.jsx)(fe.default,{name:E?"eye-outline":"eye-off-outline",size:Qe(20),color:"#888"})})]}),(0,u.jsx)(de.default,{style:[tt.authButton,D&&tt.disabledButton],onPress:function(){l?O():B()},disabled:D,children:(0,u.jsx)(re.LinearGradient,{colors:["#FFD700","#FFA500","#FF8C00"],style:tt.authButtonGradient,children:D?(0,u.jsx)(H.default,{color:"#FFF"}):(0,u.jsx)(ee.default,{style:tt.authButtonText,children:l?"Sign In":"Create Account"})})}),(0,u.jsx)(de.default,{onPress:function(){s(!l),g(""),b(""),k("")},style:tt.toggleButton,children:(0,u.jsxs)(ee.default,{style:tt.toggleText,children:[l?"Don't have an account? ":"Already have an account? ",(0,u.jsx)(ee.default,{style:tt.toggleTextBold,children:l?"Sign Up":"Sign In"})]})}),(0,u.jsxs)(G.default,{style:tt.divider,children:[(0,u.jsx)(G.default,{style:tt.dividerLine}),(0,u.jsx)(ee.default,{style:tt.dividerText,children:"OR"}),(0,u.jsx)(G.default,{style:tt.dividerLine})]}),(0,u.jsxs)(de.default,{style:[tt.guestButton,D&&tt.disabledButton],onPress:U,disabled:D,children:[(0,u.jsx)(fe.default,{name:"game-controller-outline",size:Qe(24),color:"#FFF"}),(0,u.jsx)(ee.default,{style:tt.guestButtonText,children:"Play as Guest"})]}),(0,u.jsxs)(G.default,{style:tt.guestInfo,children:[(0,u.jsx)(ee.default,{style:tt.guestInfoText,children:"\ud83c\udfae Playing as guest allows full game access"}),(0,u.jsx)(ee.default,{style:tt.guestInfoText,children:"\u26a0\ufe0f Progress won't be saved without an account"})]})]})]})})})}var tt=q.default.create({container:{flex:1},keyboardView:{flex:1},scrollContent:{flexGrow:1,justifyContent:"center",padding:Qe(20),paddingTop:"ios"===$.default.OS?Ye(60):Ye(40)},header:{alignItems:"center",marginBottom:Ye(40)},logo:{fontSize:Je(60),marginBottom:Ye(10)},title:{fontSize:Je(32),fontWeight:"bold",color:"#FFD700",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:2,height:2},textShadowRadius:5},subtitle:{fontSize:Je(16),color:"#FFA500",marginTop:Ye(5)},form:{width:"100%",maxWidth:400,alignSelf:"center"},inputContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:Qe(10),marginBottom:Ye(15),paddingHorizontal:Qe(15)},inputIcon:{marginRight:Qe(10)},input:{flex:1,color:"#FFF",fontSize:Je(16),paddingVertical:Ye(15)},eyeIcon:{padding:Qe(5)},authButton:{marginTop:Ye(10),marginBottom:Ye(15)},authButtonGradient:{paddingVertical:Ye(15),borderRadius:Qe(10),alignItems:"center"},authButtonText:{fontSize:Je(18),fontWeight:"bold",color:"#FFF"},disabledButton:{opacity:.6},toggleButton:{alignItems:"center",marginBottom:Ye(20)},toggleText:{color:"#AAA",fontSize:Je(14)},toggleTextBold:{color:"#FFD700",fontWeight:"bold"},divider:{flexDirection:"row",alignItems:"center",marginVertical:Ye(20)},dividerLine:{flex:1,height:1,backgroundColor:"rgba(255, 255, 255, 0.2)"},dividerText:{color:"#888",marginHorizontal:Qe(10),fontSize:Je(14)},guestButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.1)",paddingVertical:Ye(15),borderRadius:Qe(10),marginBottom:Ye(15)},guestButtonText:{fontSize:Je(16),color:"#FFF",marginLeft:Qe(10),fontWeight:"600"},guestInfo:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:Qe(10),padding:Qe(15)},guestInfoText:{fontSize:Je(12),color:"#AAA",marginBottom:Ye(5)}}),nt=n(3533),rt=n(9216),ot=n(8734);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const lt=new((0,Q.default)(function e(){(0,K.default)(this,e),this.currentUser=null,this.userProfile=null,this.initializeAuthListener()},[{key:"initializeAuthListener",value:function(){var e=this;(0,x.onAuthStateChanged)(j,function(){var t=(0,o.default)(function*(t){e.currentUser=t,t?(yield e.loadUserProfile(t.uid),yield e.updateLastLogin(t.uid),Sentry.setUser({id:t.uid,email:t.email||void 0})):(e.userProfile=null,Sentry.setUser(null))});return function(e){return t.apply(this,arguments)}}())}},{key:"signUp",value:function(){var e=(0,o.default)(function*(e,t,n){try{var r=(yield(0,x.createUserWithEmailAndPassword)(j,e,t)).user;yield(0,x.updateProfile)(r,{displayName:n}),yield(0,x.sendEmailVerification)(r);var o={uid:r.uid,email:r.email,displayName:n,isAdmin:!1,createdAt:(0,v.serverTimestamp)(),lastLogin:(0,v.serverTimestamp)(),gameProgress:{level:1,coins:100,highScore:0,totalPlayTime:0,achievements:[],unlockedSkins:["default"],selectedSkin:"default",potLevel:1,potSpeed:1,potSize:1},settings:{soundEnabled:!0,vibrationEnabled:!0,notificationsEnabled:!0,language:"en"},subscription:{isActive:!1,type:"free",expiresAt:null}};return yield(0,v.setDoc)((0,v.doc)(S,"users",r.uid),o),Sentry.captureMessage("New user signup","info"),this.userProfile=o,o}catch(a){throw Sentry.captureException(a),this.handleAuthError(a)}});return function(t,n,r){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=(0,o.default)(function*(e,t){try{var n=(yield(0,x.signInWithEmailAndPassword)(j,e,t)).user,r=yield this.loadUserProfile(n.uid);if(!r)throw new Error("User profile not found");return yield this.updateLastLogin(n.uid),yield c.default.setItem("lastUserEmail",e),r}catch(o){throw Sentry.captureException(o),this.handleAuthError(o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"signOutUser",value:function(){var e=(0,o.default)(function*(){try{yield(0,x.signOut)(j),yield c.default.multiRemove(["lastUserEmail","userProfile"]),this.currentUser=null,this.userProfile=null}catch(e){throw Sentry.captureException(e),e}});return function(){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=(0,o.default)(function*(e){try{yield(0,x.sendPasswordResetEmail)(j,e),Sentry.captureMessage(`Password reset sent to ${e}`,"info")}catch(t){throw Sentry.captureException(t),this.handleAuthError(t)}});return function(t){return e.apply(this,arguments)}}()},{key:"loadUserProfile",value:function(){var e=(0,o.default)(function*(e){try{var t=(0,v.doc)(S,"users",e),n=yield(0,v.getDoc)(t);if(n.exists()){var r=n.data();return this.userProfile=r,yield c.default.setItem("userProfile",JSON.stringify(r)),yield this.preloadUserUnlocks(e),r}var o=yield c.default.getItem("userProfile");return o?JSON.parse(o):null}catch(i){Sentry.captureException(i);var a=yield c.default.getItem("userProfile");if(a)return JSON.parse(a);throw i}});return function(t){return e.apply(this,arguments)}}()},{key:"preloadUserUnlocks",value:function(){var e=(0,o.default)(function*(e){try{var t=(0,v.doc)(S,"users",e,"unlocks","data"),n=yield(0,v.getDoc)(t);n.exists()?(yield c.default.setItem(`unlocks_${e}`,JSON.stringify(n.data())),console.log("User unlocks preloaded successfully")):console.log("No unlocks data found, will be initialized on first access")}catch(r){console.error("Error preloading unlocks:",r)}});return function(t){return e.apply(this,arguments)}}()},{key:"updateUserProfile",value:function(){var e=(0,o.default)(function*(e){if(!this.currentUser)throw new Error("No user logged in");try{var t=(0,v.doc)(S,"users",this.currentUser.uid);yield(0,v.updateDoc)(t,e),this.userProfile&&(this.userProfile=it(it({},this.userProfile),e),yield c.default.setItem("userProfile",JSON.stringify(this.userProfile)))}catch(n){throw Sentry.captureException(n),n}});return function(t){return e.apply(this,arguments)}}()},{key:"saveGameProgress",value:function(){var e=(0,o.default)(function*(e){if(!this.currentUser)throw new Error("No user logged in");try{var t,n={gameProgress:it(it({},null==(t=this.userProfile)?void 0:t.gameProgress),e)};yield this.updateUserProfile(n)}catch(r){yield this.queueOfflineUpdate("gameProgress",e),Sentry.captureException(r)}});return function(t){return e.apply(this,arguments)}}()},{key:"updateLastLogin",value:function(){var e=(0,o.default)(function*(e){try{yield(0,v.updateDoc)((0,v.doc)(S,"users",e),{lastLogin:(0,v.serverTimestamp)()})}catch(t){console.log("Failed to update last login:",t)}});return function(t){return e.apply(this,arguments)}}()},{key:"queueOfflineUpdate",value:function(){var e=(0,o.default)(function*(e,t){var n=(yield c.default.getItem("offlineQueue"))||"[]",r=JSON.parse(n);r.push({type:e,data:t,timestamp:Date.now()}),yield c.default.setItem("offlineQueue",JSON.stringify(r))});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncOfflineUpdates",value:function(){var e=(0,o.default)(function*(){if(this.currentUser)try{var e=yield c.default.getItem("offlineQueue");if(!e)return;var t=JSON.parse(e);for(var n of t)"gameProgress"===n.type&&(yield this.saveGameProgress(n.data));yield c.default.removeItem("offlineQueue")}catch(r){Sentry.captureException(r)}});return function(){return e.apply(this,arguments)}}()},{key:"checkAdminStatus",value:function(){var e=(0,o.default)(function*(){if(!this.currentUser)return!1;try{return(yield(0,v.getDoc)((0,v.doc)(S,"admins",this.currentUser.uid))).exists()}catch(e){return!1}});return function(){return e.apply(this,arguments)}}()},{key:"getAllUsers",value:function(){var e=(0,o.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;if(!(yield this.checkAdminStatus()))throw new Error("Unauthorized: Admin access required");try{var t=(0,v.collection)(S,"users"),n=(0,v.query)(t,(0,v.orderBy)("createdAt","desc"),(0,v.limit)(e));return(yield(0,v.getDocs)(n)).docs.map(function(e){return e.data()})}catch(r){throw Sentry.captureException(r),r}});return function(){return e.apply(this,arguments)}}()},{key:"resetUserAccount",value:function(){var e=(0,o.default)(function*(e){if(!(yield this.checkAdminStatus()))throw new Error("Unauthorized: Admin access required");try{yield(0,v.updateDoc)((0,v.doc)(S,"users",e),{gameProgress:{level:1,coins:100,highScore:0,totalPlayTime:0,achievements:[],unlockedSkins:["default"],selectedSkin:"default",potLevel:1,potSpeed:1,potSize:1}}),Sentry.captureMessage(`Admin reset account for user ${e}`,"info")}catch(t){throw Sentry.captureException(t),t}});return function(t){return e.apply(this,arguments)}}()},{key:"handleAuthError",value:function(e){switch(e.code){case"auth/email-already-in-use":return new Error("This email is already registered");case"auth/invalid-email":return new Error("Invalid email address");case"auth/weak-password":return new Error("Password should be at least 6 characters");case"auth/user-not-found":return new Error("No account found with this email");case"auth/wrong-password":return new Error("Incorrect password");case"auth/network-request-failed":return new Error("Network error. Please check your connection");case"auth/too-many-requests":return new Error("Too many attempts. Please try again later");default:return new Error(e.message||"Authentication failed")}}},{key:"getCurrentUser",value:function(){return this.currentUser}},{key:"getUserProfile",value:function(){return this.userProfile}},{key:"isLoggedIn",value:function(){return null!==this.currentUser}}]));var st=n(2430);function ct(){var e=(0,i.useState)(!1),t=(0,a.default)(e,2),n=t[0],r=t[1],l=(0,i.useState)(!0),s=(0,a.default)(l,2),c=s[0],d=s[1],f=(0,i.useState)([]),p=(0,a.default)(f,2),g=p[0],h=p[1],m=(0,i.useState)({totalUsers:0,activeToday:0,premiumUsers:0,totalRevenue:0}),y=(0,a.default)(m,2),b=y[0],x=y[1],w=(0,i.useState)(""),F=(0,a.default)(w,2),j=F[0],k=F[1],C=(0,i.useState)(null),P=(0,a.default)(C,2),D=P[0],A=P[1],I=(0,i.useState)(!1),_=(0,a.default)(I,2),E=_[0],T=_[1],B=(0,i.useState)(!1),O=(0,a.default)(B,2),U=O[0],L=O[1];(0,i.useEffect)(function(){z()},[]);var z=function(){var e=(0,o.default)(function*(){try{var e=yield lt.checkAdminStatus();r(e),e?yield R():Te.default.alert("Access Denied","You do not have admin privileges")}catch(t){Te.default.alert("Error","Failed to verify admin access")}finally{d(!1)}});return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,o.default)(function*(){try{L(!0);var e=yield lt.getAllUsers(100);h(e);var t=new Date;t.setHours(0,0,0,0);var n=e.filter(function(e){var n;return(null!=(n=e.lastLogin)&&n.toDate?e.lastLogin.toDate():new Date(0))>=t}).length,r=e.filter(function(e){var t,n;return(null==(t=e.subscription)?void 0:t.isActive)&&"free"!==(null==(n=e.subscription)?void 0:n.type)}).length;x({totalUsers:e.length,activeToday:n,premiumUsers:r,totalRevenue:9.99*r})}catch(o){Te.default.alert("Error","Failed to load dashboard data")}finally{L(!1)}});return function(){return e.apply(this,arguments)}}(),M=g.filter(function(e){return e.email.toLowerCase().includes(j.toLowerCase())||e.displayName.toLowerCase().includes(j.toLowerCase())}),V=function(){var e=(0,o.default)(function*(e){Te.default.alert("Reset User Progress","Are you sure you want to reset this user's game progress?",[{text:"Cancel",style:"cancel"},{text:"Reset",style:"destructive",onPress:function(){var t=(0,o.default)(function*(){try{yield lt.resetUserAccount(e),Te.default.alert("Success","User progress has been reset"),yield R(),T(!1)}catch(t){Te.default.alert("Error","Failed to reset user progress")}});return function(){return t.apply(this,arguments)}}()}])});return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,o.default)(function*(e){try{var t=new Date;t.setDate(t.getDate()+30),yield(0,v.updateDoc)((0,v.doc)(S,"users",e),{subscription:{isActive:!0,type:"premium",expiresAt:t}}),Te.default.alert("Success","Premium access granted for 30 days"),yield R()}catch(n){Te.default.alert("Error","Failed to grant premium access")}});return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.default)(function*(e,t){try{var n=(0,v.doc)(S,"users",e),r=g.find(function(t){return t.uid===e});if(!r)return;yield(0,v.updateDoc)(n,{"gameProgress.coins":r.gameProgress.coins+t}),Te.default.alert("Success",`Added ${t} coins to user account`),yield R()}catch(o){Te.default.alert("Error","Failed to add coins")}});return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=(0,o.default)(function*(e){Te.default.alert("Delete User","Are you sure you want to delete this user account? This action cannot be undone.",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:function(){var t=(0,o.default)(function*(){try{yield(0,v.deleteDoc)((0,v.doc)(S,"users",e)),Te.default.alert("Success","User account deleted"),yield R(),T(!1)}catch(t){Te.default.alert("Error","Failed to delete user account")}});return function(){return t.apply(this,arguments)}}()}])});return function(t){return e.apply(this,arguments)}}();return c?(0,u.jsx)(G.default,{style:ut.loadingContainer,children:(0,u.jsx)(H.default,{size:"large",color:"#FFD700"})}):n?(0,u.jsxs)(re.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:ut.container,children:[(0,u.jsxs)(Ge.default,{refreshControl:(0,u.jsx)(nt.default,{refreshing:U,onRefresh:R,tintColor:"#FFD700"}),showsVerticalScrollIndicator:!1,children:[(0,u.jsx)(ee.default,{style:ut.title,children:"Admin Dashboard"}),(0,u.jsxs)(G.default,{style:ut.statsContainer,children:[(0,u.jsxs)(G.default,{style:ut.statCard,children:[(0,u.jsx)(fe.default,{name:"people",size:30,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:ut.statValue,children:b.totalUsers}),(0,u.jsx)(ee.default,{style:ut.statLabel,children:"Total Users"})]}),(0,u.jsxs)(G.default,{style:ut.statCard,children:[(0,u.jsx)(fe.default,{name:"trending-up",size:30,color:"#4CAF50"}),(0,u.jsx)(ee.default,{style:ut.statValue,children:b.activeToday}),(0,u.jsx)(ee.default,{style:ut.statLabel,children:"Active Today"})]}),(0,u.jsxs)(G.default,{style:ut.statCard,children:[(0,u.jsx)(fe.default,{name:"star",size:30,color:"#9C27B0"}),(0,u.jsx)(ee.default,{style:ut.statValue,children:b.premiumUsers}),(0,u.jsx)(ee.default,{style:ut.statLabel,children:"Premium Users"})]}),(0,u.jsxs)(G.default,{style:ut.statCard,children:[(0,u.jsx)(fe.default,{name:"cash",size:30,color:"#00BCD4"}),(0,u.jsxs)(ee.default,{style:ut.statValue,children:["$",b.totalRevenue.toFixed(2)]}),(0,u.jsx)(ee.default,{style:ut.statLabel,children:"Est. Revenue"})]})]}),(0,u.jsxs)(G.default,{style:ut.searchContainer,children:[(0,u.jsx)(fe.default,{name:"search",size:20,color:"#666",style:ut.searchIcon}),(0,u.jsx)(Ne.default,{style:ut.searchInput,placeholder:"Search users by email or name...",placeholderTextColor:"#666",value:j,onChangeText:function(e){k(e)}})]}),(0,u.jsx)(ee.default,{style:ut.sectionTitle,children:"Users"}),(0,u.jsx)(ot.default,{data:M,renderItem:function(e){var t=e.item;return(0,u.jsxs)(de.default,{style:ut.userCard,onPress:function(){A(t),T(!0),st.impactAsync(st.ImpactFeedbackStyle.Light)},children:[(0,u.jsxs)(G.default,{style:ut.userCardHeader,children:[(0,u.jsx)(ee.default,{style:ut.userName,children:t.displayName}),t.subscription.isActive&&(0,u.jsx)(G.default,{style:ut.premiumBadge,children:(0,u.jsx)(ee.default,{style:ut.premiumText,children:"PREMIUM"})})]}),(0,u.jsx)(ee.default,{style:ut.userEmail,children:t.email}),(0,u.jsxs)(G.default,{style:ut.userStats,children:[(0,u.jsxs)(ee.default,{style:ut.userStat,children:["Level ",t.gameProgress.level]}),(0,u.jsxs)(ee.default,{style:ut.userStat,children:["\ud83d\udcb0 ",t.gameProgress.coins]}),(0,u.jsxs)(ee.default,{style:ut.userStat,children:["\ud83c\udfc6 ",t.gameProgress.highScore]})]})]})},keyExtractor:function(e){return e.uid},scrollEnabled:!1,contentContainerStyle:ut.usersList})]}),D?(0,u.jsx)(rt.default,{visible:E,animationType:"slide",transparent:!0,onRequestClose:function(){return T(!1)},children:(0,u.jsx)(G.default,{style:ut.modalContainer,children:(0,u.jsxs)(G.default,{style:ut.modalContent,children:[(0,u.jsx)(de.default,{style:ut.closeButton,onPress:function(){return T(!1)},children:(0,u.jsx)(fe.default,{name:"close",size:24,color:"#666"})}),(0,u.jsx)(ee.default,{style:ut.modalTitle,children:"User Details"}),(0,u.jsxs)(Ge.default,{showsVerticalScrollIndicator:!1,children:[(0,u.jsxs)(G.default,{style:ut.userInfo,children:[(0,u.jsx)(ee.default,{style:ut.infoLabel,children:"Name:"}),(0,u.jsx)(ee.default,{style:ut.infoValue,children:D.displayName})]}),(0,u.jsxs)(G.default,{style:ut.userInfo,children:[(0,u.jsx)(ee.default,{style:ut.infoLabel,children:"Email:"}),(0,u.jsx)(ee.default,{style:ut.infoValue,children:D.email})]}),(0,u.jsxs)(G.default,{style:ut.userInfo,children:[(0,u.jsx)(ee.default,{style:ut.infoLabel,children:"Level:"}),(0,u.jsx)(ee.default,{style:ut.infoValue,children:D.gameProgress.level})]}),(0,u.jsxs)(G.default,{style:ut.userInfo,children:[(0,u.jsx)(ee.default,{style:ut.infoLabel,children:"Coins:"}),(0,u.jsx)(ee.default,{style:ut.infoValue,children:D.gameProgress.coins})]}),(0,u.jsxs)(G.default,{style:ut.userInfo,children:[(0,u.jsx)(ee.default,{style:ut.infoLabel,children:"High Score:"}),(0,u.jsx)(ee.default,{style:ut.infoValue,children:D.gameProgress.highScore})]}),(0,u.jsxs)(G.default,{style:ut.userInfo,children:[(0,u.jsx)(ee.default,{style:ut.infoLabel,children:"Subscription:"}),(0,u.jsx)(ee.default,{style:ut.infoValue,children:D.subscription.isActive?D.subscription.type:"Free"})]}),(0,u.jsxs)(G.default,{style:ut.actionButtons,children:[(0,u.jsx)(de.default,{style:[ut.actionButton,{backgroundColor:"#4CAF50"}],onPress:function(){return W(D.uid,1e3)},children:(0,u.jsx)(ee.default,{style:ut.actionButtonText,children:"Add 1000 Coins"})}),(0,u.jsx)(de.default,{style:[ut.actionButton,{backgroundColor:"#9C27B0"}],onPress:function(){return N(D.uid)},children:(0,u.jsx)(ee.default,{style:ut.actionButtonText,children:"Grant Premium"})}),(0,u.jsx)(de.default,{style:[ut.actionButton,{backgroundColor:"#FF9800"}],onPress:function(){return V(D.uid)},children:(0,u.jsx)(ee.default,{style:ut.actionButtonText,children:"Reset Progress"})}),(0,u.jsx)(de.default,{style:[ut.actionButton,{backgroundColor:"#F44336"}],onPress:function(){return q(D.uid)},children:(0,u.jsx)(ee.default,{style:ut.actionButtonText,children:"Delete Account"})})]})]})]})})}):null]}):(0,u.jsxs)(G.default,{style:ut.container,children:[(0,u.jsx)(ee.default,{style:ut.errorText,children:"Access Denied"}),(0,u.jsx)(ee.default,{style:ut.errorSubtext,children:"Admin privileges required"})]})}var ut=q.default.create({container:{flex:1,paddingTop:50},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a2e"},title:{fontSize:32,fontWeight:"bold",color:"#FFD700",textAlign:"center",marginBottom:20},statsContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",paddingHorizontal:10,marginBottom:20},statCard:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:15,padding:15,alignItems:"center",width:"45%",marginVertical:10},statValue:{fontSize:24,fontWeight:"bold",color:"white",marginTop:10},statLabel:{fontSize:12,color:"#999",marginTop:5},searchContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:10,marginHorizontal:20,marginBottom:20,paddingHorizontal:15},searchIcon:{marginRight:10},searchInput:{flex:1,height:45,color:"white",fontSize:16},sectionTitle:{fontSize:20,fontWeight:"bold",color:"white",marginLeft:20,marginBottom:10},usersList:{paddingHorizontal:20,paddingBottom:20},userCard:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:10,padding:15,marginBottom:10},userCardHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:5},userName:{fontSize:18,fontWeight:"bold",color:"white"},userEmail:{fontSize:14,color:"#999",marginBottom:10},userStats:{flexDirection:"row",justifyContent:"space-around"},userStat:{fontSize:12,color:"#FFD700"},premiumBadge:{backgroundColor:"#9C27B0",paddingHorizontal:8,paddingVertical:3,borderRadius:5},premiumText:{fontSize:10,color:"white",fontWeight:"bold"},errorText:{fontSize:24,fontWeight:"bold",color:"#F44336",textAlign:"center"},errorSubtext:{fontSize:16,color:"#999",textAlign:"center",marginTop:10},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.8)"},modalContent:{backgroundColor:"#1a1a2e",borderRadius:20,padding:20,width:"90%",maxHeight:"80%"},closeButton:{position:"absolute",right:15,top:15,zIndex:1},modalTitle:{fontSize:24,fontWeight:"bold",color:"#FFD700",textAlign:"center",marginBottom:20},userInfo:{flexDirection:"row",justifyContent:"space-between",paddingVertical:10,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},infoLabel:{fontSize:14,color:"#999"},infoValue:{fontSize:14,color:"white",fontWeight:"bold"},actionButtons:{marginTop:20},actionButton:{paddingVertical:12,paddingHorizontal:20,borderRadius:10,marginVertical:5,alignItems:"center"},actionButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),dt=n(4432),ft=n(45),pt=n(1250),gt=n.n(pt),ht="revenuecat_entitlements_cache",mt=function(){function e(){(0,K.default)(this,e),this.isInitialized=!1}return(0,Q.default)(e,[{key:"initialize",value:function(){var e=(0,o.default)(function*(e){var t=this;if(!this.isInitialized||this.currentUserId!==e)try{var n=$.default.select({ios:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.REVENUECAT_API_KEY_IOS,android:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"Pot of Gold",slug:"pot-of-gold",version:"1.0.0",orientation:"default",icon:"./assets/images/pot_of_gold_icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/images/pot_of_gold_splash.png",resizeMode:"contain",backgroundColor:"#FFA500"},web:{},extra:{company:{name:"Cien Rios LLC",dba:"Pot of Gold",website:"https://pofgold.com",supportEmail:"support@pofgold.com",privacyEmail:"privacy@pofgold.com",location:"Miami, FL, USA"},legal:{termsUrl:"https://pofgold.com/terms",privacyUrl:"https://pofgold.com/privacy",minAge:13,governingLaw:"State of Florida, United States"}},sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.REVENUECAT_API_KEY_ANDROID});if(!n)return void console.warn("RevenueCat API key not found. Subscriptions will be disabled.");gt().setLogLevel(pt.LOG_LEVEL.ERROR),yield gt().configure({apiKey:n,appUserID:e||null,observerMode:!1,useAmazon:!1}),this.isInitialized=!0,this.currentUserId=e,gt().addCustomerInfoUpdateListener(function(e){t.cacheEntitlements(e.entitlements)}),console.log("RevenueCat initialized successfully")}catch(r){throw console.error("Failed to initialize RevenueCat:",r),r}});return function(t){return e.apply(this,arguments)}}()},{key:"getCustomerInfo",value:function(){var e=(0,o.default)(function*(){if(!this.isInitialized)return console.warn("RevenueCat not initialized"),null;try{return yield gt().getCustomerInfo()}catch(t){console.error("Error getting customer info:",t);var e=yield this.getCachedEntitlements();return e&&this.isCacheValid(e)?{entitlements:e.entitlements}:null}});return function(){return e.apply(this,arguments)}}()},{key:"getOfferings",value:function(){var e=(0,o.default)(function*(){if(!this.isInitialized)return console.warn("RevenueCat not initialized"),null;try{return yield gt().getOfferings()}catch(e){return console.error("Error getting offerings:",e),null}});return function(){return e.apply(this,arguments)}}()},{key:"purchasePackage",value:function(){var e=(0,o.default)(function*(e){if(!this.isInitialized)return console.warn("RevenueCat not initialized"),null;try{var t=(yield gt().purchasePackage(e)).customerInfo;return yield this.cacheEntitlements(t.entitlements),t}catch(r){var n=r;if(n.code===pt.PURCHASES_ERROR_CODE.USER_CANCELLED)console.log("User cancelled purchase");else{if(n.code===pt.PURCHASES_ERROR_CODE.PRODUCT_ALREADY_PURCHASED)return console.log("Product already purchased"),yield this.restorePurchases();console.error("Purchase error:",n)}throw r}});return function(t){return e.apply(this,arguments)}}()},{key:"restorePurchases",value:function(){var e=(0,o.default)(function*(){if(!this.isInitialized)return console.warn("RevenueCat not initialized"),null;try{var e=yield gt().restorePurchases();return yield this.cacheEntitlements(e.entitlements),e}catch(t){throw console.error("Error restoring purchases:",t),t}});return function(){return e.apply(this,arguments)}}()},{key:"checkEntitlement",value:function(){var e=(0,o.default)(function*(e){var t=yield this.getCustomerInfo();if(!t)return!1;var n=t.entitlements.active[e];return!0===(null==n?void 0:n.isActive)});return function(t){return e.apply(this,arguments)}}()},{key:"getActiveEntitlements",value:function(){var e=(0,o.default)(function*(){var e=yield this.getCustomerInfo();return e?Object.keys(e.entitlements.active).filter(function(t){return e.entitlements.active[t].isActive}):[]});return function(){return e.apply(this,arguments)}}()},{key:"manageSubscriptions",value:function(){var e=(0,o.default)(function*(){"ios"===$.default.OS?yield gt().showManageSubscriptions():n(919).default.openURL("https://play.google.com/store/account/subscriptions")});return function(){return e.apply(this,arguments)}}()},{key:"cacheEntitlements",value:function(){var e=(0,o.default)(function*(e){try{var t={entitlements:e,timestamp:Date.now(),userId:this.currentUserId};yield c.default.setItem(ht,JSON.stringify(t))}catch(n){console.error("Error caching entitlements:",n)}});return function(t){return e.apply(this,arguments)}}()},{key:"getCachedEntitlements",value:function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem(ht);return e?JSON.parse(e):null}catch(t){return console.error("Error getting cached entitlements:",t),null}});return function(){return e.apply(this,arguments)}}()},{key:"isCacheValid",value:function(e){return Date.now()-e.timestamp<6048e5&&e.userId===this.currentUserId}},{key:"clearCache",value:function(){var e=(0,o.default)(function*(){try{yield c.default.removeItem(ht)}catch(e){console.error("Error clearing cache:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"getSubscriptionStatus",value:function(){var e=(0,o.default)(function*(){var e=yield this.getCustomerInfo();if(!e)return{isActive:!1};var t=e.entitlements.active.gold_vault;return t&&t.isActive?{isActive:!0,expiresAt:t.expirationDate||void 0,willRenew:t.willRenew,platform:t.store}:{isActive:!1}});return function(){return e.apply(this,arguments)}}()},{key:"syncPurchases",value:function(){var e=(0,o.default)(function*(){if(this.isInitialized)try{yield gt().syncPurchases(),console.log("Purchases synced successfully")}catch(e){console.error("Error syncing purchases:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=(0,o.default)(function*(){if(this.isInitialized)try{yield gt().logOut(),yield this.clearCache(),this.currentUserId=void 0,console.log("Logged out from RevenueCat")}catch(e){console.error("Error logging out:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"openManageSubscriptions",value:function(){var e=(0,o.default)(function*(){if(!this.isInitialized)throw new Error("RevenueCat not initialized");try{"ios"===$.default.OS?console.log("Opening iOS subscription management..."):"android"===$.default.OS&&console.log("Opening Android subscription management...")}catch(e){throw console.error("Error opening subscription management:",e),e}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}(),yt=mt.getInstance(),vt=mt.getInstance();function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var wt="gold_vault_entitlement",Ft="gold_vault",St=function(e){var t=(0,i.useState)({isSubscriber:!1,entitlements:[],isLoading:!0,error:null}),n=(0,a.default)(t,2),r=n[0],l=n[1],s=(0,i.useCallback)((0,o.default)(function*(){try{var e=yield c.default.getItem(wt);if(e){var t=JSON.parse(e),n=Date.now();(t.expiresAt>n||n-t.cachedAt<6048e5)&&l(function(e){return xt(xt({},e),{},{isSubscriber:!0,entitlements:t.entitlements||[Ft],expiresAt:t.expiresAt,willRenew:t.willRenew})})}}catch(r){console.error("Error loading cached entitlement:",r)}}),[]),u=(0,i.useCallback)((0,o.default)(function*(){l(function(e){return xt(xt({},e),{},{isLoading:!0,error:null})});try{yield yt.initialize(e);var t=yield yt.getCustomerInfo();if(!t)return void l(function(e){return xt(xt({},e),{},{isSubscriber:!1,entitlements:[],isLoading:!1})});var n,r=t.entitlements.active[Ft],o=!0===(null==r?void 0:r.isActive),a=Object.keys(t.entitlements.active).filter(function(e){return t.entitlements.active[e].isActive});null!=r&&r.expirationDate&&(n=new Date(r.expirationDate).getTime()),l({isSubscriber:o,entitlements:a,isLoading:!1,error:null,expiresAt:n,willRenew:null==r?void 0:r.willRenew}),o?yield c.default.setItem(wt,JSON.stringify({entitlements:a,expiresAt:n,willRenew:null==r?void 0:r.willRenew,cachedAt:Date.now()})):yield c.default.removeItem(wt),e&&R&&(yield d(e,{active:o,expiresAt:n,entitlementIds:a}))}catch(i){console.error("Error fetching entitlements:",i),l(function(e){return xt(xt({},e),{},{isLoading:!1,error:i})}),yield s()}}),[e,s]),d=function(){var e=(0,o.default)(function*(e,t){try{var n=(0,v.doc)(R,"users",e);(yield(0,v.getDoc)(n)).exists()&&(yield(0,v.updateDoc)(n,{subscription:t,updatedAt:(new Date).toISOString()}))}catch(r){console.error("Error syncing to Firebase:",r)}});return function(t,n){return e.apply(this,arguments)}}(),f=(0,i.useCallback)((0,o.default)(function*(){yield u()}),[u]),p=(0,i.useCallback)(function(e){return r.entitlements.includes(e)},[r.entitlements]),g=(0,i.useCallback)(function(){return!!r.expiresAt&&Date.now()>r.expiresAt},[r.expiresAt]),h=(0,i.useCallback)(function(){if(!r.expiresAt)return null;var e=r.expiresAt-Date.now();return e<0?0:Math.ceil(e/864e5)},[r.expiresAt]);return(0,i.useEffect)(function(){s().then(function(){u()})},[e]),(0,i.useEffect)(function(){return function(){}},[u]),{isSubscriber:r.isSubscriber,entitlements:r.entitlements,isLoading:r.isLoading,error:r.error,expiresAt:r.expiresAt,willRenew:r.willRenew,refresh:f,hasEntitlement:p,isExpired:g,getDaysUntilExpiration:h}},jt=n(3576),kt=ne.default.get("window"),Ct=kt.width,Pt=kt.height,Dt=Ct<375,At=Ct>=375&&Ct<768,It=Ct>=768&&Ct<1024,_t=Ct>=1024,Et=function(e){var t=Ct/375,n=Math.min(1.5,Math.max(.85,t));return Math.round(e*n)},Tt={colors:{primary:"#FFD700",secondary:"#FFA500",accent:"#4CAF50",background:"#1a1a2e",surface:"#16213e",error:"#ff4444",warning:"#ff9800",success:"#4CAF50",text:{primary:"#FFFFFF",secondary:"#B0B0B0",disabled:"#666666"},gradient:{gold:["#FFD700","#FFA500"],rainbow:["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#8B00FF"],dark:["#1a1a2e","#0f1419"],success:["#4CAF50","#45a049"]}},typography:{h1:{fontSize:Et(32),fontWeight:"bold",color:"#FFD700",textShadowColor:"rgba(0, 0, 0, 0.75)",textShadowOffset:{width:2,height:2},textShadowRadius:5},h2:{fontSize:Et(24),fontWeight:"bold",color:"#FFFFFF"},h3:{fontSize:Et(20),fontWeight:"600",color:"#FFFFFF"},body:{fontSize:Et(16),color:"#FFFFFF",lineHeight:Et(22)},caption:{fontSize:Et(12),color:"#B0B0B0"},button:{fontSize:Et(16),fontWeight:"bold",color:"#FFFFFF",textTransform:"uppercase"},score:{fontSize:Et(28),fontWeight:"bold",color:"#FFD700",fontFamily:$.default.select({ios:"Helvetica Neue",android:"Roboto",web:"system-ui, -apple-system, sans-serif"})}},spacing:{xs:Et(4),sm:Et(8),md:Et(16),lg:Et(24),xl:Et(32),xxl:Et(48)},borderRadius:{sm:Et(4),md:Et(8),lg:Et(16),xl:Et(24),round:9999},shadows:{sm:$.default.select({ios:{shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22},android:{elevation:3},web:{boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"}}),md:$.default.select({ios:{shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.27,shadowRadius:4.65},android:{elevation:6},web:{boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)"}}),lg:$.default.select({ios:{shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.34,shadowRadius:6.27},android:{elevation:10},web:{boxShadow:"0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)"}})},breakpoints:{small:375,medium:768,large:1024,xlarge:1440},device:{isSmall:Dt,isMedium:At,isLarge:It,isExtraLarge:_t,isTablet:Ct>=768,isPhone:Ct<768,isWeb:"web"===$.default.OS,isMobile:"web"!==$.default.OS},game:{cart:{width:Et(60),height:Et(40)},items:{small:Et(20),medium:Et(30),large:Et(40)},playArea:{maxWidth:Math.min(Ct,600),maxHeight:Math.min(Pt,900),padding:Et(20)},hud:{scoreHeight:Et(60),buttonSize:Et(44),iconSize:Et(24)}},animations:{fast:200,normal:300,slow:500,verySlow:1e3},platform:{statusBarHeight:$.default.select({ios:44,android:24,web:0}),navBarHeight:$.default.select({ios:44,android:56,web:60}),tabBarHeight:$.default.select({ios:49,android:56,web:56})}};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ut=function(){function e(){(0,K.default)(this,e),this.auditQueue=[],this.isOnline=!0,this.setupNetworkListener(),this.processQueuePeriodically()}return(0,Q.default)(e,[{key:"setupNetworkListener",value:function(){}},{key:"processQueuePeriodically",value:function(){var e=(0,o.default)(function*(){var e=this;setInterval((0,o.default)(function*(){e.isOnline&&e.auditQueue.length>0&&(yield e.flushQueue())}),3e4)});return function(){return e.apply(this,arguments)}}()},{key:"flushQueue",value:function(){var e=(0,o.default)(function*(){var e=(0,y.default)(this.auditQueue);for(var t of(this.auditQueue=[],e))try{yield this.saveToFirebase(t)}catch(n){console.error("Failed to save audit record:",n),this.auditQueue.push(t)}});return function(){return e.apply(this,arguments)}}()},{key:"saveToFirebase",value:function(){var e=(0,o.default)(function*(e){try{var t=Ot(Ot({},e),{},{serverTimestamp:(0,v.serverTimestamp)(),clientTimestamp:(new Date).toISOString(),appVersion:"1.0.0",platform:"mobile",userAgent:"undefined"!==typeof navigator?navigator.userAgent:"React Native"});if(j.currentUser){var n=(0,v.collection)(S,"legal_audit");yield(0,v.addDoc)(n,Ot(Ot({},t),{},{userId:j.currentUser.uid,userEmail:j.currentUser.email}));var r=yield c.default.getItem("anonymous_legal_doc_id");if(r){var o=(0,v.doc)(S,"legal_audit_anonymous",r);yield(0,v.setDoc)(o,{linkedUserId:j.currentUser.uid},{merge:!0}),yield c.default.removeItem("anonymous_legal_doc_id")}}else{var a=(0,v.collection)(S,"legal_audit_anonymous"),i=yield(0,v.addDoc)(a,t);yield c.default.setItem("anonymous_legal_doc_id",i.id)}}catch(l){throw console.error("Failed to save to Firebase:",l),l}});return function(t){return e.apply(this,arguments)}}()},{key:"recordInitialAcceptance",value:function(){var e=(0,o.default)(function*(e,t){var n,r=yield this.getDeviceId(),o={userId:null==(n=j.currentUser)?void 0:n.uid,deviceId:r,timestamp:(new Date).toISOString(),acceptanceType:"initial",documentsAccepted:e,legalVersion:"2.0",scrolledDocuments:!0,timeSpentReading:t};yield this.saveLocally("initial_acceptance",o),this.auditQueue.push(o),this.isOnline&&(yield this.flushQueue())});return function(t,n){return e.apply(this,arguments)}}()},{key:"recordUpdateAcceptance",value:function(){var e=(0,o.default)(function*(e,t){var n,r=yield this.getDeviceId(),o={userId:null==(n=j.currentUser)?void 0:n.uid,deviceId:r,timestamp:(new Date).toISOString(),acceptanceType:"update",documentsAccepted:e,legalVersion:"2.0",scrolledDocuments:!0,timeSpentReading:t};yield this.saveLocally("update_acceptance",o),this.auditQueue.push(o),this.isOnline&&(yield this.flushQueue())});return function(t,n){return e.apply(this,arguments)}}()},{key:"recordPurchaseDisclaimer",value:function(){var e=(0,o.default)(function*(e,t,n){var r,o={userId:null==(r=j.currentUser)?void 0:r.uid,timestamp:(new Date).toISOString(),type:"purchase",accepted:e,purchaseAmount:t,itemDetails:n};yield this.saveLocally("purchase_disclaimer",o),this.auditQueue.push(Ot({type:"disclaimer"},o)),this.isOnline&&(yield this.flushQueue())});return function(t,n,r){return e.apply(this,arguments)}}()},{key:"recordReminderDisclaimer",value:function(){var e=(0,o.default)(function*(e){var t,n={userId:null==(t=j.currentUser)?void 0:t.uid,timestamp:(new Date).toISOString(),type:"reminder",accepted:e};yield this.saveLocally("reminder_disclaimer",n),this.auditQueue.push(Ot({type:"disclaimer"},n)),this.isOnline&&(yield this.flushQueue())});return function(t){return e.apply(this,arguments)}}()},{key:"saveLocally",value:function(){var e=(0,o.default)(function*(e,t){try{var n=yield c.default.getItem(`legal_audit_${e}`),r=n?JSON.parse(n):[];r.push(t),r.length>50&&r.splice(0,r.length-50),yield c.default.setItem(`legal_audit_${e}`,JSON.stringify(r))}catch(o){console.error("Failed to save audit record locally:",o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getDeviceId",value:function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem("device_id");return e||(e=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,yield c.default.setItem("device_id",e)),e}catch(t){return`temp_${Date.now()}`}});return function(){return e.apply(this,arguments)}}()},{key:"getAcceptanceHistory",value:function(){var e=(0,o.default)(function*(){var e=[];try{for(var t of["legal_audit_initial_acceptance","legal_audit_update_acceptance","legal_audit_purchase_disclaimer","legal_audit_reminder_disclaimer"]){var n=yield c.default.getItem(t);if(n){var r=JSON.parse(n);e.push.apply(e,(0,y.default)(r))}}e.sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()})}catch(o){console.error("Failed to get acceptance history:",o)}return e});return function(){return e.apply(this,arguments)}}()},{key:"verifyUserAcceptance",value:function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem("legal_audit_initial_acceptance"),t=yield c.default.getItem("legal_audit_update_acceptance"),n=null;if(e){var r=JSON.parse(e);r.length>0&&(n=r[r.length-1])}if(t){var o=JSON.parse(t);if(o.length>0){var a=o[o.length-1];(!n||new Date(a.timestamp)>new Date(n.timestamp))&&(n=a)}}return n?{hasAccepted:!0,acceptanceDate:n.timestamp,version:n.legalVersion}:{hasAccepted:!1}}catch(i){return console.error("Failed to verify user acceptance:",i),{hasAccepted:!1}}});return function(){return e.apply(this,arguments)}}()},{key:"exportAuditLog",value:function(){var e=(0,o.default)(function*(){var e=yield this.getAcceptanceHistory();return JSON.stringify(e,null,2)});return function(){return e.apply(this,arguments)}}()},{key:"clearLocalAuditLog",value:function(){var e=(0,o.default)(function*(){for(var e of["legal_audit_initial_acceptance","legal_audit_update_acceptance","legal_audit_purchase_disclaimer","legal_audit_reminder_disclaimer"])yield c.default.removeItem(e)});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance();var Lt=q.default.create({container:{flex:1,backgroundColor:Tt.colors.background},scrollView:{flex:1},header:{padding:20,alignItems:"center"},title:{fontSize:28,fontWeight:"bold",color:Tt.colors.primary,marginBottom:10},subtitle:{fontSize:16,color:"#999",textAlign:"center"},section:{padding:20},checkbox:{flexDirection:"row",alignItems:"center",padding:15,marginVertical:8,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:10,borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)"},checkboxActive:{backgroundColor:"rgba(255, 215, 0, 0.1)",borderColor:Tt.colors.primary},checkboxText:{color:"#FFF",fontSize:16},warningBox:{margin:20,padding:15,backgroundColor:"rgba(255, 0, 0, 0.1)",borderRadius:10,borderWidth:1,borderColor:"#FF4444"},warningTitle:{fontSize:18,fontWeight:"bold",color:"#FF4444",marginBottom:10},warningText:{color:"#FFF",fontSize:14,lineHeight:20},buttonContainer:{flexDirection:"row",padding:20,gap:10},button:{flex:1,padding:15,borderRadius:10,alignItems:"center"},declineButton:{backgroundColor:"#666"},acceptButton:{backgroundColor:Tt.colors.success},disabledButton:{opacity:.5},buttonText:{color:"#FFF",fontSize:16,fontWeight:"bold"}});const zt=function(e){var t,n,r=e.navigation,l=e.route,s=null==l||null==(t=l.params)?void 0:t.onAccept,d=null==l||null==(n=l.params)?void 0:n.onDecline,f=(0,i.useState)(!1),p=(0,a.default)(f,2),g=p[0],h=p[1],m=(0,i.useState)(Date.now()),y=(0,a.default)(m,1)[0],v=(0,i.useState)(!1),b=(0,a.default)(v,2),x=b[0],w=b[1],F=(0,i.useState)(!1),S=(0,a.default)(F,2),j=S[0],k=S[1],C=(0,i.useState)(!1),P=(0,a.default)(C,2),D=P[0],A=P[1],I=function(){var e=(0,o.default)(function*(){if(x&&j&&D){h(!0),console.log("Accepting legal agreements...");try{yield c.default.setItem("legal_accepted","true"),yield c.default.setItem("legal_version_accepted","2.0");var e=Math.floor((Date.now()-y)/1e3);yield Ut.recordInitialAcceptance({termsOfService:x,privacyPolicy:j,eula:D},e),console.log("Legal agreements accepted, calling onAccept callback..."),s&&(yield s()),console.log("Navigating to Onboarding screen..."),r?r.replace("Onboarding"):console.error("No navigation object available")}catch(t){console.error("Error saving agreement:",t),"web"===$.default.OS?alert("Failed to save agreement. Please try again."):Te.default.alert("Error","Failed to save agreement. Please try again.")}finally{h(!1)}}else"web"===$.default.OS?alert("You must accept all agreements to continue."):Te.default.alert("Required","You must accept all agreements to continue.")});return function(){return e.apply(this,arguments)}}();return(0,u.jsx)(jt.default,{style:Lt.container,children:(0,u.jsxs)(Ge.default,{style:Lt.scrollView,children:[(0,u.jsxs)(G.default,{style:Lt.header,children:[(0,u.jsx)(ee.default,{style:Lt.title,children:"\u2696\ufe0f Legal Agreements"}),(0,u.jsx)(ee.default,{style:Lt.subtitle,children:"Please read and accept our legal agreements"})]}),(0,u.jsxs)(G.default,{style:Lt.section,children:[(0,u.jsx)(de.default,{style:[Lt.checkbox,x&&Lt.checkboxActive],onPress:function(){return w(!x)},children:(0,u.jsxs)(ee.default,{style:Lt.checkboxText,children:[x?"\u2611":"\u2610"," I accept the Terms of Service"]})}),(0,u.jsx)(de.default,{style:[Lt.checkbox,j&&Lt.checkboxActive],onPress:function(){return k(!j)},children:(0,u.jsxs)(ee.default,{style:Lt.checkboxText,children:[j?"\u2611":"\u2610"," I accept the Privacy Policy"]})}),(0,u.jsx)(de.default,{style:[Lt.checkbox,D&&Lt.checkboxActive],onPress:function(){return A(!D)},children:(0,u.jsxs)(ee.default,{style:Lt.checkboxText,children:[D?"\u2611":"\u2610"," I accept the End User License Agreement"]})})]}),(0,u.jsxs)(G.default,{style:Lt.warningBox,children:[(0,u.jsx)(ee.default,{style:Lt.warningTitle,children:"\u26a0\ufe0f IMPORTANT"}),(0,u.jsxs)(ee.default,{style:Lt.warningText,children:["\u2022 Virtual items have NO real money value","\n","\u2022 This is NOT a gambling game","\n","\u2022 All purchases are FINAL","\n","\u2022 You must be 13+ years old"]})]}),(0,u.jsxs)(G.default,{style:Lt.buttonContainer,children:[(0,u.jsx)(de.default,{style:[Lt.button,Lt.declineButton],onPress:function(){console.log("Legal agreements declined"),d?d():console.warn("No onDecline callback provided")},disabled:g,children:(0,u.jsx)(ee.default,{style:Lt.buttonText,children:"Decline"})}),(0,u.jsx)(de.default,{style:[Lt.button,Lt.acceptButton,(!x||!j||!D)&&Lt.disabledButton],onPress:I,disabled:g||!x||!j||!D,children:g?(0,u.jsx)(H.default,{color:"#FFF"}):(0,u.jsx)(ee.default,{style:Lt.buttonText,children:"Accept All"})})]})]})})};var Rt=ne.default.get("window").width>=768;function Mt(){var e=(0,ft.useNavigation)(),t=St(),n=t.isSubscribed,r=(t.isLoading,i.useState(!0)),l=(0,a.default)(r,2),s=l[0],d=l[1],f=i.useState(!0),p=(0,a.default)(f,2),g=p[0],h=p[1],m=i.useState(!0),y=(0,a.default)(m,2),v=y[0],b=y[1],x=(0,i.useState)(!1),w=(0,a.default)(x,2),F=w[0],S=w[1];i.useEffect(function(){j()},[]);var j=function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem("soundEnabled"),t=yield c.default.getItem("hapticsEnabled"),n=yield c.default.getItem("notificationsEnabled");null!==e&&d("true"===e),null!==t&&h("true"===t),null!==n&&b("true"===n)}catch(r){console.error("Error loading settings:",r)}});return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.default)(function*(e){d(e),yield c.default.setItem("soundEnabled",e.toString()),g&&st.impactAsync(st.ImpactFeedbackStyle.Light)});return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,o.default)(function*(e){h(e),yield c.default.setItem("hapticsEnabled",e.toString()),e&&st.impactAsync(st.ImpactFeedbackStyle.Medium)});return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,o.default)(function*(e){b(e),yield c.default.setItem("notificationsEnabled",e.toString()),g&&st.impactAsync(st.ImpactFeedbackStyle.Light)});return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.default)(function*(){try{Te.default.alert("Restoring Purchases","Please wait while we restore your purchases...",[],{cancelable:!1}),(yield vt.restorePurchases())?Te.default.alert("Success","Your purchases have been restored successfully!",[{text:"OK"}]):Te.default.alert("No Purchases Found","No previous purchases were found to restore.",[{text:"OK"}])}catch(e){Te.default.alert("Restore Failed","Failed to restore purchases. Please try again later.",[{text:"OK"}])}});return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.default)(function*(){try{yield vt.openManageSubscriptions()}catch(e){Te.default.alert("Error","Unable to open subscription management. Please manage through your device settings.",[{text:"OK"}])}});return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,o.default)(function*(){S(!1),Te.default.alert("Legal Agreements Updated","Thank you for reviewing and accepting our updated legal agreements.",[{text:"OK"}])});return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[F&&(0,u.jsx)(zt,{onAccept:I,onDecline:function(){S(!1),Te.default.alert("Legal Review","You can review and accept the legal agreements at any time from Settings.",[{text:"OK"}])}}),(0,u.jsx)(Ge.default,{style:Vt.container,children:(0,u.jsxs)(G.default,{style:Vt.content,children:[(0,u.jsxs)(G.default,{style:Vt.section,children:[(0,u.jsx)(ee.default,{style:Vt.sectionTitle,children:"Gold Vault Club"}),n?(0,u.jsxs)(G.default,{style:Vt.subscriptionActive,children:[(0,u.jsx)(ee.default,{style:Vt.vipBadge,children:"\u2b50 VIP Member"}),(0,u.jsx)(ee.default,{style:Vt.subscriptionText,children:"Your membership is active"}),(0,u.jsx)(de.default,{style:Vt.button,onPress:A,children:(0,u.jsx)(ee.default,{style:Vt.buttonText,children:"Manage Subscription"})})]}):(0,u.jsxs)(de.default,{style:Vt.goldButton,onPress:function(){return e.navigate("SubscriptionVault")},children:[(0,u.jsx)(ee.default,{style:Vt.goldButtonText,children:"\ud83c\udf1f Join Gold Vault Club"}),(0,u.jsx)(ee.default,{style:Vt.goldButtonSubtext,children:"Get 2x rewards & exclusive perks"})]})]}),(0,u.jsxs)(G.default,{style:Vt.section,children:[(0,u.jsx)(ee.default,{style:Vt.sectionTitle,children:"Game Settings"}),(0,u.jsxs)(G.default,{style:Vt.settingRow,children:[(0,u.jsx)(ee.default,{style:Vt.settingLabel,children:"Sound Effects"}),(0,u.jsx)(dt.default,{value:s,onValueChange:k,trackColor:{false:"#767577",true:"#FFD700"},thumbColor:"#f4f3f4"})]}),(0,u.jsxs)(G.default,{style:Vt.settingRow,children:[(0,u.jsx)(ee.default,{style:Vt.settingLabel,children:"Haptic Feedback"}),(0,u.jsx)(dt.default,{value:g,onValueChange:C,trackColor:{false:"#767577",true:"#FFD700"},thumbColor:"#f4f3f4"})]}),(0,u.jsxs)(G.default,{style:Vt.settingRow,children:[(0,u.jsx)(ee.default,{style:Vt.settingLabel,children:"Notifications"}),(0,u.jsx)(dt.default,{value:v,onValueChange:P,trackColor:{false:"#767577",true:"#FFD700"},thumbColor:"#f4f3f4"})]})]}),(0,u.jsxs)(G.default,{style:Vt.section,children:[(0,u.jsx)(ee.default,{style:Vt.sectionTitle,children:"Account"}),(0,u.jsx)(de.default,{style:Vt.button,onPress:D,children:(0,u.jsx)(ee.default,{style:Vt.buttonText,children:"Restore Purchases"})})]}),(0,u.jsxs)(G.default,{style:Vt.section,children:[(0,u.jsx)(ee.default,{style:Vt.sectionTitle,children:"Legal"}),(0,u.jsx)(de.default,{style:Vt.button,onPress:function(){Te.default.alert("Privacy Policy","View our privacy policy at https://cienrios.com/potofgold/privacy",[{text:"OK"}])},children:(0,u.jsx)(ee.default,{style:Vt.buttonText,children:"Privacy Policy"})}),(0,u.jsx)(de.default,{style:Vt.button,onPress:function(){Te.default.alert("Terms of Service","View our terms at https://cienrios.com/potofgold/terms",[{text:"OK"}])},children:(0,u.jsx)(ee.default,{style:Vt.buttonText,children:"Terms of Service"})}),(0,u.jsx)(de.default,{style:[Vt.button,Vt.reviewButton],onPress:function(){S(!0)},children:(0,u.jsx)(ee.default,{style:Vt.buttonText,children:"\ud83d\udccb Review Legal Agreements"})})]}),(0,u.jsxs)(G.default,{style:Vt.section,children:[(0,u.jsx)(ee.default,{style:Vt.sectionTitle,children:"Support"}),(0,u.jsx)(de.default,{style:Vt.button,onPress:function(){Te.default.alert("Support","Contact us at support@cienrios.com",[{text:"OK"}])},children:(0,u.jsx)(ee.default,{style:Vt.buttonText,children:"Contact Support"})})]}),(0,u.jsxs)(G.default,{style:Vt.footer,children:[(0,u.jsx)(ee.default,{style:Vt.versionText,children:"Pot of Gold v1.0.0"}),(0,u.jsx)(ee.default,{style:Vt.copyrightText,children:"\xa9 2024 Cien Rios"})]})]})})]})}var Vt=q.default.create({container:{flex:1,backgroundColor:"#1a1a1a"},content:{padding:Rt?40:20,paddingBottom:40},section:{marginBottom:30},sectionTitle:{fontSize:Rt?20:18,fontWeight:"bold",color:"#FFD700",marginBottom:15},settingRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:12,borderBottomWidth:1,borderBottomColor:"#333"},settingLabel:{fontSize:Rt?18:16,color:"#fff"},button:{backgroundColor:"#333",paddingVertical:Rt?15:12,paddingHorizontal:20,borderRadius:8,marginVertical:5},buttonText:{color:"#fff",fontSize:Rt?18:16,textAlign:"center"},goldButton:{backgroundColor:"#FFD700",paddingVertical:Rt?20:15,paddingHorizontal:20,borderRadius:12,alignItems:"center"},goldButtonText:{color:"#1a1a1a",fontSize:Rt?20:18,fontWeight:"bold"},goldButtonSubtext:{color:"#1a1a1a",fontSize:Rt?16:14,marginTop:5},subscriptionActive:{backgroundColor:"#333",padding:15,borderRadius:12},vipBadge:{color:"#FFD700",fontSize:Rt?20:18,fontWeight:"bold",marginBottom:5},subscriptionText:{color:"#fff",fontSize:Rt?16:14,marginBottom:10},footer:{alignItems:"center",marginTop:40},versionText:{color:"#999",fontSize:Rt?14:12},copyrightText:{color:"#999",fontSize:Rt?14:12,marginTop:5},reviewButton:{backgroundColor:"#4A90E2",marginTop:10}}),Nt=ne.default.get("window").width,Wt=[{id:"alabama",name:"Alabama",price:500,colors:["#FF0000","#FFFFFF"],icon:"\ud83c\udf1f"},{id:"alaska",name:"Alaska",price:500,colors:["#002868","#FFD700"],icon:"\ud83d\udc3b"},{id:"arizona",name:"Arizona",price:500,colors:["#CE1126","#FFC72C"],icon:"\u2600\ufe0f"},{id:"arkansas",name:"Arkansas",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83d\udc8e"},{id:"california",name:"California",price:750,colors:["#FFFFFF","#FF0000"],icon:"\ud83d\udc3b"},{id:"colorado",name:"Colorado",price:500,colors:["#002868","#FFFFFF","#FFD700"],icon:"\u26f0\ufe0f"},{id:"connecticut",name:"Connecticut",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83c\udf33"},{id:"delaware",name:"Delaware",price:500,colors:["#00308F","#FFD700"],icon:"\ud83d\udca0"},{id:"florida",name:"Florida",price:750,colors:["#FF0000","#FFFFFF"],icon:"\u2600\ufe0f"},{id:"georgia",name:"Georgia",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udf51"},{id:"hawaii",name:"Hawaii",price:750,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udf3a"},{id:"idaho",name:"Idaho",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83e\udd54"},{id:"illinois",name:"Illinois",price:500,colors:["#FFFFFF","#FF0000"],icon:"\ud83c\udf06"},{id:"indiana",name:"Indiana",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udfc1"},{id:"iowa",name:"Iowa",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udf3d"},{id:"kansas",name:"Kansas",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udf3b"},{id:"kentucky",name:"Kentucky",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83d\udc0e"},{id:"louisiana",name:"Louisiana",price:500,colors:["#002868","#FFD700","#FFFFFF"],icon:"\u269c\ufe0f"},{id:"maine",name:"Maine",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83e\udd9e"},{id:"maryland",name:"Maryland",price:500,colors:["#FF0000","#FFD700","#000000"],icon:"\ud83e\udd80"},{id:"massachusetts",name:"Massachusetts",price:500,colors:["#FFFFFF","#002868"],icon:"\ud83d\udcda"},{id:"michigan",name:"Michigan",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83d\ude97"},{id:"minnesota",name:"Minnesota",price:500,colors:["#002868","#FFFFFF"],icon:"\u2744\ufe0f"},{id:"mississippi",name:"Mississippi",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udfba"},{id:"missouri",name:"Missouri",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udfdb\ufe0f"},{id:"montana",name:"Montana",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udfd4\ufe0f"},{id:"nebraska",name:"Nebraska",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udf3e"},{id:"nevada",name:"Nevada",price:750,colors:["#002868","#C0C0C0"],icon:"\ud83c\udfb0"},{id:"newhampshire",name:"New Hampshire",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83c\udfd4\ufe0f"},{id:"newjersey",name:"New Jersey",price:500,colors:["#FFC72C","#002868"],icon:"\ud83c\udf0a"},{id:"newmexico",name:"New Mexico",price:500,colors:["#FFD700","#FF0000"],icon:"\u2600\ufe0f"},{id:"newyork",name:"New York",price:1e3,colors:["#002868","#FF6600","#FFFFFF"],icon:"\ud83d\uddfd"},{id:"northcarolina",name:"North Carolina",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\u2708\ufe0f"},{id:"northdakota",name:"North Dakota",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udf3b"},{id:"ohio",name:"Ohio",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udf30"},{id:"oklahoma",name:"Oklahoma",price:500,colors:["#005CAB","#FFFFFF"],icon:"\ud83d\udee2\ufe0f"},{id:"oregon",name:"Oregon",price:500,colors:["#002868","#FFD700"],icon:"\ud83c\udf32"},{id:"pennsylvania",name:"Pennsylvania",price:500,colors:["#002868","#FFD700"],icon:"\ud83d\udd14"},{id:"rhodeisland",name:"Rhode Island",price:500,colors:["#FFFFFF","#002868","#FFD700"],icon:"\u2693"},{id:"southcarolina",name:"South Carolina",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83c\udf34"},{id:"southdakota",name:"South Dakota",price:500,colors:["#002868","#FFD700"],icon:"\ud83d\uddff"},{id:"tennessee",name:"Tennessee",price:500,colors:["#FF0000","#FFFFFF","#002868"],icon:"\ud83c\udfb8"},{id:"texas",name:"Texas",price:1e3,colors:["#002868","#FFFFFF","#FF0000"],icon:"\u2b50"},{id:"utah",name:"Utah",price:500,colors:["#002868","#FFFFFF","#FF0000"],icon:"\ud83c\udfd4\ufe0f"},{id:"vermont",name:"Vermont",price:500,colors:["#002868","#FFFFFF","#008000"],icon:"\ud83c\udf41"},{id:"virginia",name:"Virginia",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83c\udfdb\ufe0f"},{id:"washington",name:"Washington",price:500,colors:["#00A651","#FFFFFF"],icon:"\ud83c\udf32"},{id:"westvirginia",name:"West Virginia",price:500,colors:["#002868","#FFFFFF"],icon:"\u26f0\ufe0f"},{id:"wisconsin",name:"Wisconsin",price:500,colors:["#002868","#FFFFFF"],icon:"\ud83e\uddc0"},{id:"wyoming",name:"Wyoming",price:500,colors:["#002868","#FFFFFF","#FF0000"],icon:"\ud83e\uddac"}],Gt=[{id:"starter",coins:1e3,price:.99,bonus:0,popular:!1},{id:"value",coins:5500,price:4.99,bonus:10,popular:!0},{id:"mega",coins:12e3,price:9.99,bonus:20,popular:!1},{id:"ultra",coins:3e4,price:19.99,bonus:25,popular:!1},{id:"whale",coins:8e4,price:49.99,bonus:30,popular:!1},{id:"ultimate",coins:2e5,price:99.99,bonus:50,popular:!1}],Ht=[{id:"magnet",name:"Magnet",duration:"30 seconds",price:100,icon:"magnet",color:"#FFD700"},{id:"shield",name:"Shield",duration:"3 hits",price:150,icon:"shield",color:"#00BFFF"},{id:"2x",name:"2x Multiplier",duration:"60 seconds",price:200,icon:"flash",color:"#FF4500"},{id:"bomb-clear",name:"Bomb Clear",duration:"Instant",price:50,icon:"nuclear",color:"#FF0000"},{id:"continue",name:"Continue Token",duration:"1 use",price:500,icon:"heart",color:"#FF69B4"},{id:"mega-boost",name:"Mega Boost",duration:"5 minutes",price:1e3,icon:"rocket",color:"#9C27B0"}],qt=[{id:"size-1",name:"Bigger Cart I",description:"+10% collection area",price:2500,level:1},{id:"size-2",name:"Bigger Cart II",description:"+20% collection area",price:5e3,level:2},{id:"size-3",name:"Bigger Cart III",description:"+30% collection area",price:1e4,level:3},{id:"speed-1",name:"Speed Boost I",description:"+15% movement speed",price:3e3,level:1},{id:"speed-2",name:"Speed Boost II",description:"+30% movement speed",price:6e3,level:2},{id:"luck-1",name:"Lucky Cart",description:"+10% rare item chance",price:8e3,level:1}];function $t(e){var t=e.navigation,n=(0,i.useState)(0),r=(0,a.default)(n,2),l=r[0],s=r[1],d=(0,i.useState)("flags"),f=(0,a.default)(d,2),p=f[0],g=f[1],h=(0,i.useState)([]),m=(0,a.default)(h,2),v=m[0],b=m[1],x=(0,i.useState)(null),w=(0,a.default)(x,2),F=w[0],S=w[1],j=(0,i.useState)(!1),k=(0,a.default)(j,2),C=k[0],P=k[1];(0,i.useEffect)(function(){D()},[]);var D=function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem("user_coins"),t=yield c.default.getItem("owned_items");e&&s(parseInt(e,10)),t&&b(JSON.parse(t))}catch(n){console.error("Error loading user data:",n)}});return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.default)(function*(e,t){if("coins"===t)Te.default.alert("Purchase Coins",`Buy ${e.coins.toLocaleString()} coins for $${e.price}?`,[{text:"Cancel",style:"cancel"},{text:"Buy",onPress:function(){var t=(0,o.default)(function*(){var t=l+e.coins;s(t),yield c.default.setItem("user_coins",t.toString()),Te.default.alert("Success!",`You received ${e.coins.toLocaleString()} coins!`)});return function(){return t.apply(this,arguments)}}()}]);else if(l>=e.price){var n=l-e.price;s(n);var r=[].concat((0,y.default)(v),[e.id]);b(r),yield c.default.setItem("user_coins",n.toString()),yield c.default.setItem("owned_items",JSON.stringify(r)),st.notificationAsync(st.NotificationFeedbackType.Success),Te.default.alert("Success!",`You purchased ${e.name}!`),P(!1)}else Te.default.alert("Not Enough Coins","You need more coins to purchase this item.")});return function(t,n){return e.apply(this,arguments)}}();return(0,u.jsxs)(re.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:Kt.container,children:[(0,u.jsxs)(G.default,{style:Kt.header,children:[(0,u.jsx)(de.default,{style:Kt.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(fe.default,{name:"arrow-back",size:24,color:"#FFD700"})}),(0,u.jsx)(ee.default,{style:Kt.title,children:"Shop"}),(0,u.jsxs)(G.default,{style:Kt.coinDisplay,children:[(0,u.jsx)(fe.default,{name:"logo-bitcoin",size:20,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Kt.coinText,children:l.toLocaleString()})]})]}),(0,u.jsxs)(G.default,{style:Kt.tabs,children:[(0,u.jsx)(de.default,{style:[Kt.tab,"flags"===p&&Kt.activeTab],onPress:function(){return g("flags")},children:(0,u.jsx)(ee.default,{style:[Kt.tabText,"flags"===p&&Kt.activeTabText],children:"State Flags"})}),(0,u.jsx)(de.default,{style:[Kt.tab,"coins"===p&&Kt.activeTab],onPress:function(){return g("coins")},children:(0,u.jsx)(ee.default,{style:[Kt.tabText,"coins"===p&&Kt.activeTabText],children:"Coins"})}),(0,u.jsx)(de.default,{style:[Kt.tab,"powerups"===p&&Kt.activeTab],onPress:function(){return g("powerups")},children:(0,u.jsx)(ee.default,{style:[Kt.tabText,"powerups"===p&&Kt.activeTabText],children:"Power-ups"})}),(0,u.jsx)(de.default,{style:[Kt.tab,"upgrades"===p&&Kt.activeTab],onPress:function(){return g("upgrades")},children:(0,u.jsx)(ee.default,{style:[Kt.tabText,"upgrades"===p&&Kt.activeTabText],children:"Upgrades"})})]}),(0,u.jsxs)(Ge.default,{style:Kt.content,showsVerticalScrollIndicator:!1,children:["flags"===p&&(0,u.jsx)(G.default,{style:Kt.flagsGrid,children:Wt.map(function(e){var t=v.includes(e.id);return(0,u.jsxs)(de.default,{style:[Kt.flagItem,t&&Kt.ownedItem],onPress:function(){t||(S(e),P(!0))},disabled:t,children:[(0,u.jsx)(re.LinearGradient,{colors:e.colors,style:Kt.flagGradient,children:(0,u.jsx)(ee.default,{style:Kt.flagIcon,children:e.icon})}),(0,u.jsx)(ee.default,{style:Kt.flagName,children:e.name}),t?(0,u.jsx)(ee.default,{style:Kt.ownedText,children:"OWNED"}):(0,u.jsxs)(G.default,{style:Kt.priceContainer,children:[(0,u.jsx)(fe.default,{name:"logo-bitcoin",size:16,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Kt.priceText,children:e.price})]})]},e.id)})}),"coins"===p&&(0,u.jsx)(G.default,{style:Kt.coinsGrid,children:Gt.map(function(e){return(0,u.jsxs)(de.default,{style:[Kt.coinPackage,e.popular&&Kt.popularPackage],onPress:function(){return A(e,"coins")},children:[e.popular&&(0,u.jsx)(G.default,{style:Kt.popularBadge,children:(0,u.jsx)(ee.default,{style:Kt.popularText,children:"BEST VALUE"})}),(0,u.jsx)(fe.default,{name:"logo-bitcoin",size:40,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Kt.coinAmount,children:e.coins.toLocaleString()}),e.bonus>0&&(0,u.jsxs)(ee.default,{style:Kt.bonusText,children:["+",e.bonus,"% BONUS"]}),(0,u.jsx)(de.default,{style:Kt.buyButton,children:(0,u.jsxs)(ee.default,{style:Kt.buyButtonText,children:["$",e.price]})})]},e.id)})}),"powerups"===p&&(0,u.jsx)(G.default,{style:Kt.powerupsList,children:Ht.map(function(e){var t=v.includes(e.id);return(0,u.jsxs)(de.default,{style:[Kt.powerupItem,t&&Kt.ownedItem],onPress:function(){t||(S(e),P(!0))},children:[(0,u.jsx)(fe.default,{name:e.icon,size:30,color:e.color}),(0,u.jsxs)(G.default,{style:Kt.powerupInfo,children:[(0,u.jsx)(ee.default,{style:Kt.powerupName,children:e.name}),(0,u.jsx)(ee.default,{style:Kt.powerupDuration,children:e.duration})]}),(0,u.jsxs)(G.default,{style:Kt.priceContainer,children:[(0,u.jsx)(fe.default,{name:"logo-bitcoin",size:16,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Kt.priceText,children:e.price})]})]},e.id)})}),"upgrades"===p&&(0,u.jsx)(G.default,{style:Kt.upgradesList,children:qt.map(function(e){var t=v.includes(e.id);return(0,u.jsxs)(de.default,{style:[Kt.upgradeItem,t&&Kt.ownedItem],onPress:function(){t||(S(e),P(!0))},disabled:t,children:[(0,u.jsx)(G.default,{style:Kt.upgradeIcon,children:(0,u.jsxs)(ee.default,{style:Kt.upgradeLevel,children:["Lv.",e.level]})}),(0,u.jsxs)(G.default,{style:Kt.upgradeInfo,children:[(0,u.jsx)(ee.default,{style:Kt.upgradeName,children:e.name}),(0,u.jsx)(ee.default,{style:Kt.upgradeDesc,children:e.description})]}),t?(0,u.jsx)(ee.default,{style:Kt.ownedText,children:"ACTIVE"}):(0,u.jsxs)(G.default,{style:Kt.priceContainer,children:[(0,u.jsx)(fe.default,{name:"logo-bitcoin",size:16,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Kt.priceText,children:e.price})]})]},e.id)})})]}),(0,u.jsx)(rt.default,{visible:C,transparent:!0,animationType:"slide",children:(0,u.jsx)(G.default,{style:Kt.modalOverlay,children:(0,u.jsxs)(G.default,{style:Kt.modalContent,children:[(0,u.jsx)(ee.default,{style:Kt.modalTitle,children:"Confirm Purchase"}),(0,u.jsx)(ee.default,{style:Kt.modalItem,children:null==F?void 0:F.name}),(0,u.jsxs)(G.default,{style:Kt.modalPrice,children:[(0,u.jsx)(fe.default,{name:"logo-bitcoin",size:24,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Kt.modalPriceText,children:null==F?void 0:F.price})]}),(0,u.jsxs)(G.default,{style:Kt.modalButtons,children:[(0,u.jsx)(de.default,{style:Kt.cancelButton,onPress:function(){return P(!1)},children:(0,u.jsx)(ee.default,{style:Kt.cancelButtonText,children:"Cancel"})}),(0,u.jsx)(de.default,{style:Kt.confirmButton,onPress:function(){return A(F,p)},children:(0,u.jsx)(ee.default,{style:Kt.confirmButtonText,children:"Buy"})})]})]})})})]})}var Kt=q.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",paddingTop:"ios"===$.default.OS?50:30,paddingHorizontal:20,paddingBottom:20},backButton:{padding:10},title:{fontSize:28,fontWeight:"bold",color:"#FFD700",flex:1,marginLeft:10},coinDisplay:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 215, 0, 0.2)",paddingHorizontal:15,paddingVertical:8,borderRadius:20},coinText:{color:"#FFD700",fontSize:18,fontWeight:"bold",marginLeft:5},tabs:{flexDirection:"row",paddingHorizontal:20,marginBottom:20},tab:{flex:1,paddingVertical:12,alignItems:"center",borderBottomWidth:2,borderBottomColor:"transparent"},activeTab:{borderBottomColor:"#FFD700"},tabText:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,fontWeight:"600"},activeTabText:{color:"#FFD700"},content:{flex:1,paddingHorizontal:20},flagsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},flagItem:{width:(Nt-60)/3,marginBottom:20,alignItems:"center"},ownedItem:{opacity:.7},flagGradient:{width:80,height:60,borderRadius:10,justifyContent:"center",alignItems:"center",marginBottom:8},flagIcon:{fontSize:24},flagName:{color:"#FFFFFF",fontSize:12,textAlign:"center",marginBottom:4},priceContainer:{flexDirection:"row",alignItems:"center"},priceText:{color:"#FFD700",fontSize:14,fontWeight:"bold",marginLeft:4},ownedText:{color:"#00FF00",fontSize:12,fontWeight:"bold"},coinsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},coinPackage:{width:(Nt-60)/2,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:15,padding:20,marginBottom:20,alignItems:"center",position:"relative"},popularPackage:{borderWidth:2,borderColor:"#FFD700"},popularBadge:{position:"absolute",top:-10,backgroundColor:"#FFD700",paddingHorizontal:10,paddingVertical:4,borderRadius:10},popularText:{color:"#000",fontSize:10,fontWeight:"bold"},coinAmount:{color:"#FFFFFF",fontSize:20,fontWeight:"bold",marginVertical:10},bonusText:{color:"#00FF00",fontSize:12,marginBottom:10},buyButton:{backgroundColor:"#FFD700",paddingHorizontal:25,paddingVertical:10,borderRadius:20,marginTop:10},buyButtonText:{color:"#000",fontSize:16,fontWeight:"bold"},powerupsList:{paddingBottom:20},powerupItem:{flexDirection:"row",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:15,padding:15,marginBottom:15,alignItems:"center"},powerupInfo:{flex:1,marginLeft:15},powerupName:{color:"#FFFFFF",fontSize:16,fontWeight:"bold"},powerupDuration:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,marginTop:2},upgradesList:{paddingBottom:20},upgradeItem:{flexDirection:"row",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:15,padding:15,marginBottom:15,alignItems:"center"},upgradeIcon:{width:50,height:50,borderRadius:25,backgroundColor:"#FFD700",justifyContent:"center",alignItems:"center"},upgradeLevel:{color:"#000",fontSize:16,fontWeight:"bold"},upgradeInfo:{flex:1,marginLeft:15},upgradeName:{color:"#FFFFFF",fontSize:16,fontWeight:"bold"},upgradeDesc:{color:"rgba(255, 255, 255, 0.6)",fontSize:14,marginTop:2},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:"#2C1810",borderRadius:20,padding:30,width:Nt-60,alignItems:"center"},modalTitle:{color:"#FFD700",fontSize:24,fontWeight:"bold",marginBottom:20},modalItem:{color:"#FFFFFF",fontSize:18,marginBottom:20},modalPrice:{flexDirection:"row",alignItems:"center",marginBottom:30},modalPriceText:{color:"#FFD700",fontSize:24,fontWeight:"bold",marginLeft:10},modalButtons:{flexDirection:"row",gap:20},cancelButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",paddingHorizontal:30,paddingVertical:12,borderRadius:25},cancelButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"bold"},confirmButton:{backgroundColor:"#FFD700",paddingHorizontal:30,paddingVertical:12,borderRadius:25},confirmButtonText:{color:"#000",fontSize:16,fontWeight:"bold"}}),Qt=ne.default.get("window"),Yt=Qt.width,Xt=(Qt.height,function(e){e.stateId;var t=e.theme,n=e.visualElements;return function(){switch(n.flagPattern){case"bay_state":return(0,u.jsxs)(G.default,{style:[en.flagContainer,{backgroundColor:t.primaryColor}],children:[(0,u.jsx)(G.default,{style:[en.flagStripe,{backgroundColor:t.secondaryColor}]}),(0,u.jsx)(G.default,{style:[en.flagStripe,{backgroundColor:t.accentColor}]}),(0,u.jsx)(G.default,{style:[en.flagCanton,{backgroundColor:t.primaryColor}]})]});case"empire_state":case"old_dominion":return(0,u.jsxs)(G.default,{style:[en.flagContainer,{backgroundColor:t.primaryColor}],children:[(0,u.jsx)(G.default,{style:[en.flagStripe,{backgroundColor:t.secondaryColor}]}),(0,u.jsx)(G.default,{style:[en.flagStripe,{backgroundColor:t.accentColor}]}),(0,u.jsx)(G.default,{style:[en.flagStripe,{backgroundColor:t.secondaryColor}]})]});case"old_line_state":return(0,u.jsxs)(G.default,{style:[en.flagContainer,{backgroundColor:t.primaryColor}],children:[(0,u.jsx)(G.default,{style:[en.flagCross,{backgroundColor:t.secondaryColor}]}),(0,u.jsx)(G.default,{style:[en.flagCross,{backgroundColor:t.accentColor}]})]});case"sunshine_state":return(0,u.jsxs)(G.default,{style:[en.flagContainer,{backgroundColor:t.primaryColor}],children:[(0,u.jsx)(G.default,{style:[en.flagSun,{backgroundColor:t.secondaryColor}]}),(0,u.jsx)(G.default,{style:[en.flagStripe,{backgroundColor:t.accentColor}]})]});default:return(0,u.jsx)(G.default,{style:[en.flagContainer,{backgroundColor:t.primaryColor}],children:(0,u.jsx)(G.default,{style:[en.flagStripe,{backgroundColor:t.secondaryColor}]})})}}()}),Jt=function(e){e.stateId;var t=e.theme,n=e.visualElements;return function(){switch(n.shapeOutline){case"mountain":return(0,u.jsx)(G.default,{style:en.shapeContainer,children:(0,u.jsx)(G.default,{style:[en.mountain,{backgroundColor:t.primaryColor}]})});case"anchor":return(0,u.jsx)(G.default,{style:en.shapeContainer,children:(0,u.jsx)(G.default,{style:[en.anchor,{backgroundColor:t.primaryColor}]})});case"keystone":return(0,u.jsx)(G.default,{style:en.shapeContainer,children:(0,u.jsx)(G.default,{style:[en.keystone,{backgroundColor:t.primaryColor}]})});case"palmetto":return(0,u.jsx)(G.default,{style:en.shapeContainer,children:(0,u.jsx)(G.default,{style:[en.palmetto,{backgroundColor:t.primaryColor}]})});default:return null}}()},Zt=function(e){e.stateId;var t=e.theme,n=e.visualElements;return function(){switch(n.particleEffect){case"maple_leaves":return(0,u.jsx)(G.default,{style:en.particleContainer,children:Array.from({length:5}).map(function(e,n){return(0,u.jsx)(G.default,{style:[en.mapleLeaf,{backgroundColor:t.accentColor,left:Math.random()*Yt,animationDelay:200*n+"ms"}]},n)})});case"garden_flowers":return(0,u.jsx)(G.default,{style:en.particleContainer,children:Array.from({length:6}).map(function(e,n){return(0,u.jsx)(G.default,{style:[en.flower,{backgroundColor:t.secondaryColor,left:Math.random()*Yt,animationDelay:150*n+"ms"}]},n)})});case"pine_needles":return(0,u.jsx)(G.default,{style:en.particleContainer,children:Array.from({length:8}).map(function(e,n){return(0,u.jsx)(G.default,{style:[en.pineNeedle,{backgroundColor:t.secondaryColor,left:Math.random()*Yt,animationDelay:100*n+"ms"}]},n)})});default:return null}}()},en=q.default.create({flagContainer:{width:60,height:40,borderRadius:4,overflow:"hidden"},flagStripe:{height:"33.33%",width:"100%"},flagCanton:{position:"absolute",top:0,left:0,width:"40%",height:"50%"},flagCross:{position:"absolute",width:"100%",height:4,backgroundColor:"#FFFFFF"},flagSun:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:10},shapeContainer:{width:60,height:40,justifyContent:"center",alignItems:"center"},mountain:{width:40,height:25,borderTopLeftRadius:20,borderTopRightRadius:20},anchor:{width:30,height:30,borderRadius:15,borderWidth:3,borderColor:"#FFFFFF"},keystone:{width:35,height:25,backgroundColor:"#8B4513"},palmetto:{width:25,height:35,backgroundColor:"#228B22"},particleContainer:{position:"absolute",top:0,left:0,right:0,bottom:0},mapleLeaf:{position:"absolute",width:8,height:8,borderRadius:4,opacity:.7},flower:{position:"absolute",width:6,height:6,borderRadius:3,opacity:.8},pineNeedle:{position:"absolute",width:3,height:12,borderRadius:1,opacity:.6}});function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rn=(0,Q.default)(function e(){(0,K.default)(this,e)},null,[{key:"saveUnlock",value:function(){var e=(0,o.default)(function*(e,t){try{var n=j.currentUser;if(!n)return console.error("No authenticated user"),!1;var o={id:e,unlockedAt:new Date,type:t.type,name:t.name};return yield(0,v.setDoc)((0,v.doc)(S,"users",n.uid,"unlocks",e),o),yield(0,v.updateDoc)((0,v.doc)(S,"users",n.uid),(0,r.default)((0,r.default)({},`unlocks.${e}`,o),"lastUpdated",new Date)),console.log(`Unlocked skin ${e} saved to Firebase`),!0}catch(a){return console.error("Error saving unlock to Firebase:",a),!1}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getUnlocks",value:function(){var e=(0,o.default)(function*(){try{var e=j.currentUser;if(!e)return console.error("No authenticated user"),{};var t=yield(0,v.getDoc)((0,v.doc)(S,"users",e.uid));if(t.exists()){var n=t.data();if(null!=n&&n.unlocks)return n.unlocks}var r=(0,v.query)((0,v.collection)(S,"users",e.uid,"unlocks")),o=yield(0,v.getDocs)(r),a={};return o.forEach(function(e){var t=e.data();a[e.id]=t}),a}catch(i){return console.error("Error getting unlocks from Firebase:",i),{}}});return function(){return e.apply(this,arguments)}}()},{key:"isSkinUnlocked",value:function(){var e=(0,o.default)(function*(e){try{var t=j.currentUser;return!!t&&(yield(0,v.getDoc)((0,v.doc)(S,"users",t.uid,"unlocks",e))).exists()}catch(n){return console.error("Error checking if skin is unlocked:",n),!1}});return function(t){return e.apply(this,arguments)}}()},{key:"saveSelectedSkin",value:function(){var e=(0,o.default)(function*(e){try{var t=j.currentUser;return t?(yield(0,v.updateDoc)((0,v.doc)(S,"users",t.uid),{"profile.skin.id":e,"profile.skin.selectedAt":new Date,lastUpdated:new Date}),console.log(`Selected skin ${e} saved to Firebase`),!0):(console.error("No authenticated user"),!1)}catch(n){return console.error("Error saving selected skin to Firebase:",n),!1}});return function(t){return e.apply(this,arguments)}}()},{key:"getSelectedSkin",value:function(){var e=(0,o.default)(function*(){try{var e=j.currentUser;if(!e)return null;var t=yield(0,v.getDoc)((0,v.doc)(S,"users",e.uid));if(t.exists()){var n,r,o=t.data();return(null==o||null==(n=o.profile)||null==(r=n.skin)?void 0:r.id)||null}return null}catch(a){return console.error("Error getting selected skin from Firebase:",a),null}});return function(){return e.apply(this,arguments)}}()},{key:"unlockSkin",value:function(){var e=(0,o.default)(function*(e,t){try{return(yield this.isSkinUnlocked(e))?(console.log(`Skin ${e} is already unlocked`),!0):!!(yield this.saveUnlock(e,t))&&(console.log(`Successfully unlocked skin ${e}`),!0)}catch(n){return console.error("Error unlocking skin:",n),!1}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getUnlockProgress",value:function(){var e=(0,o.default)(function*(e){try{var t=yield this.getUnlocks(),n=Object.values(t).filter(function(t){return t.type===e}).length,r={flag:5,shape:5,trail:5}[e]||0;return{unlocked:n,total:r,percentage:r>0?n/r*100:0}}catch(o){return console.error("Error getting unlock progress:",o),{unlocked:0,total:0,percentage:0}}});return function(t){return e.apply(this,arguments)}}()},{key:"syncUnlocks",value:function(){var e=(0,o.default)(function*(){try{var e=j.currentUser;if(!e)return!1;var t=yield this.getUnlocks(),n=nn(nn({},yield this.getLocalUnlocks()),t);return yield(0,v.updateDoc)((0,v.doc)(S,"users",e.uid),{unlocks:n,lastSynced:new Date}),!0}catch(r){return console.error("Error syncing unlocks:",r),!1}});return function(){return e.apply(this,arguments)}}()},{key:"getLocalUnlocks",value:function(){var e=(0,o.default)(function*(){try{return{}}catch(e){return console.error("Error getting local unlocks:",e),{}}});return function(){return e.apply(this,arguments)}}()}]),on=n(2790),an=(0,Q.default)(function e(){(0,K.default)(this,e)},null,[{key:"light",value:function(){on.impactAsync(on.ImpactFeedbackStyle.Light)}},{key:"medium",value:function(){on.impactAsync(on.ImpactFeedbackStyle.Medium)}},{key:"heavy",value:function(){on.impactAsync(on.ImpactFeedbackStyle.Heavy)}},{key:"success",value:function(){on.notificationAsync(on.NotificationFeedbackType.Success)}},{key:"warning",value:function(){on.notificationAsync(on.NotificationFeedbackType.Warning)}},{key:"error",value:function(){on.notificationAsync(on.NotificationFeedbackType.Error)}},{key:"selection",value:function(){on.selectionAsync()}},{key:"specialEvent",value:function(){setTimeout(function(){return on.impactAsync(on.ImpactFeedbackStyle.Light)},0),setTimeout(function(){return on.impactAsync(on.ImpactFeedbackStyle.Medium)},100),setTimeout(function(){return on.impactAsync(on.ImpactFeedbackStyle.Heavy)},200)}},{key:"combo",value:function(e){e>=10?this.heavy():e>=5?this.medium():this.light()}},{key:"stateUnlock",value:function(){var e=this;this.success(),setTimeout(function(){return e.medium()},150)}},{key:"achievementUnlock",value:function(){this.specialEvent()}},{key:"powerUpActivation",value:function(){var e=this;this.medium(),setTimeout(function(){return e.light()},100)}},{key:"gameOver",value:function(){var e=this;this.error(),setTimeout(function(){return e.heavy()},200)}}]),ln=(0,Q.default)(function e(){(0,K.default)(this,e)},null,[{key:"checkUnlockConditions",value:function(e,t){var n=t.condition;switch(n.type){case"level":return e.level>=n.value;case"score":return e.score>=n.value;case"coins":return e.coins>=n.value;case"games":return e.gamesPlayed>=n.value;case"survival":return e.survivalTime>=n.value;case"items":var r=n.itemType||t.id;return(e.itemsCollected[r]||0)>=n.value;case"achievement":return e.achievements.includes(n.value);case"seasonal":return this.isSeasonalEventActive(n.value);default:return!1}}},{key:"isSeasonalEventActive",value:function(e){var t=this.seasonalEvents[e];if(!t)return!1;var n=(new Date).getMonth()+1;return t.startMonth<=t.endMonth?n>=t.startMonth&&n<=t.endMonth:n>=t.startMonth||n<=t.endMonth}},{key:"getActiveSeasonalEvents",value:function(){var e=this;return Object.keys(this.seasonalEvents).filter(function(t){return e.isSeasonalEventActive(t)})}},{key:"getSeasonalSkins",value:function(){var e=this,t=this.getActiveSeasonalEvents(),n=[];return t.forEach(function(t){var r=e.seasonalEvents[t];r&&n.push.apply(n,(0,y.default)(r.states))}),n}},{key:"getRarityColor",value:function(e){return this.rarityColors[e]||"#CCCCCC"}},{key:"checkAllUnlocks",value:function(){var e=(0,o.default)(function*(e,t){var n=[];for(var r of t)try{if(yield rn.isSkinUnlocked(r.id))continue;this.checkUnlockConditions(e,r)&&(yield rn.unlockSkin(r.id,r))&&(n.push(r.id),an.achievementUnlock())}catch(o){console.error(`Error checking unlock for ${r.id}:`,o)}return n});return function(t,n){return e.apply(this,arguments)}}()},{key:"generateMysteryCrate",value:function(){var e=(0,o.default)(function*(e){try{var t=Math.random();if(t<.05){var n=yield rn.getUnlocks(),r=Object.keys(n);if(r.length>0)return{type:"skin",value:r[Math.floor(Math.random()*r.length)],rarity:"epic"}}else{if(t<.15){var o=["speedBoost","magnetPull","explosion","frenzyMode"];return{type:"powerup",value:o[Math.floor(Math.random()*o.length)],rarity:"rare"}}if(t<.35)return{type:"coins",value:Math.floor(100*Math.random())+50,rarity:"common"}}return null}catch(a){return console.error("Error generating mystery crate:",a),null}});return function(t){return e.apply(this,arguments)}}()},{key:"processMysteryCrate",value:function(){var e=(0,o.default)(function*(e,t){try{switch(t.type){case"skin":case"coins":case"powerup":return!0;default:return!1}}catch(n){return console.error("Error processing mystery crate:",n),!1}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getUnlockProgress",value:function(e,t){var n=t.condition,r=0,o=n.value;switch(n.type){case"level":r=e.level;break;case"score":r=e.score;break;case"coins":r=e.coins;break;case"games":r=e.gamesPlayed;break;case"survival":r=e.survivalTime;break;case"items":var a=n.itemType||t.id;r=e.itemsCollected[a]||0;break;case"achievement":r=e.achievements.includes(n.value)?1:0,o=1;break;case"seasonal":r=this.isSeasonalEventActive(n.value)?1:0,o=1;break;default:r=0,o=1}return{current:r,required:o,percentage:Math.min(r/o*100,100),isComplete:r>=o}}},{key:"getSeasonalEventInfo",value:function(e){return this.seasonalEvents[e]}},{key:"getAllSeasonalEvents",value:function(){return this.seasonalEvents}}]);ln.rarityColors={common:"#CCCCCC",uncommon:"#4ADE80",rare:"#60A5FA",epic:"#A78BFA",legendary:"#FBBF24",seasonal:"#F87171"},ln.seasonalEvents={"black-history-month":{name:"Black History Month",startMonth:2,endMonth:2,states:["georgia","alabama","mississippi","louisiana"],description:"Celebrate Black History Month"},"hispanic-heritage-month":{name:"Hispanic Heritage Month",startMonth:9,endMonth:10,states:["california","texas","new_mexico","arizona","florida"],description:"Celebrate Hispanic Heritage"},"presidents-day":{name:"Presidents Day",startMonth:2,endMonth:2,states:["illinois","virginia","ohio","massachusetts"],description:"Honor U.S. Presidents"},"independence-day":{name:"Independence Day",startMonth:7,endMonth:7,states:["pennsylvania","massachusetts","virginia","delaware"],description:"Celebrate Independence Day"},thanksgiving:{name:"Thanksgiving",startMonth:11,endMonth:11,states:["massachusetts","pennsylvania","virginia"],description:"Give thanks with special unlocks"}};var sn=function(){var e=(0,i.useState)([]),t=(0,a.default)(e,2),n=t[0],r=t[1],l=(0,i.useState)([]),s=(0,a.default)(l,2),c=s[0],u=s[1],d=(0,i.useState)(!0),f=(0,a.default)(d,2),p=f[0],g=f[1],h=(0,i.useState)(null),m=(0,a.default)(h,2),y=m[0],v=m[1];(0,i.useEffect)(function(){var e=function(){var e=(0,o.default)(function*(){try{g(!0),v(null);var e=P();u(e);var t=(yield b()).filter(function(e){return!("seasonal"!==e.rarity||!e.season)&&C(e.season)});r(t)}catch(n){console.error("Error loading seasonal skins:",n),v("Failed to load seasonal skins")}finally{g(!1)}});return function(){return e.apply(this,arguments)}}();e()},[]);var b=function(){var e=(0,o.default)(function*(){try{return[{id:"georgia_bhm",name:"Black History Trail (GA)",type:"trail",rarity:"seasonal",season:"black_history_month",asset:"trails/bhm_georgia_trail.png",description:"Celebrate Black History Month with Georgia",theme:{primaryColor:"#1F2937",secondaryColor:"#374151",accentColor:"#F59E0B"},unlock:"Play during February",available:!0},{id:"texas_hispanic",name:"Hispanic Heritage Flag (TX)",type:"flag",rarity:"seasonal",season:"hispanic_heritage",asset:"flags/hispanic_texas_flag.png",description:"Honor Hispanic Heritage in Texas",theme:{primaryColor:"#DC2626",secondaryColor:"#EF4444",accentColor:"#F59E0B"},unlock:"Play during Hispanic Heritage Month",available:!0},{id:"california_hispanic",name:"Hispanic Heritage Shape (CA)",type:"shape",rarity:"seasonal",season:"hispanic_heritage",asset:"shapes/hispanic_california_shape.png",description:"Celebrate Hispanic Heritage in California",theme:{primaryColor:"#1E40AF",secondaryColor:"#3B82F6",accentColor:"#F59E0B"},unlock:"Play during Hispanic Heritage Month",available:!0},{id:"alaska_winter",name:"Winter Wonderland (AK)",type:"trail",rarity:"seasonal",season:"winter_holidays",asset:"trails/winter_alaska_trail.png",description:"Experience Alaska's winter magic",theme:{primaryColor:"#1E293B",secondaryColor:"#475569",accentColor:"#E2E8F0"},unlock:"Play during Winter Holidays",available:!0},{id:"vermont_fall",name:"Autumn Maple (VT)",type:"shape",rarity:"seasonal",season:"thanksgiving",asset:"shapes/autumn_vermont_shape.png",description:"Vermont's beautiful autumn colors",theme:{primaryColor:"#92400E",secondaryColor:"#F59E0B",accentColor:"#DC2626"},unlock:"Play during Thanksgiving",available:!0},{id:"hawaii_summer",name:"Summer Paradise (HI)",type:"trail",rarity:"seasonal",season:"summer_solstice",asset:"trails/summer_hawaii_trail.png",description:"Hawaii's summer paradise",theme:{primaryColor:"#059669",secondaryColor:"#10B981",accentColor:"#F59E0B"},unlock:"Play during Summer Solstice",available:!0},{id:"california_pride",name:"Pride Celebration (CA)",type:"flag",rarity:"seasonal",season:"pride_month",asset:"flags/pride_california_flag.png",description:"Celebrate Pride Month in California",theme:{primaryColor:"#7C3AED",secondaryColor:"#A855F7",accentColor:"#EC4899"},unlock:"Play during Pride Month",available:!0},{id:"new_york_independence",name:"Independence Stars (NY)",type:"shape",rarity:"seasonal",season:"independence_day",asset:"shapes/independence_ny_shape.png",description:"Celebrate Independence Day in New York",theme:{primaryColor:"#DC2626",secondaryColor:"#1E40AF",accentColor:"#FFFFFF"},unlock:"Play during Independence Day",available:!0}]}catch(y){return console.error("Error loading skins:",y),[]}});return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.default)(function*(){try{var e=yield b(),t=new Date,n=new Date(t.getFullYear(),t.getMonth()+1,1);return e.filter(function(e){return!("seasonal"!==e.rarity||!e.season)&&P(n).includes(e.season)})}catch(y){return console.error("Error loading upcoming skins:",y),[]}});return function(){return e.apply(this,arguments)}}();return{activeSeasonalSkins:n,currentEvents:c,isLoading:p,error:y,getSkinsByEvent:function(e){return n.filter(function(t){return t.season===e})},getSkinsByType:function(e){return n.filter(function(t){return t.type===e})},isSkinCurrentlyAvailable:function(e){return n.some(function(t){return t.id===e})},getAvailableCount:function(){return n.length},getUpcomingSkins:x,refresh:function(){r([]),u([]),g(!0),v(null)}}},cn=ne.default.get("window"),un=cn.width;cn.height;function dn(e){var t=e.navigation,n=function(){var e=(0,i.useContext)(I);if(void 0===e)throw new Error("useUserUnlocks must be used within a UserUnlockProvider");return e}(),r=(n.unlockedSkins,n.selectedCartSkin),l=n.isSkinUnlocked,s=n.isSeasonalSkinAvailable,c=sn(),d=c.activeSeasonalSkins,f=c.currentEvents,p=(c.isLoading,(0,i.useState)({})),g=(0,a.default)(p,2),h=g[0],m=g[1],y=(0,i.useState)("all"),v=(0,a.default)(y,2),b=v[0],x=v[1],w=(0,i.useState)(null),F=(0,a.default)(w,2),S=F[0],j=F[1],k=r;(0,i.useEffect)(function(){C()},[]);var C=function(){var e=(0,o.default)(function*(){try{m({california:{name:"Golden Bear Flag",type:"flag",unlock:"Collect 1,000 coins",rarity:"rare",asset:"flags/california_flag.png",description:"Golden state flag with bear emblem",theme:{primaryColor:"#FFD700",secondaryColor:"#8B4513",accentColor:"#FFA500"}},texas:{name:"Lone Star Cart",type:"shape",unlock:"Reach Level 5",rarity:"common",asset:"shapes/texas_shape.png",description:"Texas state outline with lone star",theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"}},florida:{name:"Sunshine Splash",type:"trail",unlock:"Invite a friend",asset:"trails/florida_trail.png",description:"Sunshine and palm tree particle trail",theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"}},new_york:{name:"Empire State",type:"flag",unlock:"Score 5000 coins",asset:"flags/new_york_flag.png",description:"Empire State flag pattern",theme:{primaryColor:"#1E3A8A",secondaryColor:"#F59E0B",accentColor:"#EF4444"}},hawaii:{name:"Aloha Trail",type:"trail",unlock:"Collect 50 hibiscus items",asset:"trails/hawaii_trail.png",description:"Hibiscus flower particle trail",theme:{primaryColor:"#059669",secondaryColor:"#F59E0B",accentColor:"#EF4444"}}})}catch(e){console.error("Error loading state skins:",e)}});return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,o.default)(function*(e){var t;l(e)?(st.impactAsync(st.ImpactFeedbackStyle.Medium),j(h[e]),Te.default.alert("Skin Equipped!",`${h[e].name} is now your active skin.`,[{text:"OK"}])):(st.impactAsync(st.ImpactFeedbackStyle.Light),Te.default.alert("Skin Locked",`Unlock this skin by: ${null==(t=h[e])?void 0:t.unlock}`,[{text:"OK"}]))});return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=h[e];t&&(st.impactAsync(st.ImpactFeedbackStyle.Heavy),Te.default.alert(t.name,`Type: ${t.type.toUpperCase()}\nUnlock: ${t.unlock}\nRarity: ${t.rarity||"common"}\n\n${t.description}`,[{text:"OK"}]))},A=function(e){return ln.getRarityColor(e)};return(0,u.jsxs)(G.default,{style:fn.container,children:[(0,u.jsxs)(G.default,{style:fn.header,children:[(0,u.jsx)(ee.default,{style:fn.title,children:"State Skins"}),(0,u.jsx)(ee.default,{style:fn.subtitle,children:"Unlock and customize your cart"})]}),(0,u.jsxs)(G.default,{style:fn.filterContainer,children:[(0,u.jsx)(de.default,{style:[fn.filterButton,"all"===b&&fn.filterActive],onPress:function(){return x("all")},children:(0,u.jsx)(ee.default,{style:[fn.filterText,"all"===b&&fn.filterTextActive],children:"All"})}),(0,u.jsx)(de.default,{style:[fn.filterButton,"flag"===b&&fn.filterActive],onPress:function(){return x("flag")},children:(0,u.jsx)(ee.default,{style:[fn.filterText,"flag"===b&&fn.filterTextActive],children:"Flags"})}),(0,u.jsx)(de.default,{style:[fn.filterButton,"shape"===b&&fn.filterActive],onPress:function(){return x("shape")},children:(0,u.jsx)(ee.default,{style:[fn.filterText,"shape"===b&&fn.filterTextActive],children:"Shapes"})}),(0,u.jsx)(de.default,{style:[fn.filterButton,"trail"===b&&fn.filterActive],onPress:function(){return x("trail")},children:(0,u.jsx)(ee.default,{style:[fn.filterText,"trail"===b&&fn.filterTextActive],children:"Trails"})}),(0,u.jsx)(de.default,{style:[fn.filterButton,"seasonal"===b&&fn.filterActive],onPress:function(){return x("seasonal")},children:(0,u.jsx)(ee.default,{style:[fn.filterText,"seasonal"===b&&fn.filterTextActive],children:"Seasonal"})})]}),S?(0,u.jsxs)(G.default,{style:fn.previewSection,children:[(0,u.jsxs)(ee.default,{style:fn.previewTitle,children:["Preview: ",S.name]}),(0,u.jsx)(G.default,{style:[fn.previewCart,{backgroundColor:S.theme.primaryColor}],children:(0,u.jsxs)(G.default,{style:fn.cartBody,children:["flag"===S.type&&(0,u.jsx)(G.default,{style:fn.flagPreview,children:(0,u.jsx)(ee.default,{style:fn.flagText,children:"\ud83c\udfc1"})}),"shape"===S.type&&(0,u.jsx)(G.default,{style:[fn.shapePreview,{borderColor:S.theme.accentColor}],children:(0,u.jsx)(ee.default,{style:fn.shapeText,children:"\u2605"})}),"trail"===S.type&&(0,u.jsx)(G.default,{style:fn.trailPreview,children:(0,u.jsx)(ee.default,{style:fn.trailText,children:"\u2728"})})]})})]}):null,0===d.length?null:(0,u.jsxs)(G.default,{style:fn.seasonalSection,children:[(0,u.jsxs)(G.default,{style:fn.sectionHeader,children:[(0,u.jsx)(ee.default,{style:fn.sectionTitle,children:"\ud83c\udf89 Limited Time - Seasonal Skins"}),(0,u.jsxs)(ee.default,{style:fn.sectionSubtitle,children:["Available during ",f.join(", ")]})]}),(0,u.jsx)(Ge.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:fn.seasonalScrollView,children:d.map(function(e){return(0,u.jsxs)(de.default,{style:[fn.seasonalCard,{backgroundColor:e.theme.primaryColor,borderColor:e.theme.accentColor}],onPress:function(){return P(e.id)},onLongPress:function(){return D(e.id)},onPressIn:function(){st.impactAsync(st.ImpactFeedbackStyle.Light)},activeOpacity:.7,children:[(0,u.jsx)(G.default,{style:[fn.seasonalBadge,{backgroundColor:"#F87171"}],children:(0,u.jsx)(ee.default,{style:fn.seasonalBadgeText,children:"SEASONAL"})}),(0,u.jsxs)(G.default,{style:fn.seasonalCardContent,children:[(0,u.jsx)(ee.default,{style:fn.seasonalCardName,children:e.name}),(0,u.jsx)(ee.default,{style:fn.seasonalCardDescription,children:e.description}),(0,u.jsx)(G.default,{style:[fn.seasonalCardType,{backgroundColor:e.theme.secondaryColor}],children:(0,u.jsx)(ee.default,{style:fn.seasonalCardTypeText,children:e.type.toUpperCase()})})]}),l(e.id)?(0,u.jsx)(G.default,{style:fn.unlockedIndicator,children:(0,u.jsx)(ee.default,{style:fn.unlockedText,children:"\u2713 UNLOCKED"})}):(0,u.jsx)(G.default,{style:fn.lockedIndicator,children:(0,u.jsxs)(ee.default,{style:fn.lockedText,children:["\ud83d\udd12 ",e.unlock]})})]},e.id)})})]}),(0,u.jsx)(Ge.default,{style:fn.skinsContainer,showsVerticalScrollIndicator:!1,children:(0,u.jsx)(G.default,{style:fn.skinsGrid,children:function(){var e=Object.entries(h);return"all"===b?e:e.filter(function(e){var t=(0,a.default)(e,2),n=(t[0],t[1]);return"seasonal"===b?"seasonal"===n.rarity:n.type===b})}().map(function(e){var t,n=(0,a.default)(e,2),r=n[0],o=n[1],i=l(r),c=k===r,d=s(r);return(0,u.jsxs)(de.default,{style:[fn.skinCard,{backgroundColor:i?o.theme.primaryColor:"#2A2A2A",borderColor:c?o.theme.accentColor:"transparent",borderWidth:c?3:1,opacity:i?1:.6}],onPress:function(){return P(r)},onLongPress:function(){return D(r)},onPressIn:function(){st.impactAsync(st.ImpactFeedbackStyle.Light)},activeOpacity:.7,children:[(0,u.jsx)(G.default,{style:[fn.rarityBadge,{backgroundColor:A(o.rarity)}],children:(0,u.jsx)(ee.default,{style:fn.rarityBadgeText,children:(null==(t=o.rarity)?void 0:t.toUpperCase())||"COMMON"})}),(0,u.jsxs)(G.default,{style:fn.skinHeader,children:[(0,u.jsx)(ee.default,{style:[fn.skinName,{color:i?"#FFFFFF":"#666666"}],children:o.name}),(0,u.jsx)(G.default,{style:[fn.skinType,{backgroundColor:o.theme.secondaryColor}],children:(0,u.jsx)(ee.default,{style:fn.skinTypeText,children:o.type.toUpperCase()})})]}),(0,u.jsx)(G.default,{style:fn.skinPreview,children:i?(0,u.jsxs)(G.default,{style:fn.previewContainer,children:["flag"===o.type&&(0,u.jsx)(Xt,{stateId:r,theme:o.theme,visualElements:{flagPattern:r}}),"shape"===o.type&&(0,u.jsx)(Jt,{stateId:r,theme:o.theme,visualElements:{shapeOutline:r}}),"trail"===o.type&&(0,u.jsx)(Zt,{stateId:r,theme:o.theme,visualElements:{particleEffect:r}})]}):(0,u.jsx)(G.default,{style:fn.lockedPreview,children:(0,u.jsx)(ee.default,{style:fn.lockedText,children:"\ud83d\udd12"})})}),(0,u.jsxs)(G.default,{style:fn.skinInfo,children:[(0,u.jsx)(ee.default,{style:[fn.skinDescription,{color:i?"#FFFFFF":"#999999"}],children:o.description}),(0,u.jsx)(ee.default,{style:[fn.unlockRequirement,{color:i?"#CCCCCC":"#FF6B6B"}],children:i?"\u2713 Unlocked":o.unlock}),d&&(0,u.jsx)(G.default,{style:fn.seasonalIndicator,children:(0,u.jsx)(ee.default,{style:fn.seasonalText,children:"\ud83c\udf89 SEASONAL"})})]}),c&&(0,u.jsx)(G.default,{style:[fn.selectedIndicator,{backgroundColor:o.theme.accentColor}],children:(0,u.jsx)(ee.default,{style:fn.selectedText,children:"\u2713 SELECTED"})})]},r)})})}),(0,u.jsx)(G.default,{style:fn.footer,children:(0,u.jsx)(de.default,{style:fn.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(ee.default,{style:fn.backButtonText,children:"Back to Game"})})})]})}var fn=q.default.create({container:{flex:1,backgroundColor:"#1A1A1A"},header:{padding:20,paddingTop:60,backgroundColor:"#2A2A2A"},title:{fontSize:28,fontWeight:"bold",color:"#FFFFFF",marginBottom:5},subtitle:{fontSize:16,color:"#CCCCCC"},filterContainer:{flexDirection:"row",padding:15,backgroundColor:"#2A2A2A",borderBottomWidth:1,borderBottomColor:"#333333"},filterButton:{flex:1,paddingVertical:10,paddingHorizontal:15,marginHorizontal:5,borderRadius:20,backgroundColor:"#333333",alignItems:"center"},filterActive:{backgroundColor:"#FFD700"},filterText:{color:"#FFFFFF",fontWeight:"bold"},filterTextActive:{color:"#1A1A1A"},skinsContainer:{flex:1,padding:15},skinsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},skinCard:{width:(un-45)/2,marginBottom:15,borderRadius:15,padding:15,borderWidth:1,borderColor:"#333333"},rarityBadge:{position:"absolute",top:8,right:8,paddingHorizontal:6,paddingVertical:2,borderRadius:10,zIndex:10},rarityBadgeText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},skinHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},skinName:{fontSize:14,fontWeight:"bold",flex:1},skinType:{paddingHorizontal:8,paddingVertical:4,borderRadius:10},skinTypeText:{fontSize:10,fontWeight:"bold",color:"#FFFFFF"},skinPreview:{height:80,justifyContent:"center",alignItems:"center",marginBottom:10},previewContainer:{width:60,height:40},lockedPreview:{width:60,height:40,justifyContent:"center",alignItems:"center",backgroundColor:"#333333",borderRadius:10},lockedText:{fontSize:24},skinInfo:{marginBottom:10},skinDescription:{fontSize:12,marginBottom:5,lineHeight:16},unlockRequirement:{fontSize:11,fontWeight:"bold"},rarityText:{fontSize:10,fontWeight:"bold",marginTop:2},selectedIndicator:{position:"absolute",top:10,right:10,paddingHorizontal:8,paddingVertical:4,borderRadius:10},selectedText:{fontSize:10,fontWeight:"bold",color:"#FFFFFF"},footer:{padding:20,backgroundColor:"#2A2A2A"},backButton:{backgroundColor:"#FFD700",paddingVertical:15,borderRadius:10,alignItems:"center"},backButtonText:{fontSize:16,fontWeight:"bold",color:"#1A1A1A"},previewSection:{padding:15,backgroundColor:"#2A2A2A",borderBottomWidth:1,borderBottomColor:"#333333"},previewTitle:{fontSize:16,fontWeight:"bold",color:"#FFFFFF",marginBottom:10,textAlign:"center"},previewCart:{height:80,borderRadius:10,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#333333"},cartBody:{width:60,height:40,justifyContent:"center",alignItems:"center"},flagPreview:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},flagText:{fontSize:20},shapePreview:{width:30,height:30,borderWidth:2,borderRadius:15,backgroundColor:"rgba(255, 255, 255, 0.9)",justifyContent:"center",alignItems:"center"},shapeText:{fontSize:16,color:"#000"},trailPreview:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},trailText:{fontSize:18},seasonalIndicator:{backgroundColor:"#F87171",paddingHorizontal:6,paddingVertical:2,borderRadius:8,marginTop:4,alignSelf:"flex-start"},seasonalText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},seasonalSection:{marginBottom:20},sectionHeader:{marginBottom:10,paddingHorizontal:20},sectionTitle:{fontSize:18,fontWeight:"bold",color:"#FFFFFF",marginBottom:4},sectionSubtitle:{fontSize:12,color:"#CCCCCC"},seasonalScrollView:{paddingHorizontal:20},seasonalCard:{width:200,height:120,marginRight:15,borderRadius:12,padding:12,borderWidth:2,position:"relative"},seasonalCardContent:{flex:1,justifyContent:"space-between"},seasonalCardName:{fontSize:14,fontWeight:"bold",color:"#FFFFFF",marginBottom:4},seasonalCardDescription:{fontSize:10,color:"#FFFFFF",opacity:.8,marginBottom:8},seasonalCardType:{paddingHorizontal:6,paddingVertical:2,borderRadius:8,alignSelf:"flex-start"},seasonalCardTypeText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},seasonalBadge:{position:"absolute",top:8,right:8,paddingHorizontal:6,paddingVertical:2,borderRadius:10,zIndex:10},seasonalBadgeText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},unlockedIndicator:{position:"absolute",bottom:8,left:8,backgroundColor:"#10B981",paddingHorizontal:6,paddingVertical:2,borderRadius:8},unlockedText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"},lockedIndicator:{position:"absolute",bottom:8,left:8,backgroundColor:"#EF4444",paddingHorizontal:6,paddingVertical:2,borderRadius:8},lockedText:{fontSize:8,fontWeight:"bold",color:"#FFFFFF"}}),pn=n(7148),gn=n(3779),hn=function(){function e(){(0,K.default)(this,e),this.deviceProfile=null,this.qualitySettings=null,this.listeners=new Set,this.initializeDeviceProfile(),this.setupListeners()}return(0,Q.default)(e,[{key:"initializeDeviceProfile",value:function(){var e=(0,o.default)(function*(){try{var e,t=ne.default.get("window"),n=t.width,r=t.height,o=He.default.get(),a=He.default.getFontScale(),i=n>=768?"tablet":"phone",l="tablet"===i;this.deviceProfile={deviceId:gn.default.sessionId,deviceName:"Web Browser",deviceType:n>1024?"desktop":i,brand:null,manufacturer:null,modelName:null,modelId:null,deviceYearClass:null,platform:"web",osVersion:null,systemVersion:"web",apiLevel:null,screenWidth:n,screenHeight:r,screenScale:o,pixelDensity:a,screenResolution:`${Math.round(n*o)}x${Math.round(r*o)}`,aspectRatio:this.calculateAspectRatio(n,r),orientation:n>r?"landscape":"portrait",isTablet:l,hasNotch:!1,hasDynamicIsland:!1,totalMemory:null,supportedCPUArchitectures:null,performanceTier:"high",graphicsCapability:"advanced",networkType:"unknown",isConnected:!0,isWifi:!1,isCellular:!1,cellularGeneration:null,networkQuality:"good",batteryLevel:null,batteryState:null,isLowPowerMode:!1,hasHaptics:!1,hasAudioSupport:!0,supportsWebP:!0,supportsHEIC:!1,supportsP3ColorSpace:!1,supportsHDR:!1,prefersReducedMotion:!1,prefersHighContrast:!1,textScaleFactor:He.default.getFontScale(),appVersion:(null==(e=gn.default.expoConfig)?void 0:e.version)||"1.0.0",buildNumber:"1",isExpoGo:!1,isStandalone:!0},this.qualitySettings=this.calculateQualitySettings(this.deviceProfile),yield this.saveDeviceProfile(),this.notifyListeners()}catch(s){console.error("Error initializing device profile:",s),this.deviceProfile=this.getFallbackProfile()}});return function(){return e.apply(this,arguments)}}()},{key:"calculateAspectRatio",value:function(e,t){var n=function(e,t){return 0===t?e:n(t,e%t)},r=n(e,t);return`${e/r}:${t/r}`}},{key:"calculateQualitySettings",value:function(e){return{imageQuality:"high",maxTextureSize:2048,enableBlurHash:!0,enableProgressive:!0,cacheStrategy:"aggressive",preloadStrategy:"next",compressionLevel:90}}},{key:"getFallbackProfile",value:function(){var e=ne.default.get("window"),t=e.width,n=e.height,r=t>=768;return{deviceId:"unknown",deviceName:"Unknown Device",deviceType:r?"tablet":"phone",brand:null,manufacturer:null,modelName:null,modelId:null,deviceYearClass:null,platform:"web",osVersion:null,systemVersion:"web",apiLevel:null,screenWidth:t,screenHeight:n,screenScale:He.default.get(),pixelDensity:He.default.getFontScale(),screenResolution:`${t}x${n}`,aspectRatio:"16:9",orientation:t>n?"landscape":"portrait",isTablet:r,hasNotch:!1,hasDynamicIsland:!1,totalMemory:null,supportedCPUArchitectures:null,performanceTier:"medium",graphicsCapability:"standard",networkType:null,isConnected:!0,isWifi:!1,isCellular:!1,cellularGeneration:null,networkQuality:"good",batteryLevel:null,batteryState:null,isLowPowerMode:!1,hasHaptics:!1,hasAudioSupport:!0,supportsWebP:!0,supportsHEIC:!1,supportsP3ColorSpace:!1,supportsHDR:!1,prefersReducedMotion:!1,prefersHighContrast:!1,textScaleFactor:1,appVersion:"1.0.0",buildNumber:"1",isExpoGo:!1,isStandalone:!0}}},{key:"setupListeners",value:function(){var e=this;ne.default.addEventListener("change",function(t){var n=t.window;e.deviceProfile&&(e.deviceProfile.screenWidth=n.width,e.deviceProfile.screenHeight=n.height,e.deviceProfile.orientation=n.width>n.height?"landscape":"portrait",e.notifyListeners())})}},{key:"notifyListeners",value:function(){var e=this;this.deviceProfile&&this.listeners.forEach(function(t){return t(e.deviceProfile)})}},{key:"saveDeviceProfile",value:function(){var e=(0,o.default)(function*(){if(this.deviceProfile)try{yield c.default.setItem("@device_profile",JSON.stringify(this.deviceProfile)),yield c.default.setItem("@quality_settings",JSON.stringify(this.qualitySettings))}catch(e){console.error("Error saving device profile:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"loadDeviceProfile",value:function(){var e=(0,o.default)(function*(){try{var e=yield c.default.getItem("@device_profile");if(e)return JSON.parse(e)}catch(t){console.error("Error loading device profile:",t)}return null});return function(){return e.apply(this,arguments)}}()},{key:"getDeviceProfile",value:function(){return this.deviceProfile||this.getFallbackProfile()}},{key:"getQualitySettings",value:function(){return this.qualitySettings||{imageQuality:"medium",maxTextureSize:2048,enableBlurHash:!0,enableProgressive:!0,cacheStrategy:"balanced",preloadStrategy:"next",compressionLevel:85}}},{key:"isHighEndDevice",value:function(){return!0}},{key:"isLowEndDevice",value:function(){return!1}},{key:"shouldReduceQuality",value:function(){return!1}},{key:"getOptimalImageResolution",value:function(){var e=this.getDeviceProfile();return e.screenScale>=3?"@3x":e.screenScale>=2?"@2x":"@1x"}},{key:"getRecommendedCachePolicy",value:function(){return"memory-disk"}},{key:"subscribe",value:function(e){var t=this;return this.listeners.add(e),function(){t.listeners.delete(e)}}},{key:"refresh",value:function(){var e=(0,o.default)(function*(){yield this.initializeDeviceProfile()});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}(),mn=hn.getInstance();function yn(){return mn.getOptimalImageResolution()}var vn=ne.default.get("window"),bn=(vn.width,vn.height,{cart:"L6H2:g00~q00_3%M%M%M~q00%M%M",trail:"L5H2EC=PM+%M~q%M~q%M%M%M~q%M",badge:"L5H2QC00~q%M~q%M~q%M~q%M~q%M",frame:"L5H2:g00~q00_3%M%M%M~q00%M%M",default:"L6PZfSxt~qt7%Mj[%Mj[~qt7%Mj["}),xn=function(e){var t=e.skinId,n=e.type,r=e.variant,o=void 0===r?"raster":r,l=e.aspectRatio,s=void 0===l?1:l,c=e.contentFit,d=void 0===c?"contain":c,f=e.backgroundColor,p=void 0===f?"transparent":f,g=e.containerStyle,h=e.imageStyle,m=e.onLoad,y=e.onError,v=e.showPlaceholder,b=void 0===v||v,x=e.priority,w=void 0===x?"normal":x,F=e.cachePolicy,S=e.transition,j=void 0===S?200:S,k=(0,i.useState)(function(){return mn.getDeviceProfile()}),C=(0,a.default)(k,1)[0],P=(0,i.useState)(function(){return mn.getQualitySettings()}),D=(0,a.default)(P,1)[0],A=(0,i.useState)(!0),I=(0,a.default)(A,2),_=I[0],E=I[1];(0,i.useEffect)(function(){return mn.subscribe(function(e){console.log("Device profile updated:",e.performanceTier)})},[]);var T=(0,i.useMemo)(function(){return F||mn.getRecommendedCachePolicy()},[F]),B=(0,i.useMemo)(function(){return mn.shouldReduceQuality()?{compressionLevel:.7,maxSize:D.maxTextureSize,enableBlur:!1}:{compressionLevel:D.compressionLevel/100,maxSize:D.maxTextureSize,enableBlur:D.enableBlurHash}},[D]),O=(0,i.useMemo)(function(){var e=`/assets/skins/${t}`;switch(o){case"hero":return`${e}/previews/${"tablet"===C.deviceType?"hero_tablet_1536x2048.png":"hero_phone_1080x1920.png"}`;case"thumbnail":var n=yn();return`${e}/thumbnails/${"@3x"===n?"thumb@3x.png":"@2x"===n?"thumb@2x.png":"thumb.png"}`;case"preview":return`${e}/previews/${D.maxTextureSize>=2048?"tile_1024.png":D.maxTextureSize>=1536?"tile_768.png":"tile_512.png"}`;default:var r=yn();return`${e}/raster/${t}${"@3x"===r?"@3x":"@2x"===r?"@2x":""}.png`}},[t,o,C,D]),U=(0,i.useMemo)(function(){var e,t,n="ultra"===C.performanceTier?1.2:"high"===C.performanceTier?1:"medium"===C.performanceTier?.9:.75;switch(o){case"hero":t="tablet"===C.deviceType?(e=Math.min(.7*C.screenWidth,768*n))*(2048/1536):(e=(C.screenWidth-40)*n)*(1920/1080);break;case"thumbnail":t=e=(C.isTablet?100:80)*n;break;case"preview":t=(e=(C.isTablet?400:300)*n)/s;var r=D.maxTextureSize/4;e>r&&(t=(e=r)/s);break;default:t=(e=(C.isTablet?400:320)*n)/s}return{width:Math.round(e),height:Math.round(t)}},[o,s,C,D]),L=(0,i.useMemo)(function(){if(B.enableBlur)return bn[n]||bn.default},[n,B.enableBlur]);return(0,u.jsxs)(G.default,{style:[wn.container,U,{backgroundColor:p},g],children:[(0,u.jsx)(pn.Image,{source:O,placeholder:b?L:void 0,contentFit:d,transition:B.enableBlur?j:0,priority:w,cachePolicy:T,style:[wn.image,U,h],onLoad:function(){E(!1),null==m||m()},onError:function(e){E(!1),console.warn(`Failed to load image: ${O}`,e),null==y||y(e)},recyclingKey:`${t}-${o}-${C.performanceTier}`,allowDownscaling:!0,autoplay:!C.prefersReducedMotion,resizeMode:d,responsivePolicy:C.isTablet?"live":"initial",accessible:!0,accessibilityLabel:`${n} skin: ${t}`}),_&&!b&&(0,u.jsx)(G.default,{style:wn.loadingOverlay,children:(0,u.jsx)(H.default,{size:"small",color:"#FFD700"})})]})};var wn=q.default.create({container:{overflow:"hidden",borderRadius:12,alignSelf:"center"},image:{flex:1},loadingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.3)"}});var Fn=n(2978);function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var kn=function(){function e(){(0,K.default)(this,e),this.isOnline=!0,this.syncQueue=[],this.syncInProgress=!1}return(0,Q.default)(e,[{key:"initialize",value:function(){var e=(0,o.default)(function*(){var e=this;Fn.default.addEventListener(function(t){var n;e.isOnline=null!=(n=t.isConnected)&&n,e.isOnline&&e.syncQueue.length>0&&e.syncPendingActions()}),yield this.loadOfflineData()});return function(){return e.apply(this,arguments)}}()},{key:"isConnected",value:function(){return this.isOnline}},{key:"saveOfflineData",value:function(){var e=(0,o.default)(function*(e,t){try{var n,r,o,a,i,l,s,u,d,f,p,g=`offline_data_${e}`,h=yield this.getOfflineData(e),m={userId:e,coins:null!=(n=null!=(r=t.coins)?r:h.coins)?n:0,highScore:null!=(o=null!=(a=t.highScore)?a:h.highScore)?o:0,gamesPlayed:null!=(i=null!=(l=t.gamesPlayed)?l:h.gamesPlayed)?i:0,achievements:null!=(s=null!=(u=t.achievements)?u:h.achievements)?s:[],purchases:null!=(d=null!=(f=t.purchases)?f:h.purchases)?d:[],lastSync:Date.now(),pendingActions:null!=(p=h.pendingActions)?p:[]};yield c.default.setItem(g,JSON.stringify(m))}catch(y){console.log("Error saving offline data:",y)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getOfflineData",value:function(){var e=(0,o.default)(function*(e){try{var t=`offline_data_${e}`,n=yield c.default.getItem(t);if(n)return JSON.parse(n)}catch(r){console.log("Error loading offline data:",r)}return{userId:e,coins:0,highScore:0,gamesPlayed:0,achievements:[],purchases:[],lastSync:Date.now(),pendingActions:[]}});return function(t){return e.apply(this,arguments)}}()},{key:"loadOfflineData",value:function(){var e=(0,o.default)(function*(e){try{var t=yield c.default.getItem(`offline_data_${e}`);return t?JSON.parse(t):null}catch(n){return console.error("Error loading offline data:",n),null}});return function(t){return e.apply(this,arguments)}}()},{key:"addPendingAction",value:function(){var e=(0,o.default)(function*(e,t){try{var n=yield this.getOfflineData(e),r=jn(jn({id:`action_${Date.now()}_${Math.random()}`},t),{},{timestamp:Date.now(),userId:e});n.pendingActions.push(r),yield this.saveOfflineData(e,n),this.isOnline&&this.syncPendingActions()}catch(o){console.log("Error adding pending action:",o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncPendingActions",value:function(){var e=(0,o.default)(function*(){if(!this.syncInProgress&&this.isOnline){this.syncInProgress=!0;try{var e=(yield c.default.getAllKeys()).filter(function(e){return e.startsWith("offline_data_")});for(var t of e){var n=t.replace("offline_data_",""),r=yield this.getOfflineData(n);r.pendingActions.length>0&&(yield this.syncUserActions(n,r.pendingActions),r.pendingActions=[],yield this.saveOfflineData(n,r))}}catch(o){console.log("Error syncing pending actions:",o)}finally{this.syncInProgress=!1}}});return function(){return e.apply(this,arguments)}}()},{key:"syncUserActions",value:function(){var e=(0,o.default)(function*(e,t){try{for(var n of t)switch(n.type){case"score_update":yield this.syncScoreUpdate(e,n.data);break;case"coin_update":yield this.syncCoinUpdate(e,n.data);break;case"purchase":yield this.syncPurchase(e,n.data);break;case"achievement":yield this.syncAchievement(e,n.data)}}catch(r){console.log("Error syncing user actions:",r)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncScoreUpdate",value:function(){var e=(0,o.default)(function*(e,t){console.log("Syncing score update:",{userId:e,data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncCoinUpdate",value:function(){var e=(0,o.default)(function*(e,t){console.log("Syncing coin update:",{userId:e,data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncPurchase",value:function(){var e=(0,o.default)(function*(e,t){console.log("Syncing purchase:",{userId:e,data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"syncAchievement",value:function(){var e=(0,o.default)(function*(e,t){console.log("Syncing achievement:",{userId:e,data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"updateScore",value:function(){var e=(0,o.default)(function*(e,t){var n=yield this.getOfflineData(e);t>n.highScore&&(n.highScore=t),n.gamesPlayed+=1,yield this.saveOfflineData(e,n),yield this.addPendingAction(e,{type:"score_update",data:{score:t,highScore:n.highScore,gamesPlayed:n.gamesPlayed}})});return function(t,n){return e.apply(this,arguments)}}()},{key:"updateCoins",value:function(){var e=(0,o.default)(function*(e,t){var n=yield this.getOfflineData(e);n.coins+=t,yield this.saveOfflineData(e,n),yield this.addPendingAction(e,{type:"coin_update",data:{coins:n.coins,change:t}})});return function(t,n){return e.apply(this,arguments)}}()},{key:"addAchievement",value:function(){var e=(0,o.default)(function*(e,t){var n=yield this.getOfflineData(e);n.achievements.includes(t)||(n.achievements.push(t),yield this.saveOfflineData(e,n),yield this.addPendingAction(e,{type:"achievement",data:{achievement:t,timestamp:Date.now()}}))});return function(t,n){return e.apply(this,arguments)}}()},{key:"recordPurchase",value:function(){var e=(0,o.default)(function*(e,t){var n=yield this.getOfflineData(e);n.purchases.push(t),yield this.saveOfflineData(e,n),yield this.addPendingAction(e,{type:"purchase",data:t})});return function(t,n){return e.apply(this,arguments)}}()},{key:"getOfflineStatus",value:function(){return{isOnline:this.isOnline,pendingActions:this.syncQueue.length,lastSync:Date.now()}}},{key:"clearAllOfflineData",value:function(){var e=(0,o.default)(function*(){try{var e=(yield c.default.getAllKeys()).filter(function(e){return e.startsWith("offline_data_")});yield c.default.multiRemove(e)}catch(t){console.log("Error clearing offline data:",t)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Cn=function(){function e(){(0,K.default)(this,e),this.progress=null}return(0,Q.default)(e,[{key:"initializeMetaGame",value:function(){var e=(0,o.default)(function*(e){try{var t=yield kn.getOfflineData(e);if(t.metaGame)return this.progress=t.metaGame,this.progress}catch(n){console.log("Error loading meta game data:",n)}return this.progress={userId:e,camp:{level:1,buildings:this.getDefaultBuildings(),totalCoinGeneration:0,totalExperienceBonus:0},shop:{level:1,availableItems:this.getDefaultShopItems(),purchasedItems:[]},pots:{currentPot:this.getDefaultPot(),ownedPots:[this.getDefaultPot()],currentSkin:this.getDefaultSkin(),ownedSkins:[this.getDefaultSkin()]},currency:{coins:100,gems:10,premiumCurrency:0},achievements:[],lastUpdated:new Date},yield this.saveMetaGameProgress(),this.progress});return function(t){return e.apply(this,arguments)}}()},{key:"getDefaultBuildings",value:function(){return[{id:"gold_mine",name:"Gold Mine",description:"Generates coins over time",level:1,maxLevel:10,cost:50,effects:{coinGeneration:1,experienceBonus:0,powerUpChance:0,specialBonuses:[]}},{id:"experience_fountain",name:"Experience Fountain",description:"Provides experience bonuses",level:1,maxLevel:10,cost:100,effects:{coinGeneration:0,experienceBonus:5,powerUpChance:0,specialBonuses:[]}},{id:"power_up_lab",name:"Power-up Laboratory",description:"Increases power-up spawn chance",level:1,maxLevel:10,cost:200,effects:{coinGeneration:0,experienceBonus:0,powerUpChance:2,specialBonuses:[]}}]}},{key:"getDefaultPot",value:function(){return{id:"basic_pot",name:"Basic Pot",description:"A simple pot for catching coins",level:1,maxLevel:5,cost:0,effects:{size:1,magnetRange:0,coinMultiplier:1,specialEffects:[]}}}},{key:"getDefaultSkin",value:function(){return{id:"default_skin",name:"Default Skin",description:"The classic pot appearance",rarity:"common",price:0,effects:[],visualEffects:[],unlocked:!0,image:"default_pot"}}},{key:"getDefaultShopItems",value:function(){return[{id:"magnet_pot",name:"Magnet Pot",description:"Automatically attracts nearby coins",category:"pot",price:500,currency:"coins",rarity:"rare",effects:["magnet_effect"],image:"magnet_pot",available:!0},{id:"turbo_pot",name:"Turbo Pot",description:"Moves faster and catches more coins",category:"pot",price:1e3,currency:"coins",rarity:"epic",effects:["speed_boost","catch_bonus"],image:"turbo_pot",available:!0},{id:"flame_pot",name:"Flame Pot",description:"Burns through obstacles and fake coins",category:"pot",price:2e3,currency:"coins",rarity:"legendary",effects:["obstacle_destruction","fake_coin_detection"],image:"flame_pot",available:!0},{id:"golden_skin",name:"Golden Skin",description:"Shiny golden pot with sparkle effects",category:"skin",price:300,currency:"coins",rarity:"rare",effects:["visual_sparkles"],image:"golden_skin",available:!0},{id:"rainbow_skin",name:"Rainbow Skin",description:"Colorful rainbow pot with trail effects",category:"skin",price:800,currency:"coins",rarity:"epic",effects:["rainbow_trail","color_changing"],image:"rainbow_skin",available:!0},{id:"cosmic_skin",name:"Cosmic Skin",description:"Space-themed pot with particle effects",category:"skin",price:1500,currency:"coins",rarity:"legendary",effects:["particle_effects","cosmic_trail"],image:"cosmic_skin",available:!0}]}},{key:"upgradeBuilding",value:function(){var e=(0,o.default)(function*(e){if(!this.progress)return{success:!1,newLevel:0,cost:0,effects:{}};var t=this.progress.camp.buildings.find(function(t){return t.id===e});if(!t||t.level>=t.maxLevel)return{success:!1,newLevel:(null==t?void 0:t.level)||0,cost:0,effects:{}};var n=t.cost*Math.pow(1.5,t.level-1);return this.progress.currency.coins<n?{success:!1,newLevel:t.level,cost:n,effects:{}}:(t.level++,this.progress.currency.coins-=n,t.effects.coinGeneration*=1.2,t.effects.experienceBonus*=1.15,t.effects.powerUpChance*=1.1,this.updateCampTotals(),yield this.saveMetaGameProgress(),{success:!0,newLevel:t.level,cost:n,effects:t.effects})});return function(t){return e.apply(this,arguments)}}()},{key:"purchaseShopItem",value:function(){var e=(0,o.default)(function*(e){if(!this.progress)return{success:!1,item:null,remainingCurrency:0};var t=this.progress.shop.availableItems.find(function(t){return t.id===e});if(!t||!t.available)return{success:!1,item:null,remainingCurrency:this.progress.currency.coins};var n="coins"===t.currency?"coins":"gems"===t.currency?"gems":"premiumCurrency";return this.progress.currency[n]<t.price?{success:!1,item:null,remainingCurrency:this.progress.currency[n]}:(this.progress.currency[n]-=t.price,this.progress.shop.purchasedItems.push(e),"pot"===t.category?yield this.addPotToCollection(t):"skin"===t.category&&(yield this.addSkinToCollection(t)),yield this.saveMetaGameProgress(),{success:!0,item:t,remainingCurrency:this.progress.currency[n]})});return function(t){return e.apply(this,arguments)}}()},{key:"addPotToCollection",value:function(){var e=(0,o.default)(function*(e){if(this.progress){var t={id:e.id,name:e.name,description:e.description,level:1,maxLevel:5,cost:e.price,effects:this.getPotEffects(e)};this.progress.pots.ownedPots.push(t)}});return function(t){return e.apply(this,arguments)}}()},{key:"addSkinToCollection",value:function(){var e=(0,o.default)(function*(e){if(this.progress){var t={id:e.id,name:e.name,description:e.description,rarity:e.rarity,price:e.price,effects:e.effects,visualEffects:e.effects.filter(function(e){return e.includes("visual")||e.includes("trail")}),unlocked:!0,image:e.image};this.progress.pots.ownedSkins.push(t)}});return function(t){return e.apply(this,arguments)}}()},{key:"getPotEffects",value:function(e){var t={size:1,magnetRange:0,coinMultiplier:1,specialEffects:[]};return e.effects.includes("magnet_effect")&&(t.magnetRange=50),e.effects.includes("speed_boost")&&t.specialEffects.push("speed_boost"),e.effects.includes("catch_bonus")&&(t.coinMultiplier=1.5),e.effects.includes("obstacle_destruction")&&t.specialEffects.push("obstacle_destruction"),t}},{key:"equipSkin",value:function(){var e=(0,o.default)(function*(e){if(!this.progress)return!1;var t=this.progress.pots.ownedSkins.find(function(t){return t.id===e});return!!t&&(this.progress.pots.currentSkin=t,yield this.saveMetaGameProgress(),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"equipPot",value:function(){var e=(0,o.default)(function*(e){if(!this.progress)return!1;var t=this.progress.pots.ownedPots.find(function(t){return t.id===e});return!!t&&(this.progress.pots.currentPot=t,yield this.saveMetaGameProgress(),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"updateCampTotals",value:function(){this.progress&&(this.progress.camp.totalCoinGeneration=this.progress.camp.buildings.reduce(function(e,t){return e+t.effects.coinGeneration},0),this.progress.camp.totalExperienceBonus=this.progress.camp.buildings.reduce(function(e,t){return e+t.effects.experienceBonus},0))}},{key:"generatePassiveIncome",value:function(){var e=(0,o.default)(function*(){if(!this.progress)return{coins:0,experience:0,powerUps:[]};var e=(Date.now()-this.progress.lastUpdated.getTime())/36e5,t=Math.floor(this.progress.camp.totalCoinGeneration*e),n=Math.floor(this.progress.camp.totalExperienceBonus*e);return this.progress.currency.coins+=t,this.progress.lastUpdated=new Date,yield this.saveMetaGameProgress(),{coins:t,experience:n,powerUps:[]}});return function(){return e.apply(this,arguments)}}()},{key:"saveMetaGameProgress",value:function(){var e=(0,o.default)(function*(){if(this.progress)try{yield kn.saveOfflineData(this.progress.userId,{metaGame:this.progress}),yield kn.addPendingAction(this.progress.userId,{type:"meta_game_update",data:this.progress})}catch(e){console.log("Error saving meta game progress:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"getProgress",value:function(){return this.progress}},{key:"getAvailableShopItems",value:function(){return this.progress?this.progress.shop.availableItems.filter(function(e){return e.available}):[]}},{key:"getOwnedSkins",value:function(){return this.progress?this.progress.pots.ownedSkins:[]}},{key:"getOwnedPots",value:function(){return this.progress?this.progress.pots.ownedPots:[]}},{key:"getCurrentPotEffects",value:function(){return this.progress?this.progress.pots.currentPot.effects:this.getDefaultPot().effects}},{key:"getCurrentSkinEffects",value:function(){return this.progress?this.progress.pots.currentSkin.visualEffects:[]}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance();function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var An=ne.default.get("window").width>=768;function In(e){var t=e.navigation,n=(0,i.useState)("carts"),l=(0,a.default)(n,2),s=l[0],c=l[1],d=(0,i.useState)(null),f=(0,a.default)(d,2),p=f[0],g=f[1],h=(0,i.useState)({cart:null,trail:null,badge:null,frame:null}),m=(0,a.default)(h,2),y=m[0],v=m[1],b=(0,i.useState)(!1),x=(0,a.default)(b,2),w=x[0],F=x[1],S=(0,i.useState)([]),j=(0,a.default)(S,2),k=j[0],C=j[1];(0,i.useEffect)(function(){P()},[]);var P=function(){var e=(0,o.default)(function*(){F(!0);try{Cn.getOwnedSkins(),Cn.getEquippedItems();var e,t,n,r,o=[{id:"cart_aurora_gold_v1",type:"cart",name:"Aurora Gold Cart",rarity:"legendary",equipped:!1,unlockDate:"2025-08-01"},{id:"cart_harvest_brass_v1",type:"cart",name:"Harvest Brass Cart",rarity:"epic",equipped:!0,unlockDate:"2025-09-01"},{id:"cart_starlight_chrome_v1",type:"cart",name:"Starlight Chrome",rarity:"rare",equipped:!1,unlockDate:"2025-12-01"},{id:"trail_sunflare_v1",type:"trail",name:"Sunflare Trail",rarity:"rare",equipped:!0,unlockDate:"2025-08-01"},{id:"trail_crystal_snow_v1",type:"trail",name:"Crystal Snow",rarity:"seasonal",equipped:!1,unlockDate:"2025-12-01"},{id:"badge_founders_vault_v1",type:"badge",name:"Founders Badge",rarity:"epic",equipped:!0,unlockDate:"2025-08-01"},{id:"badge_solstice_star_v1",type:"badge",name:"Solstice Star",rarity:"legendary",equipped:!1,unlockDate:"2025-12-01"},{id:"frame_aurum_ribbon_v1",type:"frame",name:"Aurum Ribbon",rarity:"uncommon",equipped:!1,unlockDate:"2025-08-01"},{id:"frame_northern_arc_v1",type:"frame",name:"Northern Arc",rarity:"rare",equipped:!0,unlockDate:"2025-12-01"}];C(o);var a={cart:(null==(e=o.find(function(e){return"cart"===e.type&&e.equipped}))?void 0:e.id)||null,trail:(null==(t=o.find(function(e){return"trail"===e.type&&e.equipped}))?void 0:t.id)||null,badge:(null==(n=o.find(function(e){return"badge"===e.type&&e.equipped}))?void 0:n.id)||null,frame:(null==(r=o.find(function(e){return"frame"===e.type&&e.equipped}))?void 0:r.id)||null};v(a)}catch(i){console.error("Error loading locker data:",i)}finally{F(!1)}});return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.default)(function*(e){st.impactAsync(st.ImpactFeedbackStyle.Medium);var t=k.map(function(t){return Dn(Dn({},t),{},{equipped:t.type===e.type?t.id===e.id:t.equipped})});C(t),v(Dn(Dn({},y),{},(0,r.default)({},e.type,e.id))),Te.default.alert("Equipped!",`${e.name} is now equipped`,[{text:"OK"}])});return function(t){return e.apply(this,arguments)}}(),A=function(e){switch(e){case"common":default:return"#ccc";case"uncommon":return"#4CAF50";case"rare":return"#2196F3";case"epic":return"#9C27B0";case"legendary":return"#FFD700";case"seasonal":return"#FF6B6B"}},I=function(e){switch(e){case"legendary":return["#FFD700","#FFA500"];case"epic":return["#9C27B0","#E91E63"];case"rare":return["#2196F3","#00BCD4"];case"uncommon":return["#4CAF50","#8BC34A"];case"seasonal":return["#FF6B6B","#FF8E53"];default:return["#757575","#9E9E9E"]}},_={carts:"cart",trails:"trail",badges:"badge",frames:"frame"},E=_[s]||"cart",T=k.filter(function(e){return e.type===E});return w?(0,u.jsxs)(G.default,{style:_n.container,children:[(0,u.jsx)(H.default,{size:"large",color:"#FFD700"}),(0,u.jsx)(ee.default,{style:_n.loadingText,children:"Loading your collection..."})]}):(0,u.jsxs)(G.default,{style:_n.container,children:[(0,u.jsxs)(re.LinearGradient,{colors:["#2a2a2a","#1a1a1a"],style:_n.header,children:[(0,u.jsx)(ee.default,{style:_n.headerTitle,children:"\ud83c\udfc6 MY LOCKER"}),(0,u.jsxs)(ee.default,{style:_n.headerSubtitle,children:[k.length," items collected"]})]}),(0,u.jsxs)(G.default,{style:_n.loadoutSection,children:[(0,u.jsx)(ee.default,{style:_n.loadoutTitle,children:"CURRENT LOADOUT"}),(0,u.jsx)(G.default,{style:_n.loadoutGrid,children:Object.entries(y).map(function(e){var t=(0,a.default)(e,2),n=t[0],r=t[1];return(0,u.jsxs)(G.default,{style:_n.loadoutItem,children:[(0,u.jsx)(ee.default,{style:_n.loadoutType,children:n.toUpperCase()}),r?(0,u.jsx)(xn,{skinId:r,type:n,variant:"thumbnail",containerStyle:_n.loadoutThumbnail,showPlaceholder:!0}):(0,u.jsx)(G.default,{style:[_n.loadoutThumbnail,_n.emptySlot],children:(0,u.jsx)(fe.default,{name:"add-circle-outline",size:30,color:"#666"})})]},n)})})]}),(0,u.jsx)(Ge.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:_n.categoryScroll,children:["carts","trails","badges","frames"].map(function(e){return(0,u.jsxs)(de.default,{style:[_n.categoryTab,s===e&&_n.categoryTabActive],onPress:function(){return c(e)},children:[(0,u.jsx)(ee.default,{style:[_n.categoryText,s===e&&_n.categoryTextActive],children:e.toUpperCase()}),(0,u.jsx)(ee.default,{style:_n.categoryCount,children:k.filter(function(t){return t.type===_[e]}).length})]},e)})}),(0,u.jsx)(Ge.default,{style:_n.collectionContainer,children:(0,u.jsxs)(G.default,{style:_n.collectionGrid,children:[T.map(function(e){var t=y[e.type]===e.id;return(0,u.jsx)(de.default,{style:[_n.lockerItem,t&&_n.equippedItem],onPress:function(){return g(e)},activeOpacity:.9,children:(0,u.jsx)(re.LinearGradient,{colors:I(e.rarity),style:_n.rarityBorder,children:(0,u.jsxs)(G.default,{style:_n.itemInner,children:[(0,u.jsxs)(G.default,{style:_n.itemPreview,children:[(0,u.jsx)(xn,{skinId:e.id,type:e.type,variant:"thumbnail",containerStyle:_n.itemThumbnail,showPlaceholder:!0}),t&&(0,u.jsx)(G.default,{style:_n.equippedBadge,children:(0,u.jsx)(ee.default,{style:_n.equippedText,children:"EQUIPPED"})})]}),(0,u.jsx)(ee.default,{style:_n.itemName,numberOfLines:1,children:e.name}),(0,u.jsx)(ee.default,{style:[_n.itemRarity,{color:A(e.rarity)}],children:e.rarity.toUpperCase()}),(0,u.jsxs)(ee.default,{style:_n.unlockDate,children:["Unlocked: ",new Date(e.unlockDate).toLocaleDateString()]}),!t&&(0,u.jsx)(de.default,{style:_n.equipButton,onPress:function(){return D(e)},children:(0,u.jsx)(ee.default,{style:_n.equipButtonText,children:"EQUIP"})})]})})},e.id)}),0===T.length&&(0,u.jsxs)(G.default,{style:_n.emptyState,children:[(0,u.jsx)(fe.default,{name:"lock-closed",size:50,color:"#666"}),(0,u.jsxs)(ee.default,{style:_n.emptyText,children:["No ",s," unlocked yet"]}),(0,u.jsx)(de.default,{style:_n.shopButton,onPress:function(){return t.navigate("Shop")},children:(0,u.jsx)(ee.default,{style:_n.shopButtonText,children:"Visit Shop"})})]})]})}),function(){if(!p)return null;var e=y[p.type]===p.id;return(0,u.jsx)(G.default,{style:_n.previewSection,children:(0,u.jsxs)(re.LinearGradient,{colors:["#2a2a2a","#1a1a1a"],style:_n.previewContainer,children:[(0,u.jsx)(ee.default,{style:_n.previewTitle,children:"PREVIEW"}),(0,u.jsx)(xn,{skinId:p.id,type:p.type,variant:"preview",containerStyle:_n.largePreview,showPlaceholder:!0}),(0,u.jsx)(ee.default,{style:_n.previewName,children:p.name}),(0,u.jsxs)(ee.default,{style:[_n.previewRarity,{color:A(p.rarity)}],children:[p.rarity.toUpperCase()," ",p.type.toUpperCase()]}),!e&&(0,u.jsx)(de.default,{style:_n.equipLargeButton,onPress:function(){return D(p)},children:(0,u.jsx)(ee.default,{style:_n.equipLargeButtonText,children:"EQUIP NOW"})}),e&&(0,u.jsxs)(G.default,{style:_n.equippedLargeBadge,children:[(0,u.jsx)(fe.default,{name:"checkmark-circle",size:24,color:"#4CAF50"}),(0,u.jsx)(ee.default,{style:_n.equippedLargeText,children:"CURRENTLY EQUIPPED"})]}),(0,u.jsx)(de.default,{style:_n.closePreview,onPress:function(){return g(null)},children:(0,u.jsx)(fe.default,{name:"close-circle",size:30,color:"#666"})})]})})}(),(0,u.jsxs)(G.default,{style:_n.navigation,children:[(0,u.jsxs)(de.default,{style:_n.navButton,onPress:function(){return t.goBack()},children:[(0,u.jsx)(fe.default,{name:"arrow-back",size:24,color:"#fff"}),(0,u.jsx)(ee.default,{style:_n.navButtonText,children:"Back"})]}),(0,u.jsxs)(de.default,{style:_n.navButton,onPress:function(){return t.navigate("Shop")},children:[(0,u.jsx)(fe.default,{name:"cart",size:24,color:"#fff"}),(0,u.jsx)(ee.default,{style:_n.navButtonText,children:"Shop"})]})]})]})}var _n=q.default.create({container:{flex:1,backgroundColor:"#1a1a1a"},header:{paddingTop:50,paddingBottom:20,paddingHorizontal:20,alignItems:"center"},headerTitle:{fontSize:An?28:24,fontWeight:"bold",color:"#FFD700"},headerSubtitle:{fontSize:An?16:14,color:"#999",marginTop:5},loadoutSection:{padding:15,backgroundColor:"#2a2a2a",marginVertical:10},loadoutTitle:{fontSize:An?16:14,fontWeight:"bold",color:"#FFD700",marginBottom:10},loadoutGrid:{flexDirection:"row",justifyContent:"space-around"},loadoutItem:{alignItems:"center"},loadoutType:{fontSize:An?12:10,color:"#999",marginBottom:5},loadoutThumbnail:{width:An?70:60,height:An?70:60,borderRadius:10,overflow:"hidden"},emptySlot:{backgroundColor:"#333",justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#444",borderStyle:"dashed"},categoryScroll:{maxHeight:60,backgroundColor:"#2a2a2a"},categoryTab:{paddingHorizontal:20,paddingVertical:15,alignItems:"center",borderBottomWidth:3,borderBottomColor:"transparent"},categoryTabActive:{borderBottomColor:"#FFD700"},categoryText:{fontSize:An?14:12,color:"#999",fontWeight:"600"},categoryTextActive:{color:"#FFD700"},categoryCount:{fontSize:An?10:8,color:"#666",marginTop:2},collectionContainer:{flex:1},collectionGrid:{flexDirection:"row",flexWrap:"wrap",padding:10,justifyContent:"space-between"},lockerItem:{width:An?"23%":"48%",marginBottom:15,borderRadius:12,overflow:"hidden"},equippedItem:{transform:[{scale:.95}]},rarityBorder:{padding:2,borderRadius:12},itemInner:{backgroundColor:"#2a2a2a",borderRadius:10,padding:10,alignItems:"center"},itemPreview:{width:"100%",aspectRatio:1,marginBottom:8,position:"relative"},itemThumbnail:{width:"100%",height:"100%",borderRadius:8},equippedBadge:{position:"absolute",top:5,right:5,backgroundColor:"#4CAF50",borderRadius:8,paddingHorizontal:6,paddingVertical:2},equippedText:{color:"#fff",fontSize:An?10:8,fontWeight:"bold"},itemName:{fontSize:An?14:12,color:"#fff",fontWeight:"600",marginBottom:2},itemRarity:{fontSize:An?12:10,fontWeight:"600",marginBottom:5},unlockDate:{fontSize:An?10:8,color:"#666",marginBottom:8},equipButton:{backgroundColor:"#2196F3",paddingHorizontal:15,paddingVertical:6,borderRadius:15},equipButtonText:{color:"#fff",fontSize:An?12:10,fontWeight:"bold"},previewSection:{position:"absolute",bottom:80,left:20,right:20,zIndex:100},previewContainer:{padding:20,borderRadius:20,alignItems:"center",elevation:10,shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.3,shadowRadius:10},previewTitle:{fontSize:An?14:12,color:"#999",marginBottom:10},largePreview:{width:An?200:150,height:An?200:150,borderRadius:16,marginBottom:15},previewName:{fontSize:An?18:16,fontWeight:"bold",color:"#fff",marginBottom:5},previewRarity:{fontSize:An?14:12,fontWeight:"600",marginBottom:15},equipLargeButton:{backgroundColor:"#4CAF50",paddingHorizontal:30,paddingVertical:12,borderRadius:20},equipLargeButtonText:{color:"#fff",fontSize:An?14:12,fontWeight:"bold"},equippedLargeBadge:{flexDirection:"row",alignItems:"center",padding:10},equippedLargeText:{color:"#4CAF50",fontSize:An?14:12,fontWeight:"bold",marginLeft:8},closePreview:{position:"absolute",top:10,right:10},emptyState:{flex:1,width:"100%",paddingVertical:50,alignItems:"center"},emptyText:{color:"#666",fontSize:An?16:14,marginTop:10,marginBottom:20},shopButton:{backgroundColor:"#FFD700",paddingHorizontal:30,paddingVertical:12,borderRadius:20},shopButtonText:{color:"#1a1a1a",fontSize:An?14:12,fontWeight:"bold"},navigation:{flexDirection:"row",padding:15,backgroundColor:"#2a2a2a",justifyContent:"space-around"},navButton:{flexDirection:"row",alignItems:"center",backgroundColor:"#333",paddingHorizontal:20,paddingVertical:10,borderRadius:20},navButtonText:{color:"#fff",fontSize:An?14:12,fontWeight:"600",marginLeft:8},loadingText:{color:"#999",fontSize:An?16:14,marginTop:20}}),En=n(2643),Tn=n.n(En);function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Un=function(){function e(){(0,K.default)(this,e),this.currentUser=null}return(0,Q.default)(e,[{key:"createUserProfile",value:function(){var e=(0,o.default)(function*(e,t,n,r,o){var a=o?function(e){return Tn()(e).toString()}(o):void 0,i=On(On({uid:e,username:t.toLowerCase(),displayName:n,email:r},a?{password:a}:{}),{},{coins:100,highScore:0,gamesPlayed:0,achievements:[],level:1,createdAt:new Date,lastSeen:new Date,isOnline:!0,friends:[],privacySettings:{showOnlineStatus:!0,allowFriendRequests:!0,showInLeaderboards:!0}});try{return yield(0,v.setDoc)((0,v.doc)(z,"users",e),i),yield kn.saveOfflineData(e,{coins:i.coins,highScore:i.highScore,gamesPlayed:i.gamesPlayed,achievements:i.achievements}),this.currentUser=i,i}catch(l){throw console.log("Error creating user profile:",l),l}});return function(t,n,r,o,a){return e.apply(this,arguments)}}()},{key:"getUserProfile",value:function(){var e=(0,o.default)(function*(e){try{var t=yield(0,v.getDoc)((0,v.doc)(z,"users",e));if(t.exists())return t.data()}catch(n){console.log("Error getting user profile:",n)}return null});return function(t){return e.apply(this,arguments)}}()},{key:"updateUserProfile",value:function(){var e=(0,o.default)(function*(e,t){try{var n;yield(0,v.updateDoc)((0,v.doc)(z,"users",e),On(On({},t),{},{lastSeen:new Date})),(null==(n=this.currentUser)?void 0:n.uid)===e&&(this.currentUser=On(On({},this.currentUser),t))}catch(r){console.log("Error updating user profile:",r)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"validateUsername",value:function(){var e=(0,o.default)(function*(e){var t=e.toLowerCase().trim();if(t.length<3||t.length>20)return{isValid:!1,error:"Username must be between 3 and 20 characters"};if(!/^[a-zA-Z0-9_]+$/.test(t))return{isValid:!1,error:"Username can only contain letters, numbers, and underscores"};try{var n=(0,v.collection)(z,"users"),r=(0,v.query)(n,(0,v.where)("username","==",t));if(!(yield(0,v.getDocs)(r)).empty)return{isValid:!1,error:"Username is already taken"}}catch(o){return console.log("Error checking username availability:",o),{isValid:!1,error:"Unable to check username availability"}}return{isValid:!0}});return function(t){return e.apply(this,arguments)}}()},{key:"searchUsers",value:function(){var e=(0,o.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{var n=(0,v.collection)(z,"users"),r=(0,v.query)(n,(0,v.where)("username",">=",e.toLowerCase()),(0,v.where)("username","<=",e.toLowerCase()+"\uf8ff")),o=yield(0,v.getDocs)(r),a=[];return o.forEach(function(e){var t=e.data();t.privacySettings.showInLeaderboards&&a.push(t)}),a.slice(0,t)}catch(i){return console.log("Error searching users:",i),[]}});return function(t){return e.apply(this,arguments)}}()},{key:"getUserByUsername",value:function(){var e=(0,o.default)(function*(e){try{var t=(0,v.collection)(z,"users"),n=(0,v.query)(t,(0,v.where)("username","==",e.toLowerCase())),r=yield(0,v.getDocs)(n);if(!r.empty)return r.docs[0].data()}catch(o){console.log("Error getting user by username:",o)}return null});return function(t){return e.apply(this,arguments)}}()},{key:"addFriend",value:function(){var e=(0,o.default)(function*(e,t){try{var n,r;yield(0,v.updateDoc)((0,v.doc)(z,"users",e),{friends:[].concat((0,y.default)((null==(n=this.currentUser)?void 0:n.friends)||[]),[t])}),yield(0,v.updateDoc)((0,v.doc)(z,"users",t),{friends:[].concat((0,y.default)((null==(r=yield this.getUserProfile(t))?void 0:r.friends)||[]),[e])})}catch(o){console.log("Error adding friend:",o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"removeFriend",value:function(){var e=(0,o.default)(function*(e,t){try{var n=yield this.getUserProfile(e);n&&(yield(0,v.updateDoc)((0,v.doc)(z,"users",e),{friends:n.friends.filter(function(e){return e!==t})}));var r=yield this.getUserProfile(t);r&&(yield(0,v.updateDoc)((0,v.doc)(z,"users",t),{friends:r.friends.filter(function(t){return t!==e})}))}catch(o){console.log("Error removing friend:",o)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserFriends",value:function(){var e=(0,o.default)(function*(e){try{var t=yield this.getUserProfile(e);if(!t)return[];var n=[];for(var r of t.friends){var o=yield this.getUserProfile(r);o&&n.push(o)}return n}catch(a){return console.log("Error getting user friends:",a),[]}});return function(t){return e.apply(this,arguments)}}()},{key:"updateOnlineStatus",value:function(){var e=(0,o.default)(function*(e,t){try{yield(0,v.updateDoc)((0,v.doc)(z,"users",e),{isOnline:t,lastSeen:new Date})}catch(n){console.log("Error updating online status:",n)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){return this.currentUser}},{key:"setCurrentUser",value:function(e){this.currentUser=e}},{key:"updateUserStats",value:function(){var e=(0,o.default)(function*(e,t){try{var n;yield(0,v.updateDoc)((0,v.doc)(z,"users",e),t),yield kn.saveOfflineData(e,t),(null==(n=this.currentUser)?void 0:n.uid)===e&&(this.currentUser=On(On({},this.currentUser),t))}catch(r){console.log("Error updating user stats:",r)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getLeaderboardUsers",value:function(){var e=(0,o.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;try{var t=(0,v.collection)(z,"users"),n=(0,v.query)(t,(0,v.where)("privacySettings.showInLeaderboards","==",!0)),r=yield(0,v.getDocs)(n),o=[];return r.forEach(function(e){o.push(e.data())}),o.sort(function(e,t){return t.highScore-e.highScore}).slice(0,e)}catch(a){return console.log("Error getting leaderboard users:",a),[]}});return function(){return e.apply(this,arguments)}}()},{key:"deleteUserAccount",value:function(){var e=(0,o.default)(function*(e){try{var t;yield(0,v.setDoc)((0,v.doc)(z,"users",e),{deleted:!0}),yield kn.clearAllOfflineData(),(null==(t=this.currentUser)?void 0:t.uid)===e&&(this.currentUser=null)}catch(n){console.log("Error deleting user account:",n)}});return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),Ln=q.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingTop:60,paddingBottom:20},backButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:20,padding:8},title:{fontSize:24,fontWeight:"bold",color:"white"},refreshButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:20,padding:8},offlineBanner:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 0, 0, 0.2)",paddingHorizontal:20,paddingVertical:8,marginHorizontal:20,borderRadius:8},offlineText:{color:"white",fontSize:12,marginLeft:8},tabContainer:{flexDirection:"row",marginHorizontal:20,marginBottom:20,backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:12,padding:4},tabButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:12,borderRadius:8},activeTab:{backgroundColor:"rgba(255, 255, 255, 0.3)"},tabText:{fontSize:14,fontWeight:"bold",color:"white",marginLeft:4},activeTabText:{color:"#FFD700"},list:{flex:1},listContent:{paddingHorizontal:20,paddingBottom:20},leaderboardItem:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16,marginBottom:12},currentUserItem:{backgroundColor:"rgba(255, 215, 0, 0.3)",borderWidth:2,borderColor:"#FFD700"},topThreeItem:{backgroundColor:"rgba(255, 255, 255, 0.3)"},rankContainer:{width:40,alignItems:"center"},topThreeRank:{width:50},rankText:{fontSize:16,fontWeight:"bold",color:"white"},userInfo:{flex:1,marginLeft:12},username:{fontSize:16,fontWeight:"bold",color:"white",marginBottom:2},userStats:{fontSize:12,color:"white",opacity:.8},scoreContainer:{alignItems:"flex-end"},scoreText:{fontSize:18,fontWeight:"bold",color:"white"},scoreLabel:{fontSize:10,color:"white",opacity:.8},currentUserIndicator:{marginLeft:8},currentUserText:{color:"#FFD700",fontWeight:"bold"},emptyState:{alignItems:"center",justifyContent:"center",paddingVertical:60},emptyStateTitle:{fontSize:18,fontWeight:"bold",color:"white",marginTop:16,marginBottom:8},emptyStateSubtitle:{fontSize:14,color:"white",opacity:.8,textAlign:"center"},currentUserStats:{backgroundColor:"rgba(255, 255, 255, 0.2)",marginHorizontal:20,marginBottom:20,borderRadius:16,padding:16},currentUserStatsTitle:{fontSize:16,fontWeight:"bold",color:"white",marginBottom:12,textAlign:"center"},statsRow:{flexDirection:"row",justifyContent:"space-around"},statItem:{alignItems:"center"},statValue:{fontSize:18,fontWeight:"bold",color:"#FFD700"},statLabel:{fontSize:12,color:"white",opacity:.8,marginTop:2}});const zn=function(e){var t=e.navigation,n=h().gameState,r=(0,i.useState)([]),l=(0,a.default)(r,2),s=l[0],c=l[1],d=(0,i.useState)([]),f=(0,a.default)(d,2),p=f[0],g=f[1],m=(0,i.useState)(!0),y=(0,a.default)(m,2),v=(y[0],y[1]),b=(0,i.useState)(!1),x=(0,a.default)(b,2),w=x[0],F=x[1],S=(0,i.useState)("global"),j=(0,a.default)(S,2),k=j[0],C=j[1],P=(0,i.useState)(!1),D=(0,a.default)(P,2),A=D[0],I=D[1];(0,i.useEffect)(function(){_()},[]);var _=function(){var e=(0,o.default)(function*(){try{v(!0);var e=kn.isConnected();if(I(!e),e){var t=(yield Un.getLeaderboardUsers(100)).map(function(e,t){return{rank:t+1,user:e,score:e.highScore,isCurrentUser:e.uid===n.userId}});if(c(t),n.userId){var r=(yield Un.getUserFriends(n.userId)).map(function(e,t){return{rank:t+1,user:e,score:e.highScore,isCurrentUser:!1}});g(r)}}else{var o=yield kn.getOfflineData(n.userId||"anonymous"),a={rank:1,user:{uid:n.userId||"anonymous",username:"You",displayName:"You (Offline)",coins:o.coins,highScore:o.highScore,gamesPlayed:o.gamesPlayed,achievements:o.achievements,level:1,createdAt:new Date,lastSeen:new Date,isOnline:!1,friends:[],privacySettings:{showOnlineStatus:!0,allowFriendRequests:!0,showInLeaderboards:!0}},score:o.highScore,isCurrentUser:!0};c([a]),g([])}}catch(i){console.log("Error loading leaderboard data:",i),Te.default.alert("Error","Unable to load leaderboard data. Please try again.")}finally{v(!1)}});return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,o.default)(function*(){F(!0),yield _(),F(!1)});return function(){return e.apply(this,arguments)}}(),T=function(e){st.impactAsync(st.ImpactFeedbackStyle.Light),C(e)};return(0,u.jsxs)(re.LinearGradient,{colors:["#FFD700","#FFA500","#FF8C00"],style:Ln.container,children:[(0,u.jsx)(_e.default,{barStyle:"light-content",backgroundColor:"transparent",translucent:!0}),(0,u.jsxs)(G.default,{style:Ln.header,children:[(0,u.jsx)(de.default,{style:Ln.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(fe.default,{name:"arrow-back",size:24,color:"white"})}),(0,u.jsx)(ee.default,{style:Ln.title,children:"Leaderboard"}),(0,u.jsx)(de.default,{style:Ln.refreshButton,onPress:E,disabled:w,children:(0,u.jsx)(fe.default,{name:w?"sync":"refresh",size:24,color:"white"})})]}),A&&(0,u.jsxs)(G.default,{style:Ln.offlineBanner,children:[(0,u.jsx)(fe.default,{name:"cloud-offline",size:20,color:"white"}),(0,u.jsx)(ee.default,{style:Ln.offlineText,children:"Offline Mode - Showing local scores only"})]}),(0,u.jsxs)(G.default,{style:Ln.tabContainer,children:[(0,u.jsxs)(de.default,{style:[Ln.tabButton,"global"===k&&Ln.activeTab],onPress:function(){return T("global")},children:[(0,u.jsx)(fe.default,{name:"globe",size:20,color:"global"===k?"#FFD700":"white"}),(0,u.jsx)(ee.default,{style:[Ln.tabText,"global"===k&&Ln.activeTabText],children:"Global"})]}),(0,u.jsxs)(de.default,{style:[Ln.tabButton,"friends"===k&&Ln.activeTab],onPress:function(){return T("friends")},children:[(0,u.jsx)(fe.default,{name:"people",size:20,color:"friends"===k?"#FFD700":"white"}),(0,u.jsx)(ee.default,{style:[Ln.tabText,"friends"===k&&Ln.activeTabText],children:"Friends"})]})]}),(0,u.jsx)(ot.default,{data:"global"===k?s:p,renderItem:function(e){var t=e.item,n=(e.index,t.rank<=3),r=t.isCurrentUser;return(0,u.jsxs)(G.default,{style:[Ln.leaderboardItem,r&&Ln.currentUserItem,n&&Ln.topThreeItem],children:[(0,u.jsx)(G.default,{style:[Ln.rankContainer,n&&Ln.topThreeRank],children:n?(0,u.jsx)(fe.default,{name:1===t.rank?"trophy":2===t.rank?"medal":"ribbon",size:24,color:1===t.rank?"#FFD700":2===t.rank?"#C0C0C0":"#CD7F32"}):(0,u.jsxs)(ee.default,{style:[Ln.rankText,r&&Ln.currentUserText],children:["#",t.rank]})}),(0,u.jsxs)(G.default,{style:Ln.userInfo,children:[(0,u.jsx)(ee.default,{style:[Ln.username,r&&Ln.currentUserText],children:t.user.displayName}),(0,u.jsxs)(ee.default,{style:[Ln.userStats,r&&Ln.currentUserText],children:["Level ",t.user.level," \u2022 ",t.user.gamesPlayed," games"]})]}),(0,u.jsxs)(G.default,{style:Ln.scoreContainer,children:[(0,u.jsx)(ee.default,{style:[Ln.scoreText,r&&Ln.currentUserText],children:t.score.toLocaleString()}),(0,u.jsx)(ee.default,{style:[Ln.scoreLabel,r&&Ln.currentUserText],children:"points"})]}),r&&(0,u.jsx)(G.default,{style:Ln.currentUserIndicator,children:(0,u.jsx)(fe.default,{name:"person",size:16,color:"#FFD700"})})]})},keyExtractor:function(e){return e.user.uid},style:Ln.list,contentContainerStyle:Ln.listContent,refreshControl:(0,u.jsx)(nt.default,{refreshing:w,onRefresh:E,tintColor:"white",colors:["white"]}),ListEmptyComponent:function(){return(0,u.jsxs)(G.default,{style:Ln.emptyState,children:[(0,u.jsx)(fe.default,{name:"trophy-outline",size:64,color:"rgba(255, 255, 255, 0.5)"}),(0,u.jsx)(ee.default,{style:Ln.emptyStateTitle,children:"global"===k?"No Global Scores":"No Friends Yet"}),(0,u.jsx)(ee.default,{style:Ln.emptyStateSubtitle,children:"global"===k?"Be the first to set a high score!":"Add friends to see their scores here."})]})},showsVerticalScrollIndicator:!1}),!A&&(0,u.jsxs)(G.default,{style:Ln.currentUserStats,children:[(0,u.jsx)(ee.default,{style:Ln.currentUserStatsTitle,children:"Your Stats"}),(0,u.jsxs)(G.default,{style:Ln.statsRow,children:[(0,u.jsxs)(G.default,{style:Ln.statItem,children:[(0,u.jsx)(ee.default,{style:Ln.statValue,children:n.highScore.toLocaleString()}),(0,u.jsx)(ee.default,{style:Ln.statLabel,children:"High Score"})]}),(0,u.jsxs)(G.default,{style:Ln.statItem,children:[(0,u.jsx)(ee.default,{style:Ln.statValue,children:n.gamesPlayed}),(0,u.jsx)(ee.default,{style:Ln.statLabel,children:"Games Played"})]}),(0,u.jsxs)(G.default,{style:Ln.statItem,children:[(0,u.jsx)(ee.default,{style:Ln.statValue,children:n.coins.toLocaleString()}),(0,u.jsx)(ee.default,{style:Ln.statLabel,children:"Coins"})]})]})]})]})};ne.default.get("window").width;var Rn=q.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingTop:60,paddingBottom:20},title:{fontSize:24,fontWeight:"bold",color:"white"},backButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:20,padding:8},content:{flex:1,paddingHorizontal:20},section:{marginBottom:30},sectionTitle:{fontSize:18,fontWeight:"bold",color:"white",marginBottom:15,textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:1,height:1},textShadowRadius:2},statsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},statCard:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16,width:"48%",marginBottom:12,alignItems:"center",elevation:4,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},statIcon:{width:40,height:40,borderRadius:20,alignItems:"center",justifyContent:"center",marginBottom:8},statValue:{fontSize:20,fontWeight:"bold",color:"white",marginBottom:4},statLabel:{fontSize:12,color:"white",opacity:.8,textAlign:"center"},performanceContainer:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16},performanceItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},performanceLabel:{fontSize:14,color:"white",opacity:.8},performanceValue:{fontSize:16,fontWeight:"bold",color:"white"},upgradesContainer:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16},upgradeItem:{flexDirection:"row",alignItems:"center",paddingVertical:8,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},upgradeLabel:{fontSize:14,color:"white",flex:1,marginLeft:12},upgradeValue:{fontSize:14,fontWeight:"bold",color:"#FFD700"},achievementItem:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:12,padding:12,marginBottom:8},achievementIcon:{width:32,height:32,borderRadius:16,alignItems:"center",justifyContent:"center",marginRight:12},achievementInfo:{flex:1},achievementTitle:{fontSize:14,fontWeight:"bold",marginBottom:2},achievementDescription:{fontSize:12},achievementBadge:{backgroundColor:"#4CAF50",borderRadius:10,padding:4},activityContainer:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:16,padding:16},activityItem:{flexDirection:"row",alignItems:"center",paddingVertical:8,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},activityText:{fontSize:14,color:"white",marginLeft:8}});const Mn=function(e){var t=e.navigation,n=h().gameState,r=function(e,t,n,r){return(0,u.jsxs)(G.default,{style:Rn.statCard,children:[(0,u.jsx)(G.default,{style:[Rn.statIcon,{backgroundColor:r}],children:(0,u.jsx)(fe.default,{name:n,size:24,color:"white"})}),(0,u.jsx)(ee.default,{style:Rn.statValue,children:t}),(0,u.jsx)(ee.default,{style:Rn.statLabel,children:e})]})},o=function(e,t,n,r){return(0,u.jsxs)(G.default,{style:[Rn.achievementItem,{opacity:n?1:.5}],children:[(0,u.jsx)(G.default,{style:[Rn.achievementIcon,{backgroundColor:n?"#4CAF50":"#666"}],children:(0,u.jsx)(fe.default,{name:r,size:20,color:"white"})}),(0,u.jsxs)(G.default,{style:Rn.achievementInfo,children:[(0,u.jsx)(ee.default,{style:[Rn.achievementTitle,{color:n?"white":"#999"}],children:e}),(0,u.jsx)(ee.default,{style:[Rn.achievementDescription,{color:n?"rgba(255,255,255,0.8)":"#666"}],children:t})]}),n&&(0,u.jsx)(G.default,{style:Rn.achievementBadge,children:(0,u.jsx)(fe.default,{name:"checkmark",size:16,color:"white"})})]})};return(0,u.jsxs)(re.LinearGradient,{colors:["#FFD700","#FFA500","#FF8C00"],style:Rn.container,children:[(0,u.jsx)(_e.default,{barStyle:"light-content",backgroundColor:"transparent",translucent:!0}),(0,u.jsxs)(G.default,{style:Rn.header,children:[(0,u.jsx)(ee.default,{style:Rn.title,children:"Statistics"}),(0,u.jsx)(de.default,{style:Rn.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(fe.default,{name:"arrow-back",size:24,color:"white"})})]}),(0,u.jsxs)(Ge.default,{style:Rn.content,showsVerticalScrollIndicator:!1,children:[(0,u.jsxs)(G.default,{style:Rn.section,children:[(0,u.jsx)(ee.default,{style:Rn.sectionTitle,children:"Key Statistics"}),(0,u.jsxs)(G.default,{style:Rn.statsGrid,children:[r("High Score",n.highScore.toLocaleString(),"trophy","#FFD700"),r("Total Coins",n.totalCoins.toLocaleString(),"coin","#FFD700"),r("Games Played",n.gamesPlayed,"game-controller","#4CAF50"),r("Power-ups Used",n.powerUpsUsed,"flash","#FF6B6B")]})]}),(0,u.jsxs)(G.default,{style:Rn.section,children:[(0,u.jsx)(ee.default,{style:Rn.sectionTitle,children:"Performance"}),(0,u.jsxs)(G.default,{style:Rn.performanceContainer,children:[(0,u.jsxs)(G.default,{style:Rn.performanceItem,children:[(0,u.jsx)(ee.default,{style:Rn.performanceLabel,children:"Average Score"}),(0,u.jsx)(ee.default,{style:Rn.performanceValue,children:(0===n.gamesPlayed?0:Math.round(n.totalCoins/n.gamesPlayed)).toLocaleString()})]}),(0,u.jsxs)(G.default,{style:Rn.performanceItem,children:[(0,u.jsx)(ee.default,{style:Rn.performanceLabel,children:"Coin Efficiency"}),(0,u.jsxs)(ee.default,{style:Rn.performanceValue,children:[0===n.coinsCollected?0:Math.round(n.coinsCollected/n.totalCoins*100),"%"]})]}),(0,u.jsxs)(G.default,{style:Rn.performanceItem,children:[(0,u.jsx)(ee.default,{style:Rn.performanceLabel,children:"Total Play Time"}),(0,u.jsx)(ee.default,{style:Rn.performanceValue,children:function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?`${t}h ${n}m`:n>0?`${n}m ${r}s`:`${r}s`}(n.totalPlayTime)})]}),(0,u.jsxs)(G.default,{style:Rn.performanceItem,children:[(0,u.jsx)(ee.default,{style:Rn.performanceLabel,children:"Current Level"}),(0,u.jsx)(ee.default,{style:Rn.performanceValue,children:n.level})]})]})]}),(0,u.jsxs)(G.default,{style:Rn.section,children:[(0,u.jsx)(ee.default,{style:Rn.sectionTitle,children:"Upgrades"}),(0,u.jsxs)(G.default,{style:Rn.upgradesContainer,children:[(0,u.jsxs)(G.default,{style:Rn.upgradeItem,children:[(0,u.jsx)(fe.default,{name:"resize",size:20,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Rn.upgradeLabel,children:"Pot Size"}),(0,u.jsxs)(ee.default,{style:Rn.upgradeValue,children:["Level ",Math.floor(5*n.potSize)]})]}),(0,u.jsxs)(G.default,{style:Rn.upgradeItem,children:[(0,u.jsx)(fe.default,{name:"speedometer",size:20,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Rn.upgradeLabel,children:"Movement Speed"}),(0,u.jsxs)(ee.default,{style:Rn.upgradeValue,children:["Level ",Math.floor(3*n.potSpeed)]})]}),(0,u.jsxs)(G.default,{style:Rn.upgradeItem,children:[(0,u.jsx)(fe.default,{name:"magnet",size:20,color:"#FFD700"}),(0,u.jsx)(ee.default,{style:Rn.upgradeLabel,children:"Magnet Power"}),(0,u.jsxs)(ee.default,{style:Rn.upgradeValue,children:["Level ",Math.floor(n.potLevel)]})]})]})]}),(0,u.jsxs)(G.default,{style:Rn.section,children:[(0,u.jsx)(ee.default,{style:Rn.sectionTitle,children:"Achievements"}),o("First Steps","Play your first game",n.gamesPlayed>0,"footsteps"),o("Coin Collector","Collect 1000 coins",n.totalCoins>=1e3,"coin"),o("High Roller","Score 10,000 points",n.highScore>=1e4,"trophy"),o("Power Player","Use 50 power-ups",n.powerUpsUsed>=50,"flash"),o("Dedicated Player","Play 100 games",n.gamesPlayed>=100,"game-controller"),o("Millionaire","Collect 1,000,000 coins",n.totalCoins>=1e6,"diamond")]}),(0,u.jsxs)(G.default,{style:Rn.section,children:[(0,u.jsx)(ee.default,{style:Rn.sectionTitle,children:"Recent Activity"}),(0,u.jsxs)(G.default,{style:Rn.activityContainer,children:[(0,u.jsxs)(G.default,{style:Rn.activityItem,children:[(0,u.jsx)(fe.default,{name:"time",size:16,color:"#FFD700"}),(0,u.jsxs)(ee.default,{style:Rn.activityText,children:["Last game: ",n.gamesPlayed>0?"Today":"Never played"]})]}),(0,u.jsxs)(G.default,{style:Rn.activityItem,children:[(0,u.jsx)(fe.default,{name:"trending-up",size:16,color:"#4CAF50"}),(0,u.jsxs)(ee.default,{style:Rn.activityText,children:["Best streak: ",Math.floor(n.highScore/1e3),"k points"]})]}),(0,u.jsxs)(G.default,{style:Rn.activityItem,children:[(0,u.jsx)(fe.default,{name:"star",size:16,color:"#FFD700"}),(0,u.jsxs)(ee.default,{style:Rn.activityText,children:["Achievements: ",n.achievements.length,"/6 unlocked"]})]})]})]})]})]})};var Vn=n(4363),Nn=new((0,Q.default)(function e(){(0,K.default)(this,e),this.audioContext=null,this.masterVolume=.7,this.sounds=new Map,"undefined"!==typeof window&&window.AudioContext&&(this.audioContext=new window.AudioContext,this.generateAllSounds())},[{key:"generateAllSounds",value:function(){this.sounds.set("coin",this.generateCoinSound()),this.sounds.set("gem",this.generateGemSound()),this.sounds.set("diamond",this.generateDiamondSound()),this.sounds.set("explosion",this.generateExplosionSound()),this.sounds.set("powerup",this.generatePowerUpSound()),this.sounds.set("levelup",this.generateLevelUpSound()),this.sounds.set("combo",this.generateComboSound()),this.sounds.set("gameover",this.generateGameOverSound()),this.sounds.set("tap",this.generateTapSound()),this.sounds.set("pause",this.generatePauseSound()),this.sounds.set("swoosh",this.generateSwooshSound()),this.sounds.set("success",this.generateSuccessSound())}},{key:"generateCoinSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.15*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e;n[r]=(.3*Math.sin(2*Math.PI*1046.5*o)+.2*Math.sin(2*Math.PI*1568*o))*Math.exp(10*-o)}return t}},{key:"generateGemSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.3*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e;n[r]=(.2*Math.sin(2*Math.PI*2093*o)+.15*Math.sin(2*Math.PI*2637*o)+.1*Math.sin(2*Math.PI*3136*o))*Math.exp(5*-o)}return t}},{key:"generateDiamondSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.5*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e,a=1046.5*(1+2*o);n[r]=(.3*Math.sin(2*Math.PI*a*o)+.2*Math.sin(2*Math.PI*a*1.5*o))*Math.exp(3*-o)}return t}},{key:"generateExplosionSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.4*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e;n[r]=(2*Math.random()-1)*Math.exp(8*-o)*(.5*Math.sin(2*Math.PI*50*o)+.5)}return t}},{key:"generatePowerUpSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.6*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e,a=400*Math.exp(3*o);n[r]=.3*Math.sin(2*Math.PI*a*o)*Math.exp(2*-o)}return t}},{key:"generateLevelUpSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.8*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e,a=Math.floor(8*o)%3;n[r]=.3*Math.sin(2*Math.PI*[523.25,659.25,783.99][a]*o)*Math.exp(1.5*-o)}return t}},{key:"generateComboSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.3*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e,a=800+800*o;n[r]=.25*Math.sin(2*Math.PI*a*o)*Math.exp(4*-o)}return t}},{key:"generateGameOverSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,1*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e,a=440*Math.exp(.5*-o);n[r]=.3*Math.sin(2*Math.PI*a*o)*Math.exp(.8*-o)}return t}},{key:"generateTapSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.05*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e;n[r]=.1*Math.sin(2*Math.PI*1e3*o)*Math.exp(100*-o)}return t}},{key:"generatePauseSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.2*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e,a=o<.1?800:600;n[r]=.2*Math.sin(2*Math.PI*a*o)*Math.exp(5*-o)}return t}},{key:"generateSwooshSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.2*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e,a=2*Math.random()-1,i=Math.sin(2*Math.PI*(200+1e3*o)*o);n[r]=a*i*.1*Math.exp(10*-o)}return t}},{key:"generateSuccessSound",value:function(){for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,.4*e,e),n=t.getChannelData(0),r=0;r<t.length;r++){var o=r/e,a=o<.2?880:1318.5;n[r]=.3*Math.sin(2*Math.PI*a*o)*Math.exp(4*-o)}return t}},{key:"playSound",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.audioContext&&this.sounds.has(e)){var n=this.sounds.get(e),r=this.audioContext.createBufferSource(),o=this.audioContext.createGain();r.buffer=n,o.gain.value=t*this.masterVolume,r.connect(o),o.connect(this.audioContext.destination),r.start(0)}}},{key:"createBackgroundMusic",value:function(){if(!this.audioContext)return null;for(var e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(2,8*e,e),n=[261.63,293.66,329.63,349.23,392,349.23,329.63,293.66],r=[130.81,146.83,164.81,174.61],o=0;o<2;o++)for(var a=t.getChannelData(o),i=0;i<t.length;i++){var l=i/e,s=Math.floor(2*l),c=n[s%n.length],u=.1*Math.sin(2*Math.PI*c*l),d=r[Math.floor(s/2)%r.length],f=.15*Math.sin(2*Math.PI*d*l),p=s%4===0?Math.sin(2*Math.PI*60*l)*Math.exp(10*-l)*.3:0,g=s%2===1?(Math.random()-.5)*Math.exp(-l%.5*20)*.05:0;a[i]=u+f+p+g}var h=this.audioContext.createBufferSource(),m=this.audioContext.createGain();return h.buffer=t,h.loop=!0,m.gain.value=.3,h.connect(m),m.connect(this.audioContext.destination),h}},{key:"setMasterVolume",value:function(e){this.masterVolume=Math.max(0,Math.min(1,e))}}])),Wn=new((0,Q.default)(function e(){(0,K.default)(this,e),this.sounds=new Map,this.backgroundMusic=null,this.backgroundMusicWeb=null,this.isMuted=!1,this.soundVolume=.7,this.musicVolume=.3,this.useProceduralSounds=!0,this.soundFiles={},this.initialize()},[{key:"initialize",value:function(){var e=(0,o.default)(function*(){try{yield Vn.Audio.setAudioModeAsync({allowsRecordingIOS:!1,playsInSilentModeIOS:!0,staysActiveInBackground:!0,shouldDuckAndroid:!0}),yield this.preloadSound("coinCollect"),yield this.preloadSound("bombHit"),yield this.preloadSound("levelUp")}catch(e){console.log("Error initializing audio:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"preloadSound",value:function(){var e=(0,o.default)(function*(e){try{if(!this.soundFiles[e]){var t=(yield Vn.Audio.Sound.createAsync({uri:"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAAB9AAACABAAZGF0YQAAAAA="},{shouldPlay:!1})).sound;return void this.sounds.set(e,{sound:t,isLoaded:!0})}var n=(yield Vn.Audio.Sound.createAsync(this.soundFiles[e],{shouldPlay:!1,volume:this.soundVolume})).sound;this.sounds.set(e,{sound:n,isLoaded:!0})}catch(r){console.log(`Error loading sound ${e}:`,r),this.sounds.set(e,{sound:null,isLoaded:!1})}});return function(t){return e.apply(this,arguments)}}()},{key:"playSound",value:function(){var e=(0,o.default)(function*(e,t){if(!this.isMuted)try{var n;if(null!=t&&t.haptic&&this.playHaptic(e),this.useProceduralSounds||"web"===$.default.OS){var r,o={coinCollect:"coin",gemCollect:"gem",diamondCollect:"diamond",bombHit:"explosion",powerupCollect:"powerup",levelUp:"levelup",comboIncrease:"combo",gameOver:"gameover",buttonTap:"tap",pause:"pause"}[e]||e;return void Nn.playSound(o,null!=(r=null==t?void 0:t.volume)?r:this.soundVolume)}var a,i=this.sounds.get(e);i&&i.isLoaded||(yield this.preloadSound(e),i=this.sounds.get(e)),null!=(n=i)&&n.sound&&(yield i.sound.setPositionAsync(0),yield i.sound.setVolumeAsync(null!=(a=null==t?void 0:t.volume)?a:this.soundVolume),yield i.sound.playAsync())}catch(l){console.log(`Error playing sound ${e}:`,l)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"playHaptic",value:function(e){switch(e){case"coinCollect":case"gemCollect":on.impactAsync(on.ImpactFeedbackStyle.Light);break;case"diamondCollect":case"powerupCollect":on.impactAsync(on.ImpactFeedbackStyle.Medium);break;case"bombHit":on.impactAsync(on.ImpactFeedbackStyle.Heavy);break;case"levelUp":on.notificationAsync(on.NotificationFeedbackType.Success);break;case"gameOver":on.notificationAsync(on.NotificationFeedbackType.Error);break;default:on.selectionAsync()}}},{key:"startBackgroundMusic",value:function(){var e=(0,o.default)(function*(){if(!this.isMuted)if(this.useProceduralSounds||"web"===$.default.OS){if(this.backgroundMusicWeb)return;try{this.backgroundMusicWeb=Nn.createBackgroundMusic(),this.backgroundMusicWeb&&this.backgroundMusicWeb.start(0)}catch(t){console.log("Error starting procedural background music:",t)}}else if(!this.backgroundMusic)try{var e=(yield Vn.Audio.Sound.createAsync(this.soundFiles.bgMusic||{uri:""},{shouldPlay:!0,isLooping:!0,volume:this.musicVolume})).sound;this.backgroundMusic=e}catch(t){console.log("Error starting background music:",t)}});return function(){return e.apply(this,arguments)}}()},{key:"stopBackgroundMusic",value:function(){var e=(0,o.default)(function*(){if(this.backgroundMusic)try{yield this.backgroundMusic.stopAsync(),yield this.backgroundMusic.unloadAsync(),this.backgroundMusic=null}catch(e){console.log("Error stopping background music:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"pauseBackgroundMusic",value:function(){var e=(0,o.default)(function*(){if(this.backgroundMusic)try{yield this.backgroundMusic.pauseAsync()}catch(e){console.log("Error pausing background music:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"resumeBackgroundMusic",value:function(){var e=(0,o.default)(function*(){if(this.backgroundMusic&&!this.isMuted)try{yield this.backgroundMusic.playAsync()}catch(e){console.log("Error resuming background music:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"setMuted",value:function(e){this.isMuted=e,e?this.stopBackgroundMusic():this.startBackgroundMusic()}},{key:"setSoundVolume",value:function(e){this.soundVolume=Math.max(0,Math.min(1,e))}},{key:"setMusicVolume",value:function(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.backgroundMusic&&this.backgroundMusic.setVolumeAsync(this.musicVolume)}},{key:"cleanup",value:function(){var e=(0,o.default)(function*(){for(var e of(yield this.stopBackgroundMusic(),this.sounds)){var t=(0,a.default)(e,2),n=(t[0],t[1]);if(n.sound)try{yield n.sound.unloadAsync()}catch(r){console.log("Error unloading sound:",r)}}this.sounds.clear()});return function(){return e.apply(this,arguments)}}()}])),Gn=ne.default.get("window"),Hn=Gn.width;Gn.height;function qn(e){var t=e.route,n=(0,ft.useNavigation)(),r=(0,i.useState)(0),l=(0,a.default)(r,2),s=l[0],d=l[1],f=(0,i.useRef)(new te.default.Value(0)).current,p=(0,i.useRef)(new te.default.Value(0)).current,g=(0,i.useRef)(new te.default.Value(.9)).current,h=(0,i.useRef)(new te.default.Value(0)).current,m=(0,i.useRef)(new te.default.Value(1)).current,y=[{id:0,title:"Welcome to Pot of Gold!",description:"Collect falling treasures and become the richest miner!",icon:"trophy"},{id:1,title:"Move Your Cart",description:"Tap anywhere on the screen to move your cart instantly",icon:"finger-print",action:"tap"},{id:2,title:"Collect Treasures",description:"Catch coins, gems, and diamonds to earn points",icon:"diamond"},{id:3,title:"Avoid Bombs",description:"Watch out for bombs! They damage your cart",icon:"warning"},{id:4,title:"Build Combos",description:"Collect items consecutively for huge multipliers",icon:"flame"},{id:5,title:"Use Power-Ups",description:"Grab special power-ups for temporary advantages",icon:"flash"},{id:6,title:"Clear Blockages",description:"Missed items create blockages - clear them quickly!",icon:"cube"},{id:7,title:"Let's Play!",description:"Start collecting treasures and climb the leaderboard!",icon:"rocket"}];(0,i.useEffect)(function(){te.default.parallel([te.default.timing(f,{toValue:1,duration:500,useNativeDriver:!0}),te.default.spring(g,{toValue:1,friction:8,tension:40,useNativeDriver:!0})]).start(),te.default.loop(te.default.sequence([te.default.timing(m,{toValue:1.1,duration:1e3,useNativeDriver:!0}),te.default.timing(m,{toValue:1,duration:1e3,useNativeDriver:!0})])).start(),te.default.loop(te.default.timing(h,{toValue:1,duration:3e3,useNativeDriver:!0})).start()},[]);var v=function(){var e=(0,o.default)(function*(){console.log("Skip button pressed");try{Wn.playSound("buttonTap")}catch(e){console.log("Sound error:",e)}try{"web"!==$.default.OS&&st.impactAsync(st.ImpactFeedbackStyle.Medium)}catch(e){console.log("Haptics error:",e)}yield b()});return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.default)(function*(){var e;console.log("Completing onboarding...");try{yield J(),yield c.default.setItem("hasSeenOnboarding","true"),yield c.default.setItem("onboarding_completed","true"),yield c.default.setItem("onboarding_date",(new Date).toISOString()),console.log("Onboarding data saved with device tracking")}catch(r){console.error("Error saving onboarding data:",r)}try{Wn.playSound("levelUp")}catch(o){console.log("Sound error in complete:",o)}if(null!=t&&null!=(e=t.params)&&e.onComplete){console.log("Calling onComplete callback from route params");try{t.params.onComplete()}catch(r){console.error("Error calling onComplete:",r),n.replace("Home")}}else console.log("No onComplete callback, using navigation.replace to Home"),n.replace("Home")});return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(re.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:$n.container,children:[(0,u.jsx)(G.default,{style:$n.progressContainer,children:y.map(function(e,t){return(0,u.jsx)(G.default,{style:[$n.progressDot,t===s&&$n.progressDotActive,t<s&&$n.progressDotCompleted]},t)})}),s<y.length-1&&(0,u.jsx)(de.default,{style:$n.skipButton,onPress:v,children:(0,u.jsx)(ee.default,{style:$n.skipText,children:"Skip"})}),(0,u.jsx)(Ge.default,{contentContainerStyle:$n.scrollContent,showsVerticalScrollIndicator:!1,children:function(e){var t=h.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return(0,u.jsxs)(te.default.View,{style:[$n.stepContainer,{transform:[{translateX:p},{scale:g}],opacity:f}],children:[(0,u.jsx)(te.default.View,{style:[$n.iconContainer,0===e.id&&{transform:[{rotate:t},{scale:m}]}],children:(0,u.jsx)(fe.default,{name:e.icon,size:80,color:"#FFD700"})}),(0,u.jsx)(ee.default,{style:$n.title,children:e.title}),(0,u.jsx)(ee.default,{style:$n.description,children:e.description}),1===e.id&&(0,u.jsxs)(G.default,{style:$n.demoContainer,children:[(0,u.jsx)(te.default.View,{style:[$n.demoCart,{transform:[{scale:m}]}]}),(0,u.jsx)(ee.default,{style:$n.demoText,children:"\ud83d\udc46 Tap to move here"})]}),2===e.id&&(0,u.jsxs)(G.default,{style:$n.itemsDemo,children:[(0,u.jsxs)(G.default,{style:$n.demoItem,children:[(0,u.jsx)(ee.default,{style:$n.itemEmoji,children:"\ud83e\ude99"}),(0,u.jsx)(ee.default,{style:$n.itemLabel,children:"Coin"}),(0,u.jsx)(ee.default,{style:$n.itemValue,children:"+10"})]}),(0,u.jsxs)(G.default,{style:$n.demoItem,children:[(0,u.jsx)(ee.default,{style:$n.itemEmoji,children:"\ud83d\udc8e"}),(0,u.jsx)(ee.default,{style:$n.itemLabel,children:"Gem"}),(0,u.jsx)(ee.default,{style:$n.itemValue,children:"+25"})]}),(0,u.jsxs)(G.default,{style:$n.demoItem,children:[(0,u.jsx)(ee.default,{style:$n.itemEmoji,children:"\ud83d\udca0"}),(0,u.jsx)(ee.default,{style:$n.itemLabel,children:"Diamond"}),(0,u.jsx)(ee.default,{style:$n.itemValue,children:"+50"})]})]}),5===e.id&&(0,u.jsxs)(G.default,{style:$n.powerUpsDemo,children:[(0,u.jsxs)(G.default,{style:$n.powerUpItem,children:[(0,u.jsx)(ee.default,{style:$n.powerUpEmoji,children:"\ud83e\uddf2"}),(0,u.jsx)(ee.default,{style:$n.powerUpLabel,children:"Magnet"})]}),(0,u.jsxs)(G.default,{style:$n.powerUpItem,children:[(0,u.jsx)(ee.default,{style:$n.powerUpEmoji,children:"\ud83d\udee1\ufe0f"}),(0,u.jsx)(ee.default,{style:$n.powerUpLabel,children:"Shield"})]}),(0,u.jsxs)(G.default,{style:$n.powerUpItem,children:[(0,u.jsx)(ee.default,{style:$n.powerUpEmoji,children:"\u26a1"}),(0,u.jsx)(ee.default,{style:$n.powerUpLabel,children:"2x Points"})]}),(0,u.jsxs)(G.default,{style:$n.powerUpItem,children:[(0,u.jsx)(ee.default,{style:$n.powerUpEmoji,children:"\u23f0"}),(0,u.jsx)(ee.default,{style:$n.powerUpLabel,children:"Slow Time"})]})]})]})}(y[s])}),(0,u.jsxs)(G.default,{style:$n.navigationContainer,children:[s>0&&(0,u.jsx)(de.default,{style:[$n.navButton,$n.previousButton],onPress:function(){if(console.log("Previous button pressed, current step:",s),s>0){try{Wn.playSound("buttonTap")}catch(e){console.log("Sound error:",e)}try{"web"!==$.default.OS&&st.impactAsync(st.ImpactFeedbackStyle.Light)}catch(e){console.log("Haptics error:",e)}te.default.timing(p,{toValue:Hn,duration:300,useNativeDriver:!0}).start(function(){d(s-1),p.setValue(-Hn),te.default.spring(p,{toValue:0,friction:8,tension:40,useNativeDriver:!0}).start()})}},children:(0,u.jsx)(fe.default,{name:"arrow-back",size:24,color:"#FFFFFF"})}),(0,u.jsx)(de.default,{style:[$n.navButton,$n.nextButton,s===y.length-1&&$n.startButton],onPress:function(){console.log("Next button pressed, current step:",s);try{Wn.playSound("buttonTap")}catch(e){console.log("Sound error:",e)}try{"web"!==$.default.OS&&st.impactAsync(st.ImpactFeedbackStyle.Light)}catch(e){console.log("Haptics error:",e)}s<y.length-1?te.default.timing(p,{toValue:-Hn,duration:300,useNativeDriver:!0}).start(function(){d(s+1),p.setValue(Hn),te.default.spring(p,{toValue:0,friction:8,tension:40,useNativeDriver:!0}).start()}):b()},children:s===y.length-1?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ee.default,{style:$n.startButtonText,children:"Start Playing"}),(0,u.jsx)(fe.default,{name:"play",size:24,color:"#FFFFFF"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ee.default,{style:$n.nextButtonText,children:"Next"}),(0,u.jsx)(fe.default,{name:"arrow-forward",size:24,color:"#000000"})]})})]})]})}var $n=q.default.create({container:{flex:1},scrollContent:{flexGrow:1,justifyContent:"center",paddingHorizontal:20},progressContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:"ios"===$.default.OS?60:40,paddingBottom:20},progressDot:{width:8,height:8,borderRadius:4,backgroundColor:"rgba(255, 255, 255, 0.3)",marginHorizontal:4},progressDotActive:{width:24,backgroundColor:"#FFD700"},progressDotCompleted:{backgroundColor:"#4CAF50"},skipButton:{position:"absolute",top:"ios"===$.default.OS?60:40,right:20,zIndex:1},skipText:{color:"rgba(255, 255, 255, 0.7)",fontSize:16},stepContainer:{alignItems:"center",paddingVertical:40},iconContainer:{width:120,height:120,borderRadius:60,backgroundColor:"rgba(255, 215, 0, 0.1)",justifyContent:"center",alignItems:"center",marginBottom:30,borderWidth:2,borderColor:"rgba(255, 215, 0, 0.3)"},title:{fontSize:28,fontWeight:"bold",color:"#FFFFFF",textAlign:"center",marginBottom:15},description:{fontSize:18,color:"rgba(255, 255, 255, 0.8)",textAlign:"center",lineHeight:26,paddingHorizontal:20},demoContainer:{marginTop:40,alignItems:"center"},demoCart:{width:60,height:40,backgroundColor:"#8B4513",borderRadius:5,marginBottom:10,borderWidth:2,borderColor:"#D2691E"},demoText:{color:"rgba(255, 255, 255, 0.6)",fontSize:14},itemsDemo:{flexDirection:"row",justifyContent:"space-around",marginTop:30,width:"100%"},demoItem:{alignItems:"center"},itemEmoji:{fontSize:40,marginBottom:5},itemLabel:{color:"rgba(255, 255, 255, 0.7)",fontSize:12,marginBottom:2},itemValue:{color:"#4CAF50",fontSize:14,fontWeight:"bold"},powerUpsDemo:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginTop:30},powerUpItem:{alignItems:"center",margin:10},powerUpEmoji:{fontSize:36,marginBottom:5},powerUpLabel:{color:"rgba(255, 255, 255, 0.7)",fontSize:11},navigationContainer:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:20,paddingBottom:"ios"===$.default.OS?40:20,paddingTop:20},navButton:{flexDirection:"row",alignItems:"center",paddingVertical:12,paddingHorizontal:20,borderRadius:25,minWidth:100,justifyContent:"center"},previousButton:{backgroundColor:"rgba(255, 255, 255, 0.2)"},nextButton:{backgroundColor:"#FFD700"},startButton:{backgroundColor:"#4CAF50",paddingHorizontal:30},nextButtonText:{color:"#000000",fontSize:16,fontWeight:"bold",marginRight:5},startButtonText:{color:"#FFFFFF",fontSize:16,fontWeight:"bold",marginRight:5}}),Kn=n(8882);te.default.createAnimatedComponent(Kn.default);function Qn(e){var t=e.size,n=void 0===t?40:t,r=e.isAnimated,o=void 0===r||r,a=(0,i.useRef)(new te.default.Value(0)).current,l=(0,i.useRef)(new te.default.Value(0)).current;(0,i.useEffect)(function(){o&&(te.default.loop(te.default.timing(a,{toValue:1,duration:3e3,useNativeDriver:!0})).start(),te.default.loop(te.default.sequence([te.default.timing(l,{toValue:1,duration:2e3,useNativeDriver:!0}),te.default.timing(l,{toValue:0,duration:1e3,useNativeDriver:!0})])).start())},[o]);var s=a.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return(0,u.jsx)(te.default.View,{style:{transform:[{rotateY:s}]},children:(0,u.jsxs)(Kn.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsxs)(Kn.Defs,{children:[(0,u.jsxs)(Kn.RadialGradient,{id:"goldCoin",cx:"50%",cy:"40%",children:[(0,u.jsx)(Kn.Stop,{offset:"0%",stopColor:"#FFEF94"}),(0,u.jsx)(Kn.Stop,{offset:"50%",stopColor:"#FFD700"}),(0,u.jsx)(Kn.Stop,{offset:"100%",stopColor:"#B8860B"})]}),(0,u.jsxs)(Kn.LinearGradient,{id:"goldShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,u.jsx)(Kn.Stop,{offset:"0%",stopColor:"#FFFFFF",stopOpacity:"0.6"}),(0,u.jsx)(Kn.Stop,{offset:"100%",stopColor:"#FFFFFF",stopOpacity:"0"})]})]}),(0,u.jsx)(Kn.Circle,{cx:"20",cy:"20",r:"18",fill:"url(#goldCoin)"}),(0,u.jsx)(Kn.Circle,{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#B8860B",strokeWidth:"1"}),(0,u.jsx)(Kn.Circle,{cx:"20",cy:"20",r:"15",fill:"none",stroke:"#DAA520",strokeWidth:"0.5"}),(0,u.jsx)(Kn.Path,{d:"M 20 10 L 20 30 M 15 15 Q 15 13, 20 13 Q 25 13, 25 17 Q 25 20, 20 20 Q 15 20, 15 23 Q 15 27, 20 27 Q 25 27, 25 25",fill:"none",stroke:"#8B6914",strokeWidth:"2",strokeLinecap:"round"}),(0,u.jsx)(te.default.Ellipse,{cx:"15",cy:"15",rx:"8",ry:"4",fill:"url(#goldShine)",opacity:l})]})})}function Yn(e){var t=e.size,n=void 0===t?40:t,r=e.isAnimated,o=void 0===r||r,a=(0,i.useRef)(new te.default.Value(0)).current;return(0,i.useEffect)(function(){o&&te.default.loop(te.default.sequence([te.default.timing(a,{toValue:1,duration:1500,useNativeDriver:!0}),te.default.timing(a,{toValue:0,duration:1500,useNativeDriver:!0})])).start()},[o]),(0,u.jsx)(G.default,{children:(0,u.jsxs)(Kn.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(Kn.Defs,{children:(0,u.jsxs)(Kn.LinearGradient,{id:"diamondGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,u.jsx)(Kn.Stop,{offset:"0%",stopColor:"#E6F3FF"}),(0,u.jsx)(Kn.Stop,{offset:"50%",stopColor:"#87CEEB"}),(0,u.jsx)(Kn.Stop,{offset:"100%",stopColor:"#4169E1"})]})}),(0,u.jsx)(Kn.Path,{d:"M 20 5 L 30 15 L 20 35 L 10 15 Z",fill:"url(#diamondGrad)",stroke:"#1E90FF",strokeWidth:"1"}),(0,u.jsx)(Kn.Path,{d:"M 20 5 L 15 15 L 20 35",fill:"none",stroke:"#B0E0E6",strokeWidth:"0.5"}),(0,u.jsx)(Kn.Path,{d:"M 20 5 L 25 15 L 20 35",fill:"none",stroke:"#B0E0E6",strokeWidth:"0.5"}),(0,u.jsx)(Kn.Path,{d:"M 10 15 L 30 15",fill:"none",stroke:"#B0E0E6",strokeWidth:"0.5"}),(0,u.jsxs)(te.default.G,{opacity:a,children:[(0,u.jsx)(Kn.Circle,{cx:"18",cy:"12",r:"1.5",fill:"#FFFFFF"}),(0,u.jsx)(Kn.Circle,{cx:"25",cy:"18",r:"1",fill:"#FFFFFF"}),(0,u.jsx)(Kn.Circle,{cx:"15",cy:"20",r:"0.8",fill:"#FFFFFF"})]})]})})}function Xn(e){var t=e.size,n=void 0===t?40:t,r=e.isAnimated,o=void 0===r||r,a=(0,i.useRef)(new te.default.Value(0)).current;return(0,i.useEffect)(function(){o&&te.default.loop(te.default.sequence([te.default.timing(a,{toValue:-3,duration:1e3,useNativeDriver:!0}),te.default.timing(a,{toValue:3,duration:1e3,useNativeDriver:!0})])).start()},[o]),(0,u.jsx)(te.default.View,{style:{transform:[{translateY:a}]},children:(0,u.jsxs)(Kn.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(Kn.Defs,{children:(0,u.jsxs)(Kn.RadialGradient,{id:"nuggetGrad",cx:"40%",cy:"40%",children:[(0,u.jsx)(Kn.Stop,{offset:"0%",stopColor:"#FFEF94"}),(0,u.jsx)(Kn.Stop,{offset:"60%",stopColor:"#FFD700"}),(0,u.jsx)(Kn.Stop,{offset:"100%",stopColor:"#B8860B"})]})}),(0,u.jsx)(Kn.Path,{d:"M 15 12 Q 10 15, 12 20 Q 14 25, 20 27 Q 26 28, 30 25 Q 32 20, 28 15 Q 24 10, 18 11 Q 15 11, 15 12",fill:"url(#nuggetGrad)",stroke:"#B8860B",strokeWidth:"1"}),(0,u.jsx)(Kn.Circle,{cx:"18",cy:"18",r:"2",fill:"#DAA520",opacity:"0.6"}),(0,u.jsx)(Kn.Circle,{cx:"25",cy:"20",r:"1.5",fill:"#DAA520",opacity:"0.5"}),(0,u.jsx)(Kn.Circle,{cx:"22",cy:"23",r:"1",fill:"#FFA500",opacity:"0.4"}),(0,u.jsx)(Kn.Ellipse,{cx:"20",cy:"16",rx:"4",ry:"2",fill:"#FFFFFF",opacity:"0.4"})]})})}function Jn(e){var t=e.size,n=void 0===t?40:t,r=e.isAnimated,o=void 0===r||r,a=(0,i.useRef)(new te.default.Value(1)).current;return(0,i.useEffect)(function(){o&&te.default.loop(te.default.sequence([te.default.timing(a,{toValue:1.1,duration:1e3,useNativeDriver:!0}),te.default.timing(a,{toValue:1,duration:1e3,useNativeDriver:!0})])).start()},[o]),(0,u.jsx)(te.default.View,{style:{transform:[{scale:a}]},children:(0,u.jsxs)(Kn.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(Kn.Defs,{children:(0,u.jsxs)(Kn.LinearGradient,{id:"emeraldGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,u.jsx)(Kn.Stop,{offset:"0%",stopColor:"#90EE90"}),(0,u.jsx)(Kn.Stop,{offset:"50%",stopColor:"#50C878"}),(0,u.jsx)(Kn.Stop,{offset:"100%",stopColor:"#228B22"})]})}),(0,u.jsx)(Kn.Rect,{x:"10",y:"12",width:"20",height:"16",rx:"2",fill:"url(#emeraldGrad)"}),(0,u.jsx)(Kn.Path,{d:"M 10 14 L 12 10 L 28 10 L 30 14 M 10 26 L 12 30 L 28 30 L 30 26",fill:"#50C878",stroke:"#228B22",strokeWidth:"0.5"}),(0,u.jsx)(Kn.Path,{d:"M 15 12 L 15 28",stroke:"#90EE90",strokeWidth:"0.5",opacity:"0.6"}),(0,u.jsx)(Kn.Path,{d:"M 20 12 L 20 28",stroke:"#90EE90",strokeWidth:"0.5",opacity:"0.6"}),(0,u.jsx)(Kn.Path,{d:"M 25 12 L 25 28",stroke:"#90EE90",strokeWidth:"0.5",opacity:"0.6"}),(0,u.jsx)(Kn.Ellipse,{cx:"20",cy:"15",rx:"6",ry:"3",fill:"#FFFFFF",opacity:"0.3"})]})})}function Zn(e){var t=e.size,n=void 0===t?40:t,r=e.isAnimated,o=void 0===r||r,a=(0,i.useRef)(new te.default.Value(0)).current,l=(0,i.useRef)(new te.default.Value(0)).current;return(0,i.useEffect)(function(){o&&(te.default.loop(te.default.sequence([te.default.timing(a,{toValue:1,duration:500,useNativeDriver:!0}),te.default.timing(a,{toValue:0,duration:500,useNativeDriver:!0})])).start(),te.default.loop(te.default.sequence([te.default.timing(l,{toValue:-2,duration:100,useNativeDriver:!0}),te.default.timing(l,{toValue:2,duration:100,useNativeDriver:!0})])).start())},[o]),(0,u.jsx)(te.default.View,{style:{transform:[{translateX:l}]},children:(0,u.jsxs)(Kn.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(Kn.Defs,{children:(0,u.jsxs)(Kn.RadialGradient,{id:"bombGrad",cx:"40%",cy:"40%",children:[(0,u.jsx)(Kn.Stop,{offset:"0%",stopColor:"#4A4A4A"}),(0,u.jsx)(Kn.Stop,{offset:"100%",stopColor:"#1C1C1C"})]})}),(0,u.jsx)(Kn.Circle,{cx:"20",cy:"22",r:"12",fill:"url(#bombGrad)"}),(0,u.jsx)(Kn.Circle,{cx:"20",cy:"22",r:"12",fill:"none",stroke:"#000000",strokeWidth:"1"}),(0,u.jsx)(Kn.Circle,{cx:"20",cy:"20",r:"3",fill:"#FFFFFF"}),(0,u.jsx)(Kn.Rect,{x:"18",y:"23",width:"4",height:"4",fill:"#FFFFFF"}),(0,u.jsx)(Kn.Circle,{cx:"17",cy:"20",r:"1",fill:"#000000"}),(0,u.jsx)(Kn.Circle,{cx:"23",cy:"20",r:"1",fill:"#000000"}),(0,u.jsx)(Kn.Path,{d:"M 25 15 Q 28 10, 30 8",fill:"none",stroke:"#8B4513",strokeWidth:"2",strokeLinecap:"round"}),(0,u.jsxs)(te.default.G,{opacity:a,children:[(0,u.jsx)(Kn.Circle,{cx:"30",cy:"8",r:"2",fill:"#FF4500"}),(0,u.jsx)(Kn.Circle,{cx:"30",cy:"8",r:"3",fill:"#FFFF00",opacity:"0.5"})]})]})})}function er(e){var t=e.size,n=void 0===t?40:t,r=e.isAnimated,o=void 0===r||r,a=(e.powerType,(0,i.useRef)(new te.default.Value(1)).current),l=(0,i.useRef)(new te.default.Value(0)).current;(0,i.useEffect)(function(){o&&te.default.loop(te.default.parallel([te.default.sequence([te.default.timing(a,{toValue:1.2,duration:800,useNativeDriver:!0}),te.default.timing(a,{toValue:1,duration:800,useNativeDriver:!0})]),te.default.timing(l,{toValue:1,duration:4e3,useNativeDriver:!0})])).start()},[o]);var s=l.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return(0,u.jsx)(te.default.View,{style:{transform:[{scale:a},{rotate:s}]},children:(0,u.jsxs)(Kn.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(Kn.Defs,{children:(0,u.jsxs)(Kn.RadialGradient,{id:"powerGrad",cx:"50%",cy:"50%",children:[(0,u.jsx)(Kn.Stop,{offset:"0%",stopColor:"#FFD700"}),(0,u.jsx)(Kn.Stop,{offset:"50%",stopColor:"#FFA500"}),(0,u.jsx)(Kn.Stop,{offset:"100%",stopColor:"#FF6347"})]})}),(0,u.jsx)(Kn.Polygon,{points:"20,5 24,16 35,16 26,24 30,35 20,27 10,35 14,24 5,16 16,16",fill:"url(#powerGrad)",stroke:"#FF4500",strokeWidth:"1"}),(0,u.jsx)(Kn.Circle,{cx:"20",cy:"20",r:"5",fill:"#FFFFFF",opacity:"0.6"}),(0,u.jsx)(Kn.Path,{d:"M 20 17 L 20 23 M 17 19 L 23 19",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round"})]})})}function tr(e){var t=e.size,n=void 0===t?40:t,r=e.isAnimated,o=void 0===r||r,a=(0,i.useRef)(new te.default.Value(0)).current,l=(0,i.useRef)(new te.default.Value(.5)).current;return(0,i.useEffect)(function(){o&&te.default.loop(te.default.parallel([te.default.sequence([te.default.timing(a,{toValue:-5,duration:1e3,useNativeDriver:!0}),te.default.timing(a,{toValue:0,duration:1e3,useNativeDriver:!0})]),te.default.sequence([te.default.timing(l,{toValue:1,duration:1500,useNativeDriver:!0}),te.default.timing(l,{toValue:.5,duration:1500,useNativeDriver:!0})])])).start()},[o]),(0,u.jsx)(te.default.View,{style:{transform:[{translateY:a}]},children:(0,u.jsxs)(Kn.default,{width:n,height:n,viewBox:"0 0 40 40",children:[(0,u.jsx)(Kn.Defs,{children:(0,u.jsxs)(Kn.LinearGradient,{id:"boxGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,u.jsx)(Kn.Stop,{offset:"0%",stopColor:"#9B59B6"}),(0,u.jsx)(Kn.Stop,{offset:"100%",stopColor:"#8E44AD"})]})}),(0,u.jsx)(Kn.Rect,{x:"8",y:"15",width:"24",height:"20",fill:"url(#boxGrad)"}),(0,u.jsx)(Kn.Rect,{x:"8",y:"15",width:"24",height:"20",fill:"none",stroke:"#6C3483",strokeWidth:"1"}),(0,u.jsx)(Kn.Path,{d:"M 8 15 L 12 10 L 28 10 L 32 15",fill:"#8E44AD",stroke:"#6C3483",strokeWidth:"1"}),(0,u.jsx)(te.default.Text,{x:"20",y:"28",fontSize:"14",fontWeight:"bold",fill:"#FFFFFF",textAnchor:"middle",opacity:l,children:"?"}),(0,u.jsxs)(te.default.G,{opacity:l,children:[(0,u.jsx)(Kn.Circle,{cx:"10",cy:"12",r:"1",fill:"#FFFF00"}),(0,u.jsx)(Kn.Circle,{cx:"30",cy:"13",r:"1",fill:"#FFFF00"}),(0,u.jsx)(Kn.Circle,{cx:"35",cy:"20",r:"0.8",fill:"#FFFFFF"}),(0,u.jsx)(Kn.Circle,{cx:"5",cy:"25",r:"0.8",fill:"#FFFFFF"})]})]})})}function nr(e){var t=e.type,n=e.size,r=void 0===n?40:n,o=e.isAnimated,a=void 0===o||o;switch(t){case"coin":default:return(0,u.jsx)(Qn,{size:r,isAnimated:a});case"diamond":return(0,u.jsx)(Yn,{size:r,isAnimated:a});case"gem":return(0,u.jsx)(Jn,{size:r,isAnimated:a});case"nugget":return(0,u.jsx)(Xn,{size:r,isAnimated:a});case"bomb":return(0,u.jsx)(Zn,{size:r,isAnimated:a});case"powerup":return(0,u.jsx)(er,{size:r,isAnimated:a});case"mystery":return(0,u.jsx)(tr,{size:r,isAnimated:a})}}ne.default.get("window").width;function rr(e){var t=e.navigation;return(0,u.jsxs)(re.LinearGradient,{colors:["#1a1a2e","#16213e","#0f3460"],style:or.container,children:[(0,u.jsxs)(G.default,{style:or.header,children:[(0,u.jsx)(de.default,{style:or.backButton,onPress:function(){return t.goBack()},children:(0,u.jsx)(fe.default,{name:"arrow-back",size:24,color:"#FFD700"})}),(0,u.jsx)(ee.default,{style:or.title,children:"How to Play"})]}),(0,u.jsxs)(Ge.default,{style:or.content,showsVerticalScrollIndicator:!1,children:[(0,u.jsxs)(G.default,{style:or.section,children:[(0,u.jsx)(ee.default,{style:or.sectionTitle,children:"\ud83c\udfaf Game Objective"}),(0,u.jsx)(ee.default,{style:or.description,children:"Control your mine cart to collect falling treasures while avoiding bombs! Build combos, collect power-ups, and survive as long as possible to achieve the highest score!"})]}),(0,u.jsxs)(G.default,{style:or.section,children:[(0,u.jsx)(ee.default,{style:or.sectionTitle,children:"\ud83c\udfae Controls"}),(0,u.jsxs)(G.default,{style:or.controlItem,children:[(0,u.jsx)(fe.default,{name:"hand-left",size:30,color:"#FFD700"}),(0,u.jsxs)(ee.default,{style:or.controlText,children:[(0,u.jsx)(ee.default,{style:or.bold,children:"Tap"})," anywhere on the screen to move the cart"]})]}),(0,u.jsxs)(G.default,{style:or.controlItem,children:[(0,u.jsx)(fe.default,{name:"move",size:30,color:"#FFD700"}),(0,u.jsxs)(ee.default,{style:or.controlText,children:[(0,u.jsx)(ee.default,{style:or.bold,children:"Swipe"})," left or right for smooth movement"]})]})]}),(0,u.jsxs)(G.default,{style:or.section,children:[(0,u.jsx)(ee.default,{style:or.sectionTitle,children:"\ud83d\udc8e Collectibles"}),(0,u.jsxs)(G.default,{style:or.itemRow,children:[(0,u.jsx)(G.default,{style:or.itemDisplay,children:(0,u.jsx)(nr,{type:"coin",size:40,isAnimated:!1})}),(0,u.jsxs)(G.default,{style:or.itemInfo,children:[(0,u.jsx)(ee.default,{style:or.itemName,children:"Gold Coin"}),(0,u.jsx)(ee.default,{style:or.itemDesc,children:"+10 points, +1 coin"})]})]}),(0,u.jsxs)(G.default,{style:or.itemRow,children:[(0,u.jsx)(G.default,{style:or.itemDisplay,children:(0,u.jsx)(nr,{type:"gem",size:40,isAnimated:!1})}),(0,u.jsxs)(G.default,{style:or.itemInfo,children:[(0,u.jsx)(ee.default,{style:or.itemName,children:"Emerald"}),(0,u.jsx)(ee.default,{style:or.itemDesc,children:"+50 points, +5 coins"})]})]}),(0,u.jsxs)(G.default,{style:or.itemRow,children:[(0,u.jsx)(G.default,{style:or.itemDisplay,children:(0,u.jsx)(nr,{type:"diamond",size:40,isAnimated:!1})}),(0,u.jsxs)(G.default,{style:or.itemInfo,children:[(0,u.jsx)(ee.default,{style:or.itemName,children:"Diamond"}),(0,u.jsx)(ee.default,{style:or.itemDesc,children:"+100 points, +10 coins"})]})]}),(0,u.jsxs)(G.default,{style:or.itemRow,children:[(0,u.jsx)(G.default,{style:or.itemDisplay,children:(0,u.jsx)(nr,{type:"nugget",size:40,isAnimated:!1})}),(0,u.jsxs)(G.default,{style:or.itemInfo,children:[(0,u.jsx)(ee.default,{style:or.itemName,children:"Gold Nugget"}),(0,u.jsx)(ee.default,{style:or.itemDesc,children:"+25 points, +3 coins"})]})]}),(0,u.jsxs)(G.default,{style:or.itemRow,children:[(0,u.jsx)(G.default,{style:or.itemDisplay,children:(0,u.jsx)(nr,{type:"mystery",size:40,isAnimated:!1})}),(0,u.jsxs)(G.default,{style:or.itemInfo,children:[(0,u.jsx)(ee.default,{style:or.itemName,children:"Mystery Box"}),(0,u.jsx)(ee.default,{style:or.itemDesc,children:"Random reward or power-up"})]})]})]}),(0,u.jsxs)(G.default,{style:or.section,children:[(0,u.jsx)(ee.default,{style:or.sectionTitle,children:"\u26a0\ufe0f Dangers"}),(0,u.jsxs)(G.default,{style:or.itemRow,children:[(0,u.jsx)(G.default,{style:or.itemDisplay,children:(0,u.jsx)(nr,{type:"bomb",size:40,isAnimated:!1})}),(0,u.jsxs)(G.default,{style:or.itemInfo,children:[(0,u.jsx)(ee.default,{style:or.itemName,children:"Bomb"}),(0,u.jsx)(ee.default,{style:or.itemDesc,children:"-1 life, resets combo"})]})]}),(0,u.jsxs)(G.default,{style:or.warningBox,children:[(0,u.jsx)(fe.default,{name:"warning",size:24,color:"#FF6347"}),(0,u.jsx)(ee.default,{style:or.warningText,children:"Missing items creates blockages on the track that limit your movement!"})]})]}),(0,u.jsxs)(G.default,{style:or.section,children:[(0,u.jsx)(ee.default,{style:or.sectionTitle,children:"\u26a1 Power-ups"}),(0,u.jsxs)(G.default,{style:or.powerupItem,children:[(0,u.jsx)(fe.default,{name:"magnet",size:30,color:"#FFD700"}),(0,u.jsxs)(G.default,{style:or.powerupInfo,children:[(0,u.jsx)(ee.default,{style:or.powerupName,children:"Magnet"}),(0,u.jsx)(ee.default,{style:or.powerupDesc,children:"Attracts nearby items for 10 seconds"})]})]}),(0,u.jsxs)(G.default,{style:or.powerupItem,children:[(0,u.jsx)(fe.default,{name:"shield",size:30,color:"#00BFFF"}),(0,u.jsxs)(G.default,{style:or.powerupInfo,children:[(0,u.jsx)(ee.default,{style:or.powerupName,children:"Shield"}),(0,u.jsx)(ee.default,{style:or.powerupDesc,children:"Protects from one bomb hit"})]})]}),(0,u.jsxs)(G.default,{style:or.powerupItem,children:[(0,u.jsx)(fe.default,{name:"flash",size:30,color:"#FF4500"}),(0,u.jsxs)(G.default,{style:or.powerupInfo,children:[(0,u.jsx)(ee.default,{style:or.powerupName,children:"2x Multiplier"}),(0,u.jsx)(ee.default,{style:or.powerupDesc,children:"Double points and coins for 15 seconds"})]})]})]}),(0,u.jsxs)(G.default,{style:or.section,children:[(0,u.jsx)(ee.default,{style:or.sectionTitle,children:"\ud83d\udca1 Pro Tips"}),(0,u.jsxs)(G.default,{style:or.tipsList,children:[(0,u.jsx)(ee.default,{style:or.tip,children:"\u2022 Build combos by collecting items consecutively"}),(0,u.jsx)(ee.default,{style:or.tip,children:"\u2022 Clear blockages with power-ups or special abilities"}),(0,u.jsx)(ee.default,{style:or.tip,children:"\u2022 Higher levels mean faster falling items"}),(0,u.jsx)(ee.default,{style:or.tip,children:"\u2022 Save coins to buy continues and upgrades"}),(0,u.jsx)(ee.default,{style:or.tip,children:"\u2022 Complete daily challenges for bonus rewards"})]})]}),(0,u.jsxs)(G.default,{style:or.section,children:[(0,u.jsx)(ee.default,{style:or.sectionTitle,children:"\u2764\ufe0f Lives System"}),(0,u.jsx)(ee.default,{style:or.description,children:"You start with 5 lives. Lives regenerate 1 every 20 minutes. Watch ads or use coins to get extra lives instantly!"})]}),(0,u.jsx)(de.default,{style:or.playButton,onPress:function(){return t.navigate("Game")},children:(0,u.jsx)(re.LinearGradient,{colors:["#FFD700","#FFA500"],style:or.playButtonGradient,children:(0,u.jsx)(ee.default,{style:or.playButtonText,children:"Start Playing!"})})}),(0,u.jsx)(G.default,{style:{height:50}})]})]})}var or=q.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",paddingTop:50,paddingHorizontal:20,paddingBottom:20},backButton:{padding:10},title:{fontSize:28,fontWeight:"bold",color:"#FFD700",marginLeft:20},content:{flex:1,paddingHorizontal:20},section:{marginBottom:30,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:15,padding:20},sectionTitle:{fontSize:22,fontWeight:"bold",color:"#FFD700",marginBottom:15},description:{fontSize:16,color:"#FFFFFF",lineHeight:24,opacity:.9},controlItem:{flexDirection:"row",alignItems:"center",marginBottom:15},controlText:{fontSize:16,color:"#FFFFFF",marginLeft:15,flex:1},bold:{fontWeight:"bold",color:"#FFD700"},itemRow:{flexDirection:"row",alignItems:"center",marginBottom:15,paddingVertical:10,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},itemDisplay:{width:50,alignItems:"center"},itemInfo:{marginLeft:20,flex:1},itemName:{fontSize:16,fontWeight:"bold",color:"#FFFFFF"},itemDesc:{fontSize:14,color:"#FFD700",marginTop:2},warningBox:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 99, 71, 0.2)",borderRadius:10,padding:15,marginTop:10},warningText:{fontSize:14,color:"#FF6347",marginLeft:10,flex:1},powerupItem:{flexDirection:"row",alignItems:"center",marginBottom:15},powerupInfo:{marginLeft:15,flex:1},powerupName:{fontSize:16,fontWeight:"bold",color:"#FFFFFF"},powerupDesc:{fontSize:14,color:"rgba(255, 255, 255, 0.8)",marginTop:2},tipsList:{marginTop:5},tip:{fontSize:15,color:"#FFFFFF",marginBottom:8,lineHeight:22},playButton:{marginVertical:20},playButtonGradient:{paddingVertical:18,borderRadius:30,alignItems:"center"},playButtonText:{fontSize:20,fontWeight:"bold",color:"#2C1810"}}),ar=function(){function e(){(0,K.default)(this,e),this.soundEffects=[],this.backgroundMusic=[],this.isMuted=!1,this.currentMusic=null,this.initializeSounds()}return(0,Q.default)(e,[{key:"initializeSounds",value:function(){this.soundEffects=[{id:"coin_catch",name:"Coin Catch",category:"coin",source:"freesound",url:"https://freesound.org/data/previews/320/320181_5121231-lq.mp3",volume:.7,loop:!1},{id:"bonus_collected",name:"Bonus Collected",category:"bonus",source:"freesound",url:"https://freesound.org/data/previews/320/320182_5121231-lq.mp3",volume:.8,loop:!1},{id:"game_over",name:"Game Over",category:"game_over",source:"freesound",url:"https://freesound.org/data/previews/320/320183_5121231-lq.mp3",volume:.6,loop:!1},{id:"ui_tap",name:"UI Tap",category:"ui",source:"kenney",url:"https://kenney.nl/assets/audio/click.mp3",volume:.5,loop:!1},{id:"powerup_activate",name:"Power-up Activate",category:"bonus",source:"freesound",url:"https://freesound.org/data/previews/320/320184_5121231-lq.mp3",volume:.8,loop:!1},{id:"skin_change",name:"Skin Change",category:"ui",source:"freesound",url:"https://freesound.org/data/previews/320/320185_5121231-lq.mp3",volume:.6,loop:!1},{id:"upgrade_success",name:"Upgrade Success",category:"bonus",source:"freesound",url:"https://freesound.org/data/previews/320/320186_5121231-lq.mp3",volume:.7,loop:!1},{id:"combo_multiplier",name:"Combo Multiplier",category:"bonus",source:"freesound",url:"https://freesound.org/data/previews/320/320187_5121231-lq.mp3",volume:.8,loop:!1}],this.backgroundMusic=[{id:"cave_ambient",name:"Cave Ambient",description:"8-bit ambient cave music for gold mining atmosphere",source:"pixabay",url:"https://pixabay.com/music/download/cave-ambient-8bit-123456.mp3",volume:.4,loop:!0},{id:"gold_rush_theme",name:"Gold Rush Theme",description:"Upbeat 8-bit music for gold rush moments",source:"pixabay",url:"https://pixabay.com/music/download/gold-rush-8bit-123457.mp3",volume:.5,loop:!0},{id:"menu_background",name:"Menu Background",description:"Calm 8-bit music for menus and shop",source:"pixabay",url:"https://pixabay.com/music/download/menu-8bit-123458.mp3",volume:.3,loop:!0}]}},{key:"playSound",value:function(){var e=(0,o.default)(function*(e){if(!this.isMuted)try{var t=this.soundEffects.find(function(t){return t.id===e});if(!t)return void console.log(`Sound not found: ${e}`);console.log(`\ud83c\udfb5 Playing sound: ${t.name}`),yield this.logSoundUsage(e,"effect")}catch(n){console.log("Error playing sound:",n)}});return function(t){return e.apply(this,arguments)}}()},{key:"playMusic",value:function(){var e=(0,o.default)(function*(e){if(!this.isMuted)try{var t=this.backgroundMusic.find(function(t){return t.id===e});if(!t)return void console.log(`Music not found: ${e}`);this.currentMusic&&(yield this.stopMusic()),this.currentMusic=e,console.log(`\ud83c\udfb5 Playing music: ${t.name}`),yield this.logMusicUsage(e)}catch(n){console.log("Error playing music:",n)}});return function(t){return e.apply(this,arguments)}}()},{key:"stopMusic",value:function(){var e=(0,o.default)(function*(){if(this.currentMusic)try{console.log("\ud83c\udfb5 Music stopped"),this.currentMusic=null}catch(e){console.log("Error stopping music:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"toggleMute",value:function(){return this.isMuted=!this.isMuted,this.isMuted&&this.stopMusic(),console.log("\ud83d\udd07 Sound "+(this.isMuted?"muted":"unmuted")),this.isMuted}},{key:"setVolume",value:function(e,t){this.soundEffects.filter(function(t){return t.category===e}).forEach(function(e){e.volume=Math.max(0,Math.min(1,t))}),console.log(`\ud83d\udd0a Volume set for ${e}: ${t}`)}},{key:"getSoundEffects",value:function(){return this.soundEffects}},{key:"getBackgroundMusic",value:function(){return this.backgroundMusic}},{key:"getSoundsByCategory",value:function(e){return this.soundEffects.filter(function(t){return t.category===e})}},{key:"logSoundUsage",value:function(){var e=(0,o.default)(function*(e,t){try{yield kn.addPendingAction("analytics",{type:"sound_usage",data:{soundId:e,type:t,timestamp:(new Date).toISOString()}})}catch(n){console.log("Error logging sound usage:",n)}});return function(t,n){return e.apply(this,arguments)}}()},{key:"logMusicUsage",value:function(){var e=(0,o.default)(function*(e){try{yield kn.addPendingAction("analytics",{type:"music_usage",data:{musicId:e,timestamp:(new Date).toISOString()}})}catch(t){console.log("Error logging music usage:",t)}});return function(t){return e.apply(this,arguments)}}()},{key:"preloadSounds",value:function(){var e=(0,o.default)(function*(){try{console.log("\ud83c\udfb5 Preloading sounds..."),console.log("\u2705 Sounds preloaded successfully")}catch(e){console.log("Error preloading sounds:",e)}});return function(){return e.apply(this,arguments)}}()},{key:"getSoundInfo",value:function(e){return this.soundEffects.find(function(t){return t.id===e})||null}},{key:"getMusicInfo",value:function(e){return this.backgroundMusic.find(function(t){return t.id===e})||null}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),ir=function(){function e(){(0,K.default)(this,e),this.progress=null}return(0,Q.default)(e,[{key:"initializeAdRewards",value:function(){var e=(0,o.default)(function*(e){try{var t=yield kn.getOfflineData(e);if(t.adRewards)return this.progress=t.adRewards,this.progress}catch(n){console.log("Error loading ad rewards data:",n)}return this.progress={userId:e,watchedAds:[],totalAdsWatched:0,totalRewardsEarned:{coins:0,gems:0,powerups:0,skins:0},activeCampaigns:this.generateDefaultCampaigns(),dailyAdLimit:10,adsWatchedToday:0,lastAdDate:"",lastUpdated:new Date},yield this.saveAdRewards(),this.progress});return function(t){return e.apply(this,arguments)}}()},{key:"generateDefaultCampaigns",value:function(){return[{id:"daily_coins_campaign",name:"Daily Coin Boost",description:"Watch ads to earn bonus coins",rewards:[{id:"daily_coins_reward",type:"coins",amount:25,rarity:"common",adType:"rewarded",duration:30,cooldown:60,lastWatched:null,available:!0}],requirements:{level:1,coins:0,achievements:[]},active:!0,startDate:new Date,endDate:new Date(Date.now()+31536e6)},{id:"powerup_campaign",name:"Power-up Boost",description:"Watch ads to get free power-ups",rewards:[{id:"magnet_powerup_reward",type:"powerup",amount:1,itemId:"magnet",rarity:"rare",adType:"rewarded",duration:30,cooldown:120,lastWatched:null,available:!0}],requirements:{level:3,coins:100,achievements:["first_combo"]},active:!0,startDate:new Date,endDate:new Date(Date.now()+31536e6)},{id:"multiplier_campaign",name:"Coin Multiplier",description:"Watch ads to get coin multipliers",rewards:[{id:"double_coins_reward",type:"multiplier",amount:2,rarity:"epic",adType:"rewarded",duration:30,cooldown:180,lastWatched:null,available:!0}],requirements:{level:5,coins:500,achievements:["combo_master"]},active:!0,startDate:new Date,endDate:new Date(Date.now()+31536e6)},{id:"skin_campaign",name:"Exclusive Skins",description:"Watch ads to unlock exclusive pot skins",rewards:[{id:"exclusive_skin_reward",type:"skin",amount:1,itemId:"ad_exclusive_skin",rarity:"legendary",adType:"rewarded",duration:45,cooldown:1440,lastWatched:null,available:!0}],requirements:{level:10,coins:1e3,achievements:["obstacle_avoider"]},active:!0,startDate:new Date,endDate:new Date(Date.now()+31536e6)}]}},{key:"watchAd",value:function(){var e=(0,o.default)(function*(e,t){if(!this.progress)return{success:!1,reward:null,rewards:{}};var n=this.progress.activeCampaigns.find(function(t){return t.id===e});if(!n||!n.active)return{success:!1,reward:null,rewards:{}};var r=n.rewards.find(function(e){return e.id===t});if(!r||!r.available)return{success:!1,reward:null,rewards:{}};if(this.progress.adsWatchedToday>=this.progress.dailyAdLimit)return{success:!1,reward:null,rewards:{}};if(r.lastWatched&&Date.now()-r.lastWatched.getTime()<60*r.cooldown*1e3)return{success:!1,reward:null,rewards:{}};switch(r.lastWatched=new Date,this.progress.watchedAds.push(t),this.progress.totalAdsWatched++,this.progress.adsWatchedToday++,r.type){case"coins":this.progress.totalRewardsEarned.coins+=r.amount;break;case"gems":this.progress.totalRewardsEarned.gems+=r.amount;break;case"powerup":this.progress.totalRewardsEarned.powerups+=r.amount;break;case"skin":this.progress.totalRewardsEarned.skins+=r.amount}return yield this.saveAdRewards(),{success:!0,reward:r,rewards:{type:r.type,amount:r.amount,itemId:r.itemId,rarity:r.rarity}}});return function(t,n){return e.apply(this,arguments)}}()},{key:"getAvailableAdRewards",value:function(){var e=this;return this.progress?this.progress.activeCampaigns.filter(function(e){return e.active}).map(function(t){return{campaign:t,rewards:t.rewards.filter(function(t){if(!t.available)return!1;if(t.lastWatched&&Date.now()-t.lastWatched.getTime()<60*t.cooldown*1e3)return!1;return!(e.progress.adsWatchedToday>=e.progress.dailyAdLimit)})}}).filter(function(e){return e.rewards.length>0}):[]}},{key:"getAdStats",value:function(){return this.progress?{totalAdsWatched:this.progress.totalAdsWatched,adsWatchedToday:this.progress.adsWatchedToday,dailyLimit:this.progress.dailyAdLimit,totalRewards:this.progress.totalRewardsEarned}:{totalAdsWatched:0,adsWatchedToday:0,dailyLimit:0,totalRewards:{}}}},{key:"resetDailyAdCount",value:function(){var e=(0,o.default)(function*(){if(this.progress){var e=(new Date).toISOString().split("T")[0];this.progress.lastAdDate!==e&&(this.progress.adsWatchedToday=0,this.progress.lastAdDate=e,yield this.saveAdRewards())}});return function(){return e.apply(this,arguments)}}()},{key:"increaseDailyAdLimit",value:function(){var e=(0,o.default)(function*(e){return!!this.progress&&(this.progress.dailyAdLimit+=e,yield this.saveAdRewards(),!0)});return function(t){return e.apply(this,arguments)}}()},{key:"saveAdRewards",value:function(){var e=(0,o.default)(function*(){if(this.progress)try{yield kn.saveOfflineData(this.progress.userId,{adRewards:this.progress}),yield kn.addPendingAction(this.progress.userId,{type:"ad_rewards_update",data:this.progress})}catch(e){console.log("Error saving ad rewards data:",e)}});return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}])}().getInstance(),lr=ne.default.get("window");lr.width,lr.height;function sr(e){var t=e.visible,n=e.gameData,r=e.onRetry,l=e.onExit,s=e.onUpgrade,c=(0,i.useState)(!1),d=(0,a.default)(c,2),f=d[0],p=d[1],g=(0,i.useState)(!1),h=(0,a.default)(g,2),m=h[0],y=h[1],v=(0,i.useState)([]),b=(0,a.default)(v,2),x=b[0],w=b[1],F=(0,i.useState)(new te.default.Value(0)),S=(0,a.default)(F,1)[0],j=(0,i.useState)(new te.default.Value(100)),k=(0,a.default)(j,1)[0],C=(0,i.useState)(new te.default.Value(.8)),P=(0,a.default)(C,1)[0],D=(0,i.useState)(new te.default.Value(0)),A=(0,a.default)(D,1)[0],I=(0,i.useState)(new te.default.Value(0)),_=(0,a.default)(I,1)[0];(0,i.useEffect)(function(){t?(B(),E()):T()},[t]);var E=function(){te.default.parallel([te.default.timing(S,{toValue:1,duration:500,useNativeDriver:!0}),te.default.spring(k,{toValue:0,tension:50,friction:7,useNativeDriver:!0}),te.default.spring(P,{toValue:1,tension:100,friction:8,useNativeDriver:!0})]).start(),te.default.timing(A,{toValue:n.score,duration:2e3,useNativeDriver:!1}).start(),te.default.timing(_,{toValue:n.coins,duration:1500,useNativeDriver:!1}).start()},T=function(){te.default.parallel([te.default.timing(S,{toValue:0,duration:300,useNativeDriver:!0}),te.default.timing(k,{toValue:100,duration:300,useNativeDriver:!0}),te.default.timing(P,{toValue:.8,duration:300,useNativeDriver:!0})]).start()},B=function(){var e=(0,o.default)(function*(){try{var e=yield ir.checkAdAvailability();y(e.available);var t=yield O();w(t),yield ar.playSound("game_over")}catch(n){console.log("Error loading game over data:",n)}});return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.default)(function*(){var e=[];return n.blockagePercentage>=100&&e.push({type:"pot_upgrade",title:"Upgrade Your Pot",description:"A larger pot can catch more coins!",cost:100,icon:"\ud83d\udd3c"}),n.timeSurvived<60&&e.push({type:"speed_upgrade",title:"Increase Speed",description:"Move faster to avoid obstacles!",cost:150,icon:"\u26a1"}),n.combo<5&&e.push({type:"combo_upgrade",title:"Combo Multiplier",description:"Build longer combos for bonus points!",cost:200,icon:"\ud83d\udd25"}),e});return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,o.default)(function*(){yield ar.playSound("ui_tap"),r()});return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,o.default)(function*(){try{var e=yield ir.showRewardedAd();e.success?(yield ar.playSound("bonus_collected"),Te.default.alert("Bonus Earned!",`You earned ${e.reward} coins!`),p(!0)):Te.default.alert("Ad Failed","Could not load ad. Please try again.")}catch(t){Te.default.alert("Error","Failed to show ad")}});return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,o.default)(function*(e){try{(yield Cn.purchaseUpgrade(e.type)).success?(yield ar.playSound("upgrade_success"),Te.default.alert("Upgrade Successful!",e.title),s()):Te.default.alert("Upgrade Failed","Not enough coins")}catch(t){Te.default.alert("Error","Failed to purchase upgrade")}});return function(t){return e.apply(this,arguments)}}(),R=function(e,t,n){return(0,u.jsxs)(G.default,{style:cr.statItem,children:[(0,u.jsx)(ee.default,{style:cr.statIcon,children:n}),(0,u.jsx)(ee.default,{style:cr.statLabel,children:e}),(0,u.jsx)(ee.default,{style:cr.statValue,children:t})]})};return(0,u.jsxs)(te.default.View,{style:[cr.container,{opacity:S,transform:[{translateY:k},{scale:P}]}],children:[(0,u.jsxs)(G.default,{style:cr.header,children:[(0,u.jsx)(ee.default,{style:cr.gameOverTitle,children:"Game Over"}),(0,u.jsx)(ee.default,{style:cr.gameOverReason,children:function(){switch(n.reason){case"blockage":return"Your pot was blocked by coins!";case"time_limit":return"Time ran out!";case"manual_exit":return"Game ended";default:return"Game Over!"}}()}),(0,u.jsx)(G.default,{style:cr.performanceRating,children:(0,u.jsxs)(ee.default,{style:cr.ratingText,children:["Performance: ",function(){var e=n.score,t=n.timeSurvived,r=n.combo;return e>1e3&&t>120&&r>10?"S":e>500&&t>60&&r>5?"A":e>200&&t>30&&r>3?"B":e>100&&t>15?"C":"D"}()]})})]}),(0,u.jsx)(Ge.default,{style:cr.statsContainer,showsVerticalScrollIndicator:!1,children:(0,u.jsxs)(G.default,{style:cr.statsGrid,children:[R("Score",Math.floor(A),"\ud83c\udfc6"),R("Coins",Math.floor(_),"\ud83d\udcb0"),R("Time",`${n.timeSurvived}s`,"\u23f1\ufe0f"),R("Combo",n.combo,"\ud83d\udd25"),R("Obstacles",n.obstaclesAvoided,"\ud83d\udeab"),R("Power-ups",n.powerUpsUsed,"\u26a1")]})}),x.length>0&&(0,u.jsxs)(G.default,{style:cr.suggestionsContainer,children:[(0,u.jsx)(ee.default,{style:cr.suggestionsTitle,children:"Upgrade Suggestions"}),(0,u.jsx)(Ge.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:x.map(function(e){return(0,u.jsxs)(de.default,{style:cr.suggestionCard,onPress:function(){return z(e)},children:[(0,u.jsx)(ee.default,{style:cr.suggestionIcon,children:e.icon}),(0,u.jsx)(ee.default,{style:cr.suggestionTitle,children:e.title}),(0,u.jsx)(ee.default,{style:cr.suggestionDescription,children:e.description}),(0,u.jsxs)(ee.default,{style:cr.suggestionCost,children:[e.cost," coins"]})]},e.type)})})]}),(0,u.jsxs)(G.default,{style:cr.actionButtons,children:[m&&(0,u.jsx)(de.default,{style:cr.adButton,onPress:L,children:(0,u.jsx)(ee.default,{style:cr.adButtonText,children:"\ud83c\udfac Watch Ad for Bonus"})}),(0,u.jsx)(de.default,{style:cr.retryButton,onPress:U,children:(0,u.jsx)(ee.default,{style:cr.retryButtonText,children:"\ud83d\udd04 Retry"})}),(0,u.jsx)(de.default,{style:cr.exitButton,onPress:l,children:(0,u.jsx)(ee.default,{style:cr.exitButtonText,children:"\u274c Exit"})})]}),f&&(0,u.jsx)(G.default,{style:cr.rewardsOverlay,children:(0,u.jsxs)(G.default,{style:cr.rewardsModal,children:[(0,u.jsx)(ee.default,{style:cr.rewardsTitle,children:"\ud83c\udf89 Bonus Earned!"}),(0,u.jsx)(ee.default,{style:cr.rewardsText,children:"You earned extra coins!"}),(0,u.jsx)(de.default,{style:cr.rewardsButton,onPress:function(){return p(!1)},children:(0,u.jsx)(ee.default,{style:cr.rewardsButtonText,children:"Continue"})})]})})]})}var cr=q.default.create({container:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.9)",justifyContent:"center",alignItems:"center",padding:20},header:{alignItems:"center",marginBottom:30},gameOverTitle:{fontSize:32,fontWeight:"bold",color:"#FF6B6B",marginBottom:10},gameOverReason:{fontSize:18,color:"#fff",textAlign:"center",marginBottom:15},performanceRating:{backgroundColor:"#FFD700",paddingHorizontal:20,paddingVertical:8,borderRadius:20},ratingText:{color:"#1a1a1a",fontSize:16,fontWeight:"bold"},statsContainer:{maxHeight:200,marginBottom:20},statsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},statItem:{alignItems:"center",backgroundColor:"#2a2a2a",padding:15,borderRadius:10,margin:5,minWidth:100,borderWidth:1,borderColor:"#444"},statIcon:{fontSize:24,marginBottom:5},statLabel:{color:"#ccc",fontSize:12,marginBottom:5},statValue:{color:"#FFD700",fontSize:18,fontWeight:"bold"},suggestionsContainer:{marginBottom:20},suggestionsTitle:{color:"#fff",fontSize:18,fontWeight:"bold",marginBottom:10,textAlign:"center"},suggestionCard:{backgroundColor:"#2a2a2a",padding:15,borderRadius:10,marginRight:10,minWidth:150,borderWidth:1,borderColor:"#FFD700"},suggestionIcon:{fontSize:24,textAlign:"center",marginBottom:5},suggestionTitle:{color:"#fff",fontSize:14,fontWeight:"bold",textAlign:"center",marginBottom:5},suggestionDescription:{color:"#ccc",fontSize:12,textAlign:"center",marginBottom:5},suggestionCost:{color:"#FFD700",fontSize:12,fontWeight:"bold",textAlign:"center"},actionButtons:{flexDirection:"row",justifyContent:"space-around",width:"100%"},adButton:{backgroundColor:"#FF6B6B",paddingVertical:12,paddingHorizontal:20,borderRadius:10},adButtonText:{color:"#fff",fontSize:14,fontWeight:"bold"},retryButton:{backgroundColor:"#4CAF50",paddingVertical:12,paddingHorizontal:20,borderRadius:10},retryButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"},exitButton:{backgroundColor:"#666",paddingVertical:12,paddingHorizontal:20,borderRadius:10},exitButtonText:{color:"#fff",fontSize:14,fontWeight:"bold"},rewardsOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center"},rewardsModal:{backgroundColor:"#2a2a2a",padding:30,borderRadius:20,alignItems:"center",borderWidth:2,borderColor:"#FFD700"},rewardsTitle:{color:"#FFD700",fontSize:24,fontWeight:"bold",marginBottom:10},rewardsText:{color:"#fff",fontSize:16,marginBottom:20},rewardsButton:{backgroundColor:"#4CAF50",paddingVertical:12,paddingHorizontal:30,borderRadius:10},rewardsButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"}}),ur=null;if("web"===$.default.OS)ur=n(1463).default;else try{ur=n(7599)}catch(yr){console.log("Sentry not available"),ur=n(1463).default}var dr=new((0,Q.default)(function e(){(0,K.default)(this,e),this.initialized=!1},[{key:"initialize",value:function(){if(!this.initialized&&"web"!==$.default.OS&&ur)try{ur.init({dsn:"YOUR_SENTRY_DSN_HERE",debug:!1,environment:"production",tracesSampleRate:.2,attachStacktrace:!0,attachScreenshot:!0,attachViewHierarchy:!0,beforeSend:function(e,t){return e.user&&delete e.user.ip_address,e},integrations:[new ur.ReactNativeTracing({tracingOrigins:["localhost",/^\//],routingInstrumentation:new ur.ReactNavigationInstrumentation})]}),this.initialized=!0,console.log("Crash reporting initialized successfully")}catch(yr){console.error("Failed to initialize crash reporting:",yr)}else console.log("Crash reporting disabled for web platform")}},{key:"logEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;this.initialized&&ur&&(ur.captureMessage(e,t),n&&ur.setContext("extra_data",n))}},{key:"logException",value:function(e,t){this.initialized&&ur?(t&&ur.setContext("error_context",t),ur.captureException(e)):console.error("Error:",e,t)}},{key:"setUser",value:function(e){this.initialized&&ur&&(e?ur.setUser({id:e.id,email:e.email,username:e.username}):ur.setUser(null))}},{key:"addBreadcrumb",value:function(e,t,n){this.initialized&&ur&&ur.addBreadcrumb({message:e,category:t||"default",level:"info",timestamp:Date.now()/1e3,data:n})}},{key:"startTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"navigation";return this.initialized&&ur?ur.startTransaction({name:e,op:t}):null}},{key:"trackAppPerformance",value:function(){var e=n.g.appStartTime;if(e){var t,r=Date.now()-e;this.logEvent("app_launch","info",{launch_time_ms:r,platform:$.default.OS,version:null==(t=gn.default.manifest)?void 0:t.version})}}},{key:"setCurrentScreen",value:function(e){this.addBreadcrumb(`Navigated to ${e}`,"navigation",{screen:e})}}]));dr.initialize();const fr=dr;function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var gr=(0,s.default)();function hr(){var e=(0,i.useState)(!0),t=(0,a.default)(e,2),n=t[0],r=t[1],s=(0,i.useState)(!0),d=(0,a.default)(s,2),f=d[0],p=d[1],g=(0,i.useState)(!1),h=(0,a.default)(g,2),y=h[0],v=h[1],b=(0,i.useState)(!1),w=(0,a.default)(b,2),F=w[0],S=w[1],k=(0,i.useState)(!1),C=(0,a.default)(k,2),P=C[0],D=C[1],A=(0,i.useState)(""),I=(0,a.default)(A,2),E=I[0],T=I[1],B=(0,i.useState)(!1),O=(0,a.default)(B,2),U=O[0],L=O[1];(0,i.useEffect)(function(){z()},[]);var z=function(){var e=(0,o.default)(function*(){try{fr.initialize(),fr.trackAppPerformance();var e=yield c.default.getItem("legal_accepted"),t=yield c.default.getItem("legal_version_accepted");D(!(!e||"2.0"!==t)),T("2.0");var n=yield X();S(n);var a=yield Z();console.log("Device analytics:",a);var i=(0,x.onAuthStateChanged)(j,function(){var e=(0,o.default)(function*(e){if(e){v(!0),yield lt.loadUserProfile(e.uid);var t=yield lt.checkAdminStatus();L(t),fr.setUser({id:e.uid,email:e.email||void 0,username:e.displayName||void 0}),yield lt.syncOfflineUpdates()}else v(!1),L(!1),fr.setUser(null);r(!1)});return function(t){return e.apply(this,arguments)}}());return function(){return i()}}catch(yr){console.error("App initialization error:",yr),fr.logException(yr,{context:"app_initialization"}),r(!1)}});return function(){return e.apply(this,arguments)}}();return f?(0,u.jsx)(ce,{onComplete:function(){return p(!1)},duration:2500}):n?(0,u.jsx)(G.default,{style:mr.loadingContainer,children:(0,u.jsx)(H.default,{size:"large",color:"#FFD700"})}):(0,u.jsx)(G.default,{style:mr.appContainer,children:(0,u.jsx)(l.default,{children:(0,u.jsx)(W,{children:(0,u.jsx)(_,{children:(0,u.jsx)(m,{children:(0,u.jsx)(gr.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!0,cardStyleInterpolator:function(e){return{cardStyle:{opacity:e.current.progress}}}},children:P?F?y?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(gr.Screen,{name:"Home",component:Ve}),(0,u.jsx)(gr.Screen,{name:"Game",component:Ae}),(0,u.jsx)(gr.Screen,{name:"GameOver",component:sr}),(0,u.jsx)(gr.Screen,{name:"Settings",component:Mt}),(0,u.jsx)(gr.Screen,{name:"Shop",component:$t}),(0,u.jsx)(gr.Screen,{name:"SkinShop",component:dn}),(0,u.jsx)(gr.Screen,{name:"Locker",component:In}),(0,u.jsx)(gr.Screen,{name:"Leaderboard",component:zn}),(0,u.jsx)(gr.Screen,{name:"Stats",component:Mn}),(0,u.jsx)(gr.Screen,{name:"HowToPlay",component:rr}),U&&(0,u.jsx)(gr.Screen,{name:"AdminPanel",component:ct})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(gr.Screen,{name:"Home",component:Ve}),(0,u.jsx)(gr.Screen,{name:"Game",component:Ae}),(0,u.jsx)(gr.Screen,{name:"GameOver",component:sr}),(0,u.jsx)(gr.Screen,{name:"Auth",component:et}),(0,u.jsx)(gr.Screen,{name:"Shop",component:$t}),(0,u.jsx)(gr.Screen,{name:"HowToPlay",component:rr})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(gr.Screen,{name:"Onboarding",component:qn,initialParams:{onComplete:function(){var e=(0,o.default)(function*(){yield c.default.setItem("hasSeenOnboarding","true"),S(!0)});return function(){return e.apply(this,arguments)}}()}}),(0,u.jsx)(gr.Screen,{name:"Home",component:Ve})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(gr.Screen,{name:"LegalAgreement",component:zt,initialParams:{onAccept:function(){var e=(0,o.default)(function*(){yield c.default.setItem("legal_accepted","true"),yield c.default.setItem("legal_version_accepted",E),D(!0)});return function(){return e.apply(this,arguments)}}(),onDecline:function(){alert("You must accept the legal agreements to use Pot of Gold.")}}}),(0,u.jsx)(gr.Screen,{name:"Onboarding",component:qn}),(0,u.jsx)(gr.Screen,{name:"Home",component:Ve}),(0,u.jsx)(gr.Screen,{name:"Game",component:Ae})]})})})})})})})}"undefined"!==typeof globalThis&&(globalThis.appStartTime=Date.now());var mr=q.default.create({appContainer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({flex:1,width:"100%",height:"100%",backgroundColor:"#1a1a2e"},$.default.select({web:{height:"100vh",overflow:"hidden"}})),loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a2e"}})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,o,a]=e[u],l=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every(e=>n.O[e](r[s]))?r.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,l,s]=r,c=0;if(i.some(t=>0!==e[t])){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(s)var u=s(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[695],()=>n(8233));r=n.O(r)})();